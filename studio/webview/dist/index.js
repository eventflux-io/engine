var Ky=Object.defineProperty;var Qy=(e,t,n)=>t in e?Ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Na=(e,t,n)=>Qy(e,typeof t!="symbol"?t+"":t,n);function Sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ep={exports:{}},$s={},kp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),Xy=Symbol.for("react.portal"),qy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),iv=Symbol.for("react.memo"),ov=Symbol.for("react.lazy"),Zc=Symbol.iterator;function sv(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var Cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Tp={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=Tp,this.updater=n||Cp}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=Lr.prototype;function xu(e,t,n){this.props=e,this.context=t,this.refs=Tp,this.updater=n||Cp}var wu=xu.prototype=new bp;wu.constructor=xu;jp(wu,Lr.prototype);wu.isPureReactComponent=!0;var Jc=Array.isArray,Ip=Object.prototype.hasOwnProperty,Nu={current:null},_p={key:!0,ref:!0,__self:!0,__source:!0};function Mp(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Ip.call(t,r)&&!_p.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gi,type:e,key:o,ref:s,props:i,_owner:Nu.current}}function av(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Su(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function lv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ed=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lv(""+e.key):t.toString(36)}function Oo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gi:case Xy:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Sa(s,0):r,Jc(i)?(n="",e!=null&&(n=e.replace(ed,"$&/")+"/"),Oo(i,t,n,"",function(c){return c})):i!=null&&(Su(i)&&(i=av(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ed,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Jc(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Sa(o,a);s+=Oo(o,t,n,l,i)}else if(l=sv(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Sa(o,a++),s+=Oo(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function so(e,t,n){if(e==null)return e;var r=[],i=0;return Oo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function uv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},Lo={transition:null},cv={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Nu};function Pp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:so,forEach:function(e,t,n){so(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!Su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Lr;te.Fragment=qy;te.Profiler=Jy;te.PureComponent=xu;te.StrictMode=Zy;te.Suspense=rv;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;te.act=Pp;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Nu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ip.call(t,l)&&!_p.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gi,type:e.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(e){return e={$$typeof:tv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ev,_context:e},e.Consumer=e};te.createElement=Mp;te.createFactory=function(e){var t=Mp.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:nv,render:e}};te.isValidElement=Su;te.lazy=function(e){return{$$typeof:ov,_payload:{_status:-1,_result:e},_init:uv}};te.memo=function(e,t){return{$$typeof:iv,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};te.unstable_act=Pp;te.useCallback=function(e,t){return De.current.useCallback(e,t)};te.useContext=function(e){return De.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return De.current.useDeferredValue(e)};te.useEffect=function(e,t){return De.current.useEffect(e,t)};te.useId=function(){return De.current.useId()};te.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return De.current.useMemo(e,t)};te.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};te.useRef=function(e){return De.current.useRef(e)};te.useState=function(e){return De.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return De.current.useTransition()};te.version="18.3.1";kp.exports=te;var I=kp.exports;const Lt=Sp(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=I,fv=Symbol.for("react.element"),pv=Symbol.for("react.fragment"),hv=Object.prototype.hasOwnProperty,mv=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gv={key:!0,ref:!0,__self:!0,__source:!0};function Rp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)hv.call(t,r)&&!gv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fv,type:e,key:o,ref:s,props:i,_owner:mv.current}}$s.Fragment=pv;$s.jsx=Rp;$s.jsxs=Rp;Ep.exports=$s;var u=Ep.exports,fl={},Ap={exports:{}},Je={},Op={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var R=C.length;C.push(T);e:for(;0<R;){var D=R-1>>>1,z=C[D];if(0<i(z,T))C[D]=T,C[R]=z,R=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var T=C[0],R=C.pop();if(R!==T){C[0]=R;e:for(var D=0,z=C.length,B=z>>>1;D<B;){var H=2*(D+1)-1,U=C[H],Y=H+1,Q=C[Y];if(0>i(U,R))Y<z&&0>i(Q,U)?(C[D]=Q,C[Y]=R,D=Y):(C[D]=U,C[H]=R,D=H);else if(Y<z&&0>i(Q,R))C[D]=Q,C[Y]=R,D=Y;else break e}}return T}function i(C,T){var R=C.sortIndex-T.sortIndex;return R!==0?R:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,d=null,p=3,y=!1,x=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=C)r(c),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(c)}}function w(C){if(v=!1,m(C),!x)if(n(l)!==null)x=!0,_(S);else{var T=n(c);T!==null&&$(w,T.startTime-C)}}function S(C,T){x=!1,v&&(v=!1,h(b),b=-1),y=!0;var R=p;try{for(m(T),d=n(l);d!==null&&(!(d.expirationTime>T)||C&&!A());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var z=D(d.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),m(T)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var H=n(c);H!==null&&$(w,H.startTime-T),B=!1}return B}finally{d=null,p=R,y=!1}}var E=!1,k=null,b=-1,P=5,L=-1;function A(){return!(e.unstable_now()-L<P)}function O(){if(k!==null){var C=e.unstable_now();L=C;var T=!0;try{T=k(!0,C)}finally{T?F():(E=!1,k=null)}}else E=!1}var F;if(typeof g=="function")F=function(){g(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,M=j.port2;j.port1.onmessage=O,F=function(){M.postMessage(null)}}else F=function(){N(O,0)};function _(C){k=C,E||(E=!0,F())}function $(C,T){b=N(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,_(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var R=p;p=T;try{return C()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=p;p=C;try{return T()}finally{p=R}},e.unstable_scheduleCallback=function(C,T,R){var D=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=R+z,C={id:f++,callback:T,priorityLevel:C,startTime:R,expirationTime:z,sortIndex:-1},R>D?(C.sortIndex=R,t(c,C),n(l)===null&&C===n(c)&&(v?(h(b),b=-1):v=!0,$(w,R-D))):(C.sortIndex=z,t(l,C),x||y||(x=!0,_(S))),C},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(C){var T=p;return function(){var R=p;p=T;try{return C.apply(this,arguments)}finally{p=R}}}})(Lp);Op.exports=Lp;var yv=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=I,qe=yv;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $p=new Set,xi={};function Wn(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(xi[e]=t,e=0;e<t.length;e++)$p.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,xv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,td={},nd={};function wv(e){return pl.call(nd,e)?!0:pl.call(td,e)?!1:xv.test(e)?nd[e]=!0:(td[e]=!0,!1)}function Nv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sv(e,t,n,r){if(t===null||typeof t>"u"||Nv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eu=/[\-:]([a-z])/g;function ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eu,ku);_e[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eu,ku);_e[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eu,ku);_e[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cu(e,t,n,r){var i=_e.hasOwnProperty(t)?_e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sv(t,n,i,r)&&(n=null),r||i===null?wv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ao=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),ju=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),bu=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Fp=Symbol.for("react.offscreen"),rd=Symbol.iterator;function Vr(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Ea;function ei(e){if(Ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var ka=!1;function Ca(e,t){if(!e||ka)return"";ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{ka=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ei(e):""}function Ev(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=Ca(e.type,!1),e;case 11:return e=Ca(e.type.render,!1),e;case 1:return e=Ca(e.type,!0),e;default:return""}}function yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Zn:return"Portal";case hl:return"Profiler";case ju:return"StrictMode";case ml:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zp:return(e.displayName||"Context")+".Consumer";case Dp:return(e._context.displayName||"Context")+".Provider";case Tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bu:return t=e.displayName||null,t!==null?t:yl(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return yl(e(t))}catch{}}return null}function kv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(t);case 8:return t===ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cv(e){var t=Bp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=Cv(e))}function Hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function id(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vp(e,t){t=t.checked,t!=null&&Cu(e,"checked",t,!1)}function xl(e,t){Vp(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wl(e,t.type,n):t.hasOwnProperty("defaultValue")&&wl(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function od(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wl(e,t,n){(t!=="number"||Zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ti=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(ti(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function Up(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ad(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Gp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jv=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){jv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function Yp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function Kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Tv=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(Tv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function Iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jl=null,hr=null,mr=null;function ld(e){if(e=Qi(e)){if(typeof jl!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Hs(t),jl(e.stateNode,e.type,t))}}function Qp(e){hr?mr?mr.push(e):mr=[e]:hr=e}function Xp(){if(hr){var e=hr,t=mr;if(mr=hr=null,ld(e),t)for(e=0;e<t.length;e++)ld(t[e])}}function qp(e,t){return e(t)}function Zp(){}var ja=!1;function Jp(e,t,n){if(ja)return e(t,n);ja=!0;try{return qp(e,t,n)}finally{ja=!1,(hr!==null||mr!==null)&&(Zp(),Xp())}}function Ni(e,t){var n=e.stateNode;if(n===null)return null;var r=Hs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Tl=!1;if(zt)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Tl=!1}function bv(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var li=!1,Jo=null,es=!1,bl=null,Iv={onError:function(e){li=!0,Jo=e}};function _v(e,t,n,r,i,o,s,a,l){li=!1,Jo=null,bv.apply(Iv,arguments)}function Mv(e,t,n,r,i,o,s,a,l){if(_v.apply(this,arguments),li){if(li){var c=Jo;li=!1,Jo=null}else throw Error(V(198));es||(es=!0,bl=c)}}function Gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ud(e){if(Gn(e)!==e)throw Error(V(188))}function Pv(e){var t=e.alternate;if(!t){if(t=Gn(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ud(i),e;if(o===r)return ud(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function th(e){return e=Pv(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nh(e);if(t!==null)return t;e=e.sibling}return null}var rh=qe.unstable_scheduleCallback,cd=qe.unstable_cancelCallback,Rv=qe.unstable_shouldYield,Av=qe.unstable_requestPaint,we=qe.unstable_now,Ov=qe.unstable_getCurrentPriorityLevel,_u=qe.unstable_ImmediatePriority,ih=qe.unstable_UserBlockingPriority,ts=qe.unstable_NormalPriority,Lv=qe.unstable_LowPriority,oh=qe.unstable_IdlePriority,Ds=null,Et=null;function $v(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Fv,Dv=Math.log,zv=Math.LN2;function Fv(e){return e>>>=0,e===0?32:31-(Dv(e)/zv|0)|0}var co=64,fo=4194304;function ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ni(a):(o&=s,o!==0&&(r=ni(o)))}else s=n&~i,s!==0?r=ni(s):o!==0&&(r=ni(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),i=1<<n,r|=e[n],t&=~i;return r}function Bv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-mt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Bv(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sh(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function Ta(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Vv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Mu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ae=0;function ah(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lh,Pu,uh,ch,dh,_l=!1,po=[],an=null,ln=null,un=null,Si=new Map,Ei=new Map,tn=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function Wr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Qi(t),t!==null&&Pu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wv(e,t,n,r,i){switch(t){case"focusin":return an=Wr(an,e,t,n,r,i),!0;case"dragenter":return ln=Wr(ln,e,t,n,r,i),!0;case"mouseover":return un=Wr(un,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Si.set(o,Wr(Si.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ei.set(o,Wr(Ei.get(o)||null,e,t,n,r,i)),!0}return!1}function fh(e){var t=jn(e.target);if(t!==null){var n=Gn(t);if(n!==null){if(t=n.tag,t===13){if(t=eh(n),t!==null){e.blockedOn=t,dh(e.priority,function(){uh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cl=r,n.target.dispatchEvent(r),Cl=null}else return t=Qi(n),t!==null&&Pu(t),e.blockedOn=n,!1;t.shift()}return!0}function fd(e,t,n){$o(e)&&n.delete(t)}function Gv(){_l=!1,an!==null&&$o(an)&&(an=null),ln!==null&&$o(ln)&&(ln=null),un!==null&&$o(un)&&(un=null),Si.forEach(fd),Ei.forEach(fd)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,_l||(_l=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Gv)))}function ki(e){function t(i){return Gr(i,e)}if(0<po.length){Gr(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(an!==null&&Gr(an,e),ln!==null&&Gr(ln,e),un!==null&&Gr(un,e),Si.forEach(t),Ei.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)fh(n),n.blockedOn===null&&tn.shift()}var gr=Wt.ReactCurrentBatchConfig,rs=!0;function Yv(e,t,n,r){var i=ae,o=gr.transition;gr.transition=null;try{ae=1,Ru(e,t,n,r)}finally{ae=i,gr.transition=o}}function Kv(e,t,n,r){var i=ae,o=gr.transition;gr.transition=null;try{ae=4,Ru(e,t,n,r)}finally{ae=i,gr.transition=o}}function Ru(e,t,n,r){if(rs){var i=Ml(e,t,n,r);if(i===null)$a(e,t,r,is,n),dd(e,r);else if(Wv(i,e,t,n,r))r.stopPropagation();else if(dd(e,r),t&4&&-1<Uv.indexOf(e)){for(;i!==null;){var o=Qi(i);if(o!==null&&lh(o),o=Ml(e,t,n,r),o===null&&$a(e,t,r,is,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $a(e,t,r,null,n)}}var is=null;function Ml(e,t,n,r){if(is=null,e=Iu(r),e=jn(e),e!==null)if(t=Gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return is=e,null}function ph(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ov()){case _u:return 1;case ih:return 4;case ts:case Lv:return 16;case oh:return 536870912;default:return 16}default:return 16}}var on=null,Au=null,Do=null;function hh(){if(Do)return Do;var e,t=Au,n=t.length,r,i="value"in on?on.value:on.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Do=i.slice(e,1<r?1-r:void 0)}function zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function pd(){return!1}function et(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ho:pd,this.isPropagationStopped=pd,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=et($r),Ki=ve({},$r,{view:0,detail:0}),Qv=et(Ki),ba,Ia,Yr,zs=ve({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(ba=e.screenX-Yr.screenX,Ia=e.screenY-Yr.screenY):Ia=ba=0,Yr=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),hd=et(zs),Xv=ve({},zs,{dataTransfer:0}),qv=et(Xv),Zv=ve({},Ki,{relatedTarget:0}),_a=et(Zv),Jv=ve({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=et(Jv),tx=ve({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=et(tx),rx=ve({},$r,{data:0}),md=et(rx),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sx[e])?!!t[e]:!1}function Lu(){return ax}var lx=ve({},Ki,{key:function(e){if(e.key){var t=ix[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=et(lx),cx=ve({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=et(cx),dx=ve({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),fx=et(dx),px=ve({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=et(px),mx=ve({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=et(mx),yx=[9,13,27,32],$u=zt&&"CompositionEvent"in window,ui=null;zt&&"documentMode"in document&&(ui=document.documentMode);var vx=zt&&"TextEvent"in window&&!ui,mh=zt&&(!$u||ui&&8<ui&&11>=ui),yd=" ",vd=!1;function gh(e,t){switch(e){case"keyup":return yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function xx(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(vd=!0,yd);case"textInput":return e=t.data,e===yd&&vd?null:e;default:return null}}function wx(e,t){if(er)return e==="compositionend"||!$u&&gh(e,t)?(e=hh(),Do=Au=on=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mh&&t.locale!=="ko"?null:t.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nx[e.type]:t==="textarea"}function vh(e,t,n,r){Qp(r),t=os(t,"onChange"),0<t.length&&(n=new Ou("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ci=null,Ci=null;function Sx(e){Ih(e,0)}function Fs(e){var t=rr(e);if(Hp(t))return e}function Ex(e,t){if(e==="change")return t}var xh=!1;if(zt){var Ma;if(zt){var Pa="oninput"in document;if(!Pa){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Pa=typeof wd.oninput=="function"}Ma=Pa}else Ma=!1;xh=Ma&&(!document.documentMode||9<document.documentMode)}function Nd(){ci&&(ci.detachEvent("onpropertychange",wh),Ci=ci=null)}function wh(e){if(e.propertyName==="value"&&Fs(Ci)){var t=[];vh(t,Ci,e,Iu(e)),Jp(Sx,t)}}function kx(e,t,n){e==="focusin"?(Nd(),ci=t,Ci=n,ci.attachEvent("onpropertychange",wh)):e==="focusout"&&Nd()}function Cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Ci)}function jx(e,t){if(e==="click")return Fs(t)}function Tx(e,t){if(e==="input"||e==="change")return Fs(t)}function bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:bx;function ji(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pl.call(t,i)||!yt(e[i],t[i]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var n=Sd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sd(n)}}function Nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(){for(var e=window,t=Zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zo(e.document)}return t}function Du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ix(e){var t=Sh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nh(n.ownerDocument.documentElement,n)){if(r!==null&&Du(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ed(n,o);var s=Ed(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _x=zt&&"documentMode"in document&&11>=document.documentMode,tr=null,Pl=null,di=null,Rl=!1;function kd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rl||tr==null||tr!==Zo(r)||(r=tr,"selectionStart"in r&&Du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),di&&ji(di,r)||(di=r,r=os(Pl,"onSelect"),0<r.length&&(t=new Ou("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=tr)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nr={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Ra={},Eh={};zt&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function Bs(e){if(Ra[e])return Ra[e];if(!nr[e])return e;var t=nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eh)return Ra[e]=t[n];return e}var kh=Bs("animationend"),Ch=Bs("animationiteration"),jh=Bs("animationstart"),Th=Bs("transitionend"),bh=new Map,Cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){bh.set(e,t),Wn(t,[e])}for(var Aa=0;Aa<Cd.length;Aa++){var Oa=Cd[Aa],Mx=Oa.toLowerCase(),Px=Oa[0].toUpperCase()+Oa.slice(1);vn(Mx,"on"+Px)}vn(kh,"onAnimationEnd");vn(Ch,"onAnimationIteration");vn(jh,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(Th,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mv(r,t,void 0,e),e.currentTarget=null}function Ih(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jd(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jd(i,a,c),o=l}}}if(es)throw e=bl,es=!1,bl=null,e}function de(e,t){var n=t[Dl];n===void 0&&(n=t[Dl]=new Set);var r=e+"__bubble";n.has(r)||(_h(t,e,2,!1),n.add(r))}function La(e,t,n){var r=0;t&&(r|=4),_h(n,e,r,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[go]){e[go]=!0,$p.forEach(function(n){n!=="selectionchange"&&(Rx.has(n)||La(n,!1,e),La(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,La("selectionchange",!1,t))}}function _h(e,t,n,r){switch(ph(t)){case 1:var i=Yv;break;case 4:i=Kv;break;default:i=Ru}n=i.bind(null,t,n,e),i=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $a(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=jn(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Jp(function(){var c=o,f=Iu(n),d=[];e:{var p=bh.get(e);if(p!==void 0){var y=Ou,x=e;switch(e){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":y=ux;break;case"focusin":x="focus",y=_a;break;case"focusout":x="blur",y=_a;break;case"beforeblur":case"afterblur":y=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fx;break;case kh:case Ch:case jh:y=ex;break;case Th:y=hx;break;case"scroll":y=Qv;break;case"wheel":y=gx;break;case"copy":case"cut":case"paste":y=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gd}var v=(t&4)!==0,N=!v&&e==="scroll",h=v?p!==null?p+"Capture":null:p;v=[];for(var g=c,m;g!==null;){m=g;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,h!==null&&(w=Ni(g,h),w!=null&&v.push(bi(g,w,m)))),N)break;g=g.return}0<v.length&&(p=new y(p,x,null,n,f),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Cl&&(x=n.relatedTarget||n.fromElement)&&(jn(x)||x[Ft]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?jn(x):null,x!==null&&(N=Gn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(v=hd,w="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=gd,w="onPointerLeave",h="onPointerEnter",g="pointer"),N=y==null?p:rr(y),m=x==null?p:rr(x),p=new v(w,g+"leave",y,n,f),p.target=N,p.relatedTarget=m,w=null,jn(f)===c&&(v=new v(h,g+"enter",x,n,f),v.target=m,v.relatedTarget=N,w=v),N=w,y&&x)t:{for(v=y,h=x,g=0,m=v;m;m=Qn(m))g++;for(m=0,w=h;w;w=Qn(w))m++;for(;0<g-m;)v=Qn(v),g--;for(;0<m-g;)h=Qn(h),m--;for(;g--;){if(v===h||h!==null&&v===h.alternate)break t;v=Qn(v),h=Qn(h)}v=null}else v=null;y!==null&&Td(d,p,y,v,!1),x!==null&&N!==null&&Td(d,N,x,v,!0)}}e:{if(p=c?rr(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var S=Ex;else if(xd(p))if(xh)S=Tx;else{S=Cx;var E=kx}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=jx);if(S&&(S=S(e,c))){vh(d,S,n,f);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&wl(p,"number",p.value)}switch(E=c?rr(c):window,e){case"focusin":(xd(E)||E.contentEditable==="true")&&(tr=E,Pl=c,di=null);break;case"focusout":di=Pl=tr=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,kd(d,n,f);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":kd(d,n,f)}var k;if($u)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else er?gh(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(mh&&n.locale!=="ko"&&(er||b!=="onCompositionStart"?b==="onCompositionEnd"&&er&&(k=hh()):(on=f,Au="value"in on?on.value:on.textContent,er=!0)),E=os(c,b),0<E.length&&(b=new md(b,e,null,n,f),d.push({event:b,listeners:E}),k?b.data=k:(k=yh(n),k!==null&&(b.data=k)))),(k=vx?xx(e,n):wx(e,n))&&(c=os(c,"onBeforeInput"),0<c.length&&(f=new md("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=k))}Ih(d,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function os(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ni(e,n),o!=null&&r.unshift(bi(e,o,i)),o=Ni(e,t),o!=null&&r.push(bi(e,o,i))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Td(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ni(n,o),l!=null&&s.unshift(bi(n,l,a))):i||(l=Ni(n,o),l!=null&&s.push(bi(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ax=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(Ax,`
`).replace(Ox,"")}function yo(e,t,n){if(t=bd(t),bd(e)!==t&&n)throw Error(V(425))}function ss(){}var Al=null,Ol=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,Id=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof Id<"u"?function(e){return Id.resolve(null).then(e).catch(Dx)}:$l;function Dx(e){setTimeout(function(){throw e})}function Da(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ki(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ki(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),St="__reactFiber$"+Dr,Ii="__reactProps$"+Dr,Ft="__reactContainer$"+Dr,Dl="__reactEvents$"+Dr,zx="__reactListeners$"+Dr,Fx="__reactHandles$"+Dr;function jn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_d(e);e!==null;){if(n=e[St])return n;e=_d(e)}return t}e=n,n=e.parentNode}return null}function Qi(e){return e=e[St]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Hs(e){return e[Ii]||null}var zl=[],ir=-1;function xn(e){return{current:e}}function fe(e){0>ir||(e.current=zl[ir],zl[ir]=null,ir--)}function ue(e,t){ir++,zl[ir]=e.current,e.current=t}var yn={},Oe=xn(yn),Ve=xn(!1),An=yn;function Sr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(e){return e=e.childContextTypes,e!=null}function as(){fe(Ve),fe(Oe)}function Md(e,t,n){if(Oe.current!==yn)throw Error(V(168));ue(Oe,t),ue(Ve,n)}function Mh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,kv(e)||"Unknown",i));return ve({},n,r)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,An=Oe.current,ue(Oe,e),ue(Ve,Ve.current),!0}function Pd(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Mh(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,fe(Ve),fe(Oe),ue(Oe,e)):fe(Ve),ue(Ve,n)}var Pt=null,Vs=!1,za=!1;function Ph(e){Pt===null?Pt=[e]:Pt.push(e)}function Bx(e){Vs=!0,Ph(e)}function wn(){if(!za&&Pt!==null){za=!0;var e=0,t=ae;try{var n=Pt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pt=null,Vs=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(e+1)),rh(_u,wn),i}finally{ae=t,za=!1}}return null}var or=[],sr=0,us=null,cs=0,tt=[],nt=0,On=null,Rt=1,At="";function En(e,t){or[sr++]=cs,or[sr++]=us,us=e,cs=t}function Rh(e,t,n){tt[nt++]=Rt,tt[nt++]=At,tt[nt++]=On,On=e;var r=Rt;e=At;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var o=32-mt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Rt=1<<32-mt(t)+i|n<<i|r,At=o+e}else Rt=1<<o|n<<i|r,At=e}function zu(e){e.return!==null&&(En(e,1),Rh(e,1,0))}function Fu(e){for(;e===us;)us=or[--sr],or[sr]=null,cs=or[--sr],or[sr]=null;for(;e===On;)On=tt[--nt],tt[nt]=null,At=tt[--nt],tt[nt]=null,Rt=tt[--nt],tt[nt]=null}var Xe=null,Qe=null,pe=!1,dt=null;function Ah(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Rt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Qe=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(pe){var t=Qe;if(t){var n=t;if(!Rd(e,t)){if(Fl(e))throw Error(V(418));t=cn(n.nextSibling);var r=Xe;t&&Rd(e,t)?Ah(r,n):(e.flags=e.flags&-4097|2,pe=!1,Xe=e)}}else{if(Fl(e))throw Error(V(418));e.flags=e.flags&-4097|2,pe=!1,Xe=e}}}function Ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function vo(e){if(e!==Xe)return!1;if(!pe)return Ad(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=Qe)){if(Fl(e))throw Oh(),Error(V(418));for(;t;)Ah(e,t),t=cn(t.nextSibling)}if(Ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Xe?cn(e.stateNode.nextSibling):null;return!0}function Oh(){for(var e=Qe;e;)e=cn(e.nextSibling)}function Er(){Qe=Xe=null,pe=!1}function Bu(e){dt===null?dt=[e]:dt.push(e)}var Hx=Wt.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Od(e){var t=e._init;return t(e._payload)}function Lh(e){function t(h,g){if(e){var m=h.deletions;m===null?(h.deletions=[g],h.flags|=16):m.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=hn(h,g),h.index=0,h.sibling=null,h}function o(h,g,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<g?(h.flags|=2,g):m):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,m,w){return g===null||g.tag!==6?(g=Ga(m,h.mode,w),g.return=h,g):(g=i(g,m),g.return=h,g)}function l(h,g,m,w){var S=m.type;return S===Jn?f(h,g,m.props.children,w,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Od(S)===g.type)?(w=i(g,m.props),w.ref=Kr(h,g,m),w.return=h,w):(w=Go(m.type,m.key,m.props,null,h.mode,w),w.ref=Kr(h,g,m),w.return=h,w)}function c(h,g,m,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ya(m,h.mode,w),g.return=h,g):(g=i(g,m.children||[]),g.return=h,g)}function f(h,g,m,w,S){return g===null||g.tag!==7?(g=Mn(m,h.mode,w,S),g.return=h,g):(g=i(g,m),g.return=h,g)}function d(h,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ga(""+g,h.mode,m),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ao:return m=Go(g.type,g.key,g.props,null,h.mode,m),m.ref=Kr(h,null,g),m.return=h,m;case Zn:return g=Ya(g,h.mode,m),g.return=h,g;case Jt:var w=g._init;return d(h,w(g._payload),m)}if(ti(g)||Vr(g))return g=Mn(g,h.mode,m,null),g.return=h,g;xo(h,g)}return null}function p(h,g,m,w){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(h,g,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ao:return m.key===S?l(h,g,m,w):null;case Zn:return m.key===S?c(h,g,m,w):null;case Jt:return S=m._init,p(h,g,S(m._payload),w)}if(ti(m)||Vr(m))return S!==null?null:f(h,g,m,w,null);xo(h,m)}return null}function y(h,g,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(m)||null,a(g,h,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ao:return h=h.get(w.key===null?m:w.key)||null,l(g,h,w,S);case Zn:return h=h.get(w.key===null?m:w.key)||null,c(g,h,w,S);case Jt:var E=w._init;return y(h,g,m,E(w._payload),S)}if(ti(w)||Vr(w))return h=h.get(m)||null,f(g,h,w,S,null);xo(g,w)}return null}function x(h,g,m,w){for(var S=null,E=null,k=g,b=g=0,P=null;k!==null&&b<m.length;b++){k.index>b?(P=k,k=null):P=k.sibling;var L=p(h,k,m[b],w);if(L===null){k===null&&(k=P);break}e&&k&&L.alternate===null&&t(h,k),g=o(L,g,b),E===null?S=L:E.sibling=L,E=L,k=P}if(b===m.length)return n(h,k),pe&&En(h,b),S;if(k===null){for(;b<m.length;b++)k=d(h,m[b],w),k!==null&&(g=o(k,g,b),E===null?S=k:E.sibling=k,E=k);return pe&&En(h,b),S}for(k=r(h,k);b<m.length;b++)P=y(k,h,b,m[b],w),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?b:P.key),g=o(P,g,b),E===null?S=P:E.sibling=P,E=P);return e&&k.forEach(function(A){return t(h,A)}),pe&&En(h,b),S}function v(h,g,m,w){var S=Vr(m);if(typeof S!="function")throw Error(V(150));if(m=S.call(m),m==null)throw Error(V(151));for(var E=S=null,k=g,b=g=0,P=null,L=m.next();k!==null&&!L.done;b++,L=m.next()){k.index>b?(P=k,k=null):P=k.sibling;var A=p(h,k,L.value,w);if(A===null){k===null&&(k=P);break}e&&k&&A.alternate===null&&t(h,k),g=o(A,g,b),E===null?S=A:E.sibling=A,E=A,k=P}if(L.done)return n(h,k),pe&&En(h,b),S;if(k===null){for(;!L.done;b++,L=m.next())L=d(h,L.value,w),L!==null&&(g=o(L,g,b),E===null?S=L:E.sibling=L,E=L);return pe&&En(h,b),S}for(k=r(h,k);!L.done;b++,L=m.next())L=y(k,h,b,L.value,w),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?b:L.key),g=o(L,g,b),E===null?S=L:E.sibling=L,E=L);return e&&k.forEach(function(O){return t(h,O)}),pe&&En(h,b),S}function N(h,g,m,w){if(typeof m=="object"&&m!==null&&m.type===Jn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ao:e:{for(var S=m.key,E=g;E!==null;){if(E.key===S){if(S=m.type,S===Jn){if(E.tag===7){n(h,E.sibling),g=i(E,m.props.children),g.return=h,h=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Od(S)===E.type){n(h,E.sibling),g=i(E,m.props),g.ref=Kr(h,E,m),g.return=h,h=g;break e}n(h,E);break}else t(h,E);E=E.sibling}m.type===Jn?(g=Mn(m.props.children,h.mode,w,m.key),g.return=h,h=g):(w=Go(m.type,m.key,m.props,null,h.mode,w),w.ref=Kr(h,g,m),w.return=h,h=w)}return s(h);case Zn:e:{for(E=m.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(h,g.sibling),g=i(g,m.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Ya(m,h.mode,w),g.return=h,h=g}return s(h);case Jt:return E=m._init,N(h,g,E(m._payload),w)}if(ti(m))return x(h,g,m,w);if(Vr(m))return v(h,g,m,w);xo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(h,g.sibling),g=i(g,m),g.return=h,h=g):(n(h,g),g=Ga(m,h.mode,w),g.return=h,h=g),s(h)):n(h,g)}return N}var kr=Lh(!0),$h=Lh(!1),ds=xn(null),fs=null,ar=null,Hu=null;function Vu(){Hu=ar=fs=null}function Uu(e){var t=ds.current;fe(ds),e._currentValue=t}function Hl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){fs=e,Hu=ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Hu!==e)if(e={context:e,memoizedValue:t,next:null},ar===null){if(fs===null)throw Error(V(308));ar=e,fs.dependencies={lanes:0,firstContext:e}}else ar=ar.next=e;return t}var Tn=null;function Wu(e){Tn===null?Tn=[e]:Tn.push(e)}function Dh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bt(e,n)}return i=r.interleaved,i===null?(t.next=t,Wu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bt(e,n)}function Fo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mu(e,n)}}function Ld(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,r){var i=e.updateQueue;en=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,f=c=l=null,a=o;do{var p=a.lane,y=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(p=t,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(y,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(y,d,p):x,p==null)break e;d=ve({},d,p);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=y,l=d):f=f.next=y,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$n|=s,e.lanes=s,e.memoizedState=d}}function $d(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Xi={},kt=xn(Xi),_i=xn(Xi),Mi=xn(Xi);function bn(e){if(e===Xi)throw Error(V(174));return e}function Yu(e,t){switch(ue(Mi,t),ue(_i,e),ue(kt,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sl(t,e)}fe(kt),ue(kt,t)}function Cr(){fe(kt),fe(_i),fe(Mi)}function Fh(e){bn(Mi.current);var t=bn(kt.current),n=Sl(t,e.type);t!==n&&(ue(_i,e),ue(kt,n))}function Ku(e){_i.current===e&&(fe(kt),fe(_i))}var ge=xn(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=[];function Qu(){for(var e=0;e<Fa.length;e++)Fa[e]._workInProgressVersionPrimary=null;Fa.length=0}var Bo=Wt.ReactCurrentDispatcher,Ba=Wt.ReactCurrentBatchConfig,Ln=0,ye=null,ke=null,je=null,ms=!1,fi=!1,Pi=0,Vx=0;function Pe(){throw Error(V(321))}function Xu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function qu(e,t,n,r,i,o){if(Ln=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?Yx:Kx,e=n(r,i),fi){o=0;do{if(fi=!1,Pi=0,25<=o)throw Error(V(301));o+=1,je=ke=null,t.updateQueue=null,Bo.current=Qx,e=n(r,i)}while(fi)}if(Bo.current=gs,t=ke!==null&&ke.next!==null,Ln=0,je=ke=ye=null,ms=!1,t)throw Error(V(300));return e}function Zu(){var e=Pi!==0;return Pi=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ye.memoizedState=je=e:je=je.next=e,je}function st(){if(ke===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=je===null?ye.memoizedState:je.next;if(t!==null)je=t,ke=e;else{if(e===null)throw Error(V(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},je===null?ye.memoizedState=je=e:je=je.next=e}return je}function Ri(e,t){return typeof t=="function"?t(e):t}function Ha(e){var t=st(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((Ln&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ye.lanes|=f,$n|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,yt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ye.lanes|=o,$n|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Va(e){var t=st(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);yt(o,t.memoizedState)||(Be=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bh(){}function Hh(e,t){var n=ye,r=st(),i=t(),o=!yt(r.memoizedState,i);if(o&&(r.memoizedState=i,Be=!0),r=r.queue,Ju(Wh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Ai(9,Uh.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(V(349));Ln&30||Vh(n,t,i)}return i}function Vh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uh(e,t,n,r){t.value=n,t.getSnapshot=r,Gh(t)&&Yh(e)}function Wh(e,t,n){return n(function(){Gh(t)&&Yh(e)})}function Gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Yh(e){var t=Bt(e,1);t!==null&&gt(t,e,1,-1)}function Dd(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=Gx.bind(null,ye,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Kh(){return st().memoizedState}function Ho(e,t,n,r){var i=wt();ye.flags|=e,i.memoizedState=Ai(1|t,n,void 0,r===void 0?null:r)}function Us(e,t,n,r){var i=st();r=r===void 0?null:r;var o=void 0;if(ke!==null){var s=ke.memoizedState;if(o=s.destroy,r!==null&&Xu(r,s.deps)){i.memoizedState=Ai(t,n,o,r);return}}ye.flags|=e,i.memoizedState=Ai(1|t,n,o,r)}function zd(e,t){return Ho(8390656,8,e,t)}function Ju(e,t){return Us(2048,8,e,t)}function Qh(e,t){return Us(4,2,e,t)}function Xh(e,t){return Us(4,4,e,t)}function qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,qh.bind(null,t,e),n)}function ec(){}function Jh(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function em(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tm(e,t,n){return Ln&21?(yt(n,t)||(n=sh(),ye.lanes|=n,$n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function Ux(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=Ba.transition;Ba.transition={};try{e(!1),t()}finally{ae=n,Ba.transition=r}}function nm(){return st().memoizedState}function Wx(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rm(e))im(t,n);else if(n=Dh(e,t,n,r),n!==null){var i=$e();gt(n,e,r,i),om(n,t,r)}}function Gx(e,t,n){var r=pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rm(e))im(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yt(a,s)){var l=t.interleaved;l===null?(i.next=i,Wu(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Dh(e,t,i,r),n!==null&&(i=$e(),gt(n,e,r,i),om(n,t,r))}}function rm(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function im(e,t){fi=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function om(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mu(e,n)}}var gs={readContext:ot,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Yx={readContext:ot,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:zd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4194308,4,qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wx.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Dd,useDebugValue:ec,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Dd(!1),t=e[0];return e=Ux.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,i=wt();if(pe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Te===null)throw Error(V(349));Ln&30||Vh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zd(Wh.bind(null,r,o,e),[e]),r.flags|=2048,Ai(9,Uh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wt(),t=Te.identifierPrefix;if(pe){var n=At,r=Rt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kx={readContext:ot,useCallback:Jh,useContext:ot,useEffect:Ju,useImperativeHandle:Zh,useInsertionEffect:Qh,useLayoutEffect:Xh,useMemo:em,useReducer:Ha,useRef:Kh,useState:function(){return Ha(Ri)},useDebugValue:ec,useDeferredValue:function(e){var t=st();return tm(t,ke.memoizedState,e)},useTransition:function(){var e=Ha(Ri)[0],t=st().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Hh,useId:nm,unstable_isNewReconciler:!1},Qx={readContext:ot,useCallback:Jh,useContext:ot,useEffect:Ju,useImperativeHandle:Zh,useInsertionEffect:Qh,useLayoutEffect:Xh,useMemo:em,useReducer:Va,useRef:Kh,useState:function(){return Va(Ri)},useDebugValue:ec,useDeferredValue:function(e){var t=st();return ke===null?t.memoizedState=e:tm(t,ke.memoizedState,e)},useTransition:function(){var e=Va(Ri)[0],t=st().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Hh,useId:nm,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ws={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=pn(e),o=$t(r,i);o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,i),t!==null&&(gt(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=pn(e),o=$t(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,i),t!==null&&(gt(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=pn(e),i=$t(n,r);i.tag=2,t!=null&&(i.callback=t),t=dn(e,i,r),t!==null&&(gt(t,e,r,n),Fo(t,e,r))}};function Fd(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ji(n,r)||!ji(i,o):!0}function sm(e,t,n){var r=!1,i=yn,o=t.contextType;return typeof o=="object"&&o!==null?o=ot(o):(i=Ue(t)?An:Oe.current,r=t.contextTypes,o=(r=r!=null)?Sr(e,i):yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function Ul(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ot(o):(o=Ue(t)?An:Oe.current,i.context=Sr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ws.enqueueReplaceState(i,i.state,null),ps(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=Ev(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ua(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function am(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vs||(vs=!0,tu=r),Wl(e,t)},n}function lm(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wl(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Hd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=c1.bind(null,e,t,n),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ud(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var qx=Wt.ReactCurrentOwner,Be=!1;function Le(e,t,n,r){t.child=e===null?$h(t,null,n,r):kr(t,e.child,n,r)}function Wd(e,t,n,r,i){n=n.render;var o=t.ref;return yr(t,i),r=qu(e,t,n,r,o,i),n=Zu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&n&&zu(t),t.flags|=1,Le(e,t,r,i),t.child)}function Gd(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!lc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,um(e,t,o,r,i)):(e=Go(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(s,r)&&e.ref===t.ref)return Ht(e,t,i)}return t.flags|=1,e=hn(o,r),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ji(o,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ht(e,t,i)}return Gl(e,t,n,r,i)}function cm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ur,Ge),Ge|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ur,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(ur,Ge),Ge|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(ur,Ge),Ge|=r;return Le(e,t,i,n),t.child}function dm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gl(e,t,n,r,i){var o=Ue(n)?An:Oe.current;return o=Sr(t,o),yr(t,i),n=qu(e,t,n,r,o,i),r=Zu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&r&&zu(t),t.flags|=1,Le(e,t,n,i),t.child)}function Yd(e,t,n,r,i){if(Ue(n)){var o=!0;ls(t)}else o=!1;if(yr(t,i),t.stateNode===null)Vo(e,t),sm(t,n,r),Ul(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ot(c):(c=Ue(n)?An:Oe.current,c=Sr(t,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bd(t,s,r,c),en=!1;var p=t.memoizedState;s.state=p,ps(t,r,s,i),l=t.memoizedState,a!==r||p!==l||Ve.current||en?(typeof f=="function"&&(Vl(t,n,f,r),l=t.memoizedState),(a=en||Fd(t,n,a,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:lt(t.type,a),s.props=c,d=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=Ue(n)?An:Oe.current,l=Sr(t,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Bd(t,s,r,l),en=!1,p=t.memoizedState,s.state=p,ps(t,r,s,i);var x=t.memoizedState;a!==d||p!==x||Ve.current||en?(typeof y=="function"&&(Vl(t,n,y,r),x=t.memoizedState),(c=en||Fd(t,n,c,r,p,x,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Yl(e,t,n,r,o,i)}function Yl(e,t,n,r,i,o){dm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Pd(t,n,!1),Ht(e,t,o);r=t.stateNode,qx.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=kr(t,e.child,null,o),t.child=kr(t,null,a,o)):Le(e,t,a,o),t.memoizedState=r.state,i&&Pd(t,n,!0),t.child}function fm(e){var t=e.stateNode;t.pendingContext?Md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Md(e,t.context,!1),Yu(e,t.containerInfo)}function Kd(e,t,n,r,i){return Er(),Bu(i),t.flags|=256,Le(e,t,n,r),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function pm(e,t,n){var r=t.pendingProps,i=ge.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(ge,i&1),e===null)return Bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ks(s,r,0,null),e=Mn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ql(n),t.memoizedState=Kl,e):tc(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Zx(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hn(a,o):(o=Mn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ql(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Kl,r}return o=e.child,e=o.sibling,r=hn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tc(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,n,r){return r!==null&&Bu(r),kr(t,e.child,null,n),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zx(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ua(Error(V(422))),wo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ks({mode:"visible",children:r.children},i,0,null),o=Mn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&kr(t,e.child,null,s),t.child.memoizedState=Ql(s),t.memoizedState=Kl,o);if(!(t.mode&1))return wo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(V(419)),r=Ua(o,r,void 0),wo(e,t,s,r)}if(a=(s&e.childLanes)!==0,Be||a){if(r=Te,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Bt(e,i),gt(r,e,i,-1))}return ac(),r=Ua(Error(V(421))),wo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=d1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Qe=cn(i.nextSibling),Xe=t,pe=!0,dt=null,e!==null&&(tt[nt++]=Rt,tt[nt++]=At,tt[nt++]=On,Rt=e.id,At=e.overflow,On=t),t=tc(t,r.children),t.flags|=4096,t)}function Qd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hl(e.return,t,n)}function Wa(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Le(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,n,t);else if(e.tag===19)Qd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jx(e,t,n){switch(t.tag){case 3:fm(t),Er();break;case 5:Fh(t);break;case 1:Ue(t.type)&&ls(t);break;case 4:Yu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(ds,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?pm(e,t,n):(ue(ge,ge.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,cm(e,t,n)}return Ht(e,t,n)}var mm,Xl,gm,ym;mm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};gm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bn(kt.current);var o=null;switch(n){case"input":i=vl(e,i),r=vl(e,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=Nl(e,i),r=Nl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ss)}El(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};ym=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function e1(e,t,n){var r=t.pendingProps;switch(Fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ue(t.type)&&as(),Re(t),null;case 3:return r=t.stateNode,Cr(),fe(Ve),fe(Oe),Qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(iu(dt),dt=null))),Xl(e,t),Re(t),null;case 5:Ku(t);var i=bn(Mi.current);if(n=t.type,e!==null&&t.stateNode!=null)gm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Re(t),null}if(e=bn(kt.current),vo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[St]=t,r[Ii]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<ri.length;i++)de(ri[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":id(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":sd(r,o),de("invalid",r)}El(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,a,e),i=["children",""+a]):xi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&de("scroll",r)}switch(n){case"input":lo(r),od(r,o,!0);break;case"textarea":lo(r),ad(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ss)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[St]=t,e[Ii]=r,mm(e,t,!1,!1),t.stateNode=e;e:{switch(s=kl(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<ri.length;i++)de(ri[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":id(e,r),i=vl(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":sd(e,r),i=Nl(e,r),de("invalid",e);break;default:i=r}El(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Kp(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gp(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wi(e,l):typeof l=="number"&&wi(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&de("scroll",e):l!=null&&Cu(e,o,l,s))}switch(n){case"input":lo(e),od(e,r,!1);break;case"textarea":lo(e),ad(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?pr(e,!!r.multiple,o,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)ym(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=bn(Mi.current),bn(kt.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(o=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Re(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Qe!==null&&t.mode&1&&!(t.flags&128))Oh(),Er(),t.flags|=98560,o=!1;else if(o=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[St]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),o=!1}else dt!==null&&(iu(dt),dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ce===0&&(Ce=3):ac())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Cr(),Xl(e,t),e===null&&Ti(t.stateNode.containerInfo),Re(t),null;case 10:return Uu(t.type._context),Re(t),null;case 17:return Ue(t.type)&&as(),Re(t),null;case 19:if(fe(ge),o=t.memoizedState,o===null)return Re(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Qr(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hs(e),s!==null){for(t.flags|=128,Qr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>Tr&&(t.flags|=128,r=!0,Qr(o,!1),t.lanes=4194304)}else{if(!r)if(e=hs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!pe)return Re(t),null}else 2*we()-o.renderingStartTime>Tr&&n!==1073741824&&(t.flags|=128,r=!0,Qr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function t1(e,t){switch(Fu(t),t.tag){case 1:return Ue(t.type)&&as(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),fe(Ve),fe(Oe),Qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ku(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return Cr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var No=!1,Ae=!1,n1=typeof WeakSet=="function"?WeakSet:Set,K=null;function lr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function ql(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Xd=!1;function r1(e,t){if(Al=rs,e=Sh(),Du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===e)break t;if(p===n&&++c===i&&(a=s),p===o&&++f===r&&(l=s),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},rs=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,N=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:lt(t.type,v),N);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return x=Xd,Xd=!1,x}function pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ql(t,n,o)}i=i.next}while(i!==r)}}function Gs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vm(e){var t=e.alternate;t!==null&&(e.alternate=null,vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Ii],delete t[Dl],delete t[zx],delete t[Fx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ss));else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}function eu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(eu(e,t,n),e=e.sibling;e!==null;)eu(e,t,n),e=e.sibling}var be=null,ut=!1;function Kt(e,t,n){for(n=n.child;n!==null;)wm(e,t,n),n=n.sibling}function wm(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 5:Ae||lr(n,t);case 6:var r=be,i=ut;be=null,Kt(e,t,n),be=r,ut=i,be!==null&&(ut?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ut?(e=be,n=n.stateNode,e.nodeType===8?Da(e.parentNode,n):e.nodeType===1&&Da(e,n),ki(e)):Da(be,n.stateNode));break;case 4:r=be,i=ut,be=n.stateNode.containerInfo,ut=!0,Kt(e,t,n),be=r,ut=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ql(n,t,s),i=i.next}while(i!==r)}Kt(e,t,n);break;case 1:if(!Ae&&(lr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Kt(e,t,n),Ae=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function Zd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new n1),t.forEach(function(r){var i=f1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,ut=!1;break e;case 3:be=a.stateNode.containerInfo,ut=!0;break e;case 4:be=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(be===null)throw Error(V(160));wm(o,s,i),be=null,ut=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nm(t,e),t=t.sibling}function Nm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),xt(e),r&4){try{pi(3,e,e.return),Gs(3,e)}catch(v){xe(e,e.return,v)}try{pi(5,e,e.return)}catch(v){xe(e,e.return,v)}}break;case 1:at(t,e),xt(e),r&512&&n!==null&&lr(n,n.return);break;case 5:if(at(t,e),xt(e),r&512&&n!==null&&lr(n,n.return),e.flags&32){var i=e.stateNode;try{wi(i,"")}catch(v){xe(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vp(i,o),kl(a,s);var c=kl(a,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?Kp(i,d):f==="dangerouslySetInnerHTML"?Gp(i,d):f==="children"?wi(i,d):Cu(i,f,d,c)}switch(a){case"input":xl(i,o);break;case"textarea":Up(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?pr(i,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?pr(i,!!o.multiple,o.defaultValue,!0):pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ii]=o}catch(v){xe(e,e.return,v)}}break;case 6:if(at(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){xe(e,e.return,v)}}break;case 3:if(at(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(v){xe(e,e.return,v)}break;case 4:at(t,e),xt(e);break;case 13:at(t,e),xt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ic=we())),r&4&&Zd(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(c=Ae)||f,at(t,e),Ae=c):at(t,e),xt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(K=e,f=e.child;f!==null;){for(d=K=f;K!==null;){switch(p=K,y=p.child,p.tag){case 0:case 11:case 14:case 15:pi(4,p,p.return);break;case 1:lr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){xe(r,n,v)}}break;case 5:lr(p,p.return);break;case 22:if(p.memoizedState!==null){ef(d);continue}}y!==null?(y.return=p,K=y):ef(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yp("display",s))}catch(v){xe(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){xe(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(t,e),xt(e),r&4&&Zd(e);break;case 21:break;default:at(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xm(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wi(i,""),r.flags&=-33);var o=qd(e);eu(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=qd(e);Jl(e,a,s);break;default:throw Error(V(161))}}catch(l){xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i1(e,t,n){K=e,Sm(e)}function Sm(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||No;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=No;var c=Ae;if(No=s,(Ae=l)&&!c)for(K=i;K!==null;)s=K,l=s.child,s.tag===22&&s.memoizedState!==null?tf(i):l!==null?(l.return=s,K=l):tf(i);for(;o!==null;)K=o,Sm(o),o=o.sibling;K=i,No=a,Ae=c}Jd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):Jd(e)}}function Jd(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Gs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$d(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$d(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ki(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ae||t.flags&512&&Zl(t)}catch(p){xe(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function ef(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function tf(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gs(4,t)}catch(l){xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){xe(t,i,l)}}var o=t.return;try{Zl(t)}catch(l){xe(t,o,l)}break;case 5:var s=t.return;try{Zl(t)}catch(l){xe(t,s,l)}}}catch(l){xe(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var o1=Math.ceil,ys=Wt.ReactCurrentDispatcher,nc=Wt.ReactCurrentOwner,it=Wt.ReactCurrentBatchConfig,ie=0,Te=null,Se=null,Ie=0,Ge=0,ur=xn(0),Ce=0,Oi=null,$n=0,Ys=0,rc=0,hi=null,Fe=null,ic=0,Tr=1/0,Mt=null,vs=!1,tu=null,fn=null,So=!1,sn=null,xs=0,mi=0,nu=null,Uo=-1,Wo=0;function $e(){return ie&6?we():Uo!==-1?Uo:Uo=we()}function pn(e){return e.mode&1?ie&2&&Ie!==0?Ie&-Ie:Hx.transition!==null?(Wo===0&&(Wo=sh()),Wo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ph(e.type)),e):1}function gt(e,t,n,r){if(50<mi)throw mi=0,nu=null,Error(V(185));Yi(e,n,r),(!(ie&2)||e!==Te)&&(e===Te&&(!(ie&2)&&(Ys|=n),Ce===4&&nn(e,Ie)),We(e,r),n===1&&ie===0&&!(t.mode&1)&&(Tr=we()+500,Vs&&wn()))}function We(e,t){var n=e.callbackNode;Hv(e,t);var r=ns(e,e===Te?Ie:0);if(r===0)n!==null&&cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cd(n),t===1)e.tag===0?Bx(nf.bind(null,e)):Ph(nf.bind(null,e)),$x(function(){!(ie&6)&&wn()}),n=null;else{switch(ah(r)){case 1:n=_u;break;case 4:n=ih;break;case 16:n=ts;break;case 536870912:n=oh;break;default:n=ts}n=_m(n,Em.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Em(e,t){if(Uo=-1,Wo=0,ie&6)throw Error(V(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var r=ns(e,e===Te?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ws(e,r);else{t=r;var i=ie;ie|=2;var o=Cm();(Te!==e||Ie!==t)&&(Mt=null,Tr=we()+500,_n(e,t));do try{l1();break}catch(a){km(e,a)}while(!0);Vu(),ys.current=o,ie=i,Se!==null?t=0:(Te=null,Ie=0,t=Ce)}if(t!==0){if(t===2&&(i=Il(e),i!==0&&(r=i,t=ru(e,i))),t===1)throw n=Oi,_n(e,0),nn(e,r),We(e,we()),n;if(t===6)nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!s1(i)&&(t=ws(e,r),t===2&&(o=Il(e),o!==0&&(r=o,t=ru(e,o))),t===1))throw n=Oi,_n(e,0),nn(e,r),We(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:kn(e,Fe,Mt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=ic+500-we(),10<t)){if(ns(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$l(kn.bind(null,e,Fe,Mt),t);break}kn(e,Fe,Mt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-mt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o1(r/1960))-r,10<r){e.timeoutHandle=$l(kn.bind(null,e,Fe,Mt),r);break}kn(e,Fe,Mt);break;case 5:kn(e,Fe,Mt);break;default:throw Error(V(329))}}}return We(e,we()),e.callbackNode===n?Em.bind(null,e):null}function ru(e,t){var n=hi;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=ws(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&iu(t)),e}function iu(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function s1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~rc,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function nf(e){if(ie&6)throw Error(V(327));vr();var t=ns(e,0);if(!(t&1))return We(e,we()),null;var n=ws(e,t);if(e.tag!==0&&n===2){var r=Il(e);r!==0&&(t=r,n=ru(e,r))}if(n===1)throw n=Oi,_n(e,0),nn(e,t),We(e,we()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kn(e,Fe,Mt),We(e,we()),null}function oc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Tr=we()+500,Vs&&wn())}}function Dn(e){sn!==null&&sn.tag===0&&!(ie&6)&&vr();var t=ie;ie|=1;var n=it.transition,r=ae;try{if(it.transition=null,ae=1,e)return e()}finally{ae=r,it.transition=n,ie=t,!(ie&6)&&wn()}}function sc(){Ge=ur.current,fe(ur)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lx(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&as();break;case 3:Cr(),fe(Ve),fe(Oe),Qu();break;case 5:Ku(r);break;case 4:Cr();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Uu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Te=e,Se=e=hn(e.current,null),Ie=Ge=t,Ce=0,Oi=null,rc=Ys=$n=0,Fe=hi=null,Tn!==null){for(t=0;t<Tn.length;t++)if(n=Tn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Tn=null}return e}function km(e,t){do{var n=Se;try{if(Vu(),Bo.current=gs,ms){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ms=!1}if(Ln=0,je=ke=ye=null,fi=!1,Pi=0,nc.current=null,n===null||n.return===null){Ce=1,Oi=t,Se=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Vd(s);if(y!==null){y.flags&=-257,Ud(y,s,a,o,t),y.mode&1&&Hd(o,c,t),t=y,l=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Hd(o,c,t),ac();break e}l=Error(V(426))}}else if(pe&&a.mode&1){var N=Vd(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ud(N,s,a,o,t),Bu(jr(l,a));break e}}o=l=jr(l,a),Ce!==4&&(Ce=2),hi===null?hi=[o]:hi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=am(o,l,t);Ld(o,h);break e;case 1:a=l;var g=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fn===null||!fn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=lm(o,a,t);Ld(o,w);break e}}o=o.return}while(o!==null)}Tm(n)}catch(S){t=S,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Cm(){var e=ys.current;return ys.current=gs,e===null?gs:e}function ac(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Te===null||!($n&268435455)&&!(Ys&268435455)||nn(Te,Ie)}function ws(e,t){var n=ie;ie|=2;var r=Cm();(Te!==e||Ie!==t)&&(Mt=null,_n(e,t));do try{a1();break}catch(i){km(e,i)}while(!0);if(Vu(),ie=n,ys.current=r,Se!==null)throw Error(V(261));return Te=null,Ie=0,Ce}function a1(){for(;Se!==null;)jm(Se)}function l1(){for(;Se!==null&&!Rv();)jm(Se)}function jm(e){var t=Im(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Tm(e):Se=t,nc.current=null}function Tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t1(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,Se=null;return}}else if(n=e1(n,t,Ge),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ce===0&&(Ce=5)}function kn(e,t,n){var r=ae,i=it.transition;try{it.transition=null,ae=1,u1(e,t,n,r)}finally{it.transition=i,ae=r}return null}function u1(e,t,n,r){do vr();while(sn!==null);if(ie&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Vv(e,o),e===Te&&(Se=Te=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,_m(ts,function(){return vr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=it.transition,it.transition=null;var s=ae;ae=1;var a=ie;ie|=4,nc.current=null,r1(e,n),Nm(n,e),Ix(Ol),rs=!!Al,Ol=Al=null,e.current=n,i1(n),Av(),ie=a,ae=s,it.transition=o}else e.current=n;if(So&&(So=!1,sn=e,xs=i),o=e.pendingLanes,o===0&&(fn=null),$v(n.stateNode),We(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vs)throw vs=!1,e=tu,tu=null,e;return xs&1&&e.tag!==0&&vr(),o=e.pendingLanes,o&1?e===nu?mi++:(mi=0,nu=e):mi=0,wn(),null}function vr(){if(sn!==null){var e=ah(xs),t=it.transition,n=ae;try{if(it.transition=null,ae=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,xs=0,ie&6)throw Error(V(331));var i=ie;for(ie|=4,K=e.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var f=K;switch(f.tag){case 0:case 11:case 15:pi(8,f,o)}var d=f.child;if(d!==null)d.return=f,K=d;else for(;K!==null;){f=K;var p=f.sibling,y=f.return;if(vm(f),f===c){K=null;break}if(p!==null){p.return=y,K=p;break}K=y}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pi(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,K=h;break e}K=o.return}}var g=e.current;for(K=g;K!==null;){s=K;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,K=m;else e:for(s=g;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gs(9,a)}}catch(S){xe(a,a.return,S)}if(a===s){K=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,K=w;break e}K=a.return}}if(ie=i,wn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ds,e)}catch{}r=!0}return r}finally{ae=n,it.transition=t}}return!1}function rf(e,t,n){t=jr(n,t),t=am(e,t,1),e=dn(e,t,1),t=$e(),e!==null&&(Yi(e,1,t),We(e,t))}function xe(e,t,n){if(e.tag===3)rf(e,e,n);else for(;t!==null;){if(t.tag===3){rf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=jr(n,e),e=lm(t,e,1),t=dn(t,e,1),e=$e(),t!==null&&(Yi(t,1,e),We(t,e));break}}t=t.return}}function c1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ie&n)===n&&(Ce===4||Ce===3&&(Ie&130023424)===Ie&&500>we()-ic?_n(e,0):rc|=n),We(e,t)}function bm(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=$e();e=Bt(e,t),e!==null&&(Yi(e,t,n),We(e,n))}function d1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bm(e,n)}function f1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),bm(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,Jx(e,t,n);Be=!!(e.flags&131072)}else Be=!1,pe&&t.flags&1048576&&Rh(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=Sr(t,Oe.current);yr(t,n),i=qu(null,t,r,e,i,n);var o=Zu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(o=!0,ls(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gu(t),i.updater=Ws,t.stateNode=i,i._reactInternals=t,Ul(t,r,e,n),t=Yl(null,t,r,!0,o,n)):(t.tag=0,pe&&o&&zu(t),Le(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=h1(r),e=lt(r,e),i){case 0:t=Gl(null,t,r,e,n);break e;case 1:t=Yd(null,t,r,e,n);break e;case 11:t=Wd(null,t,r,e,n);break e;case 14:t=Gd(null,t,r,lt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Gl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Yd(e,t,r,i,n);case 3:e:{if(fm(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,zh(e,t),ps(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=jr(Error(V(423)),t),t=Kd(e,t,r,n,i);break e}else if(r!==i){i=jr(Error(V(424)),t),t=Kd(e,t,r,n,i);break e}else for(Qe=cn(t.stateNode.containerInfo.firstChild),Xe=t,pe=!0,dt=null,n=$h(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===i){t=Ht(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Fh(t),e===null&&Bl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ll(r,i)?s=null:o!==null&&Ll(r,o)&&(t.flags|=32),dm(e,t),Le(e,t,s,n),t.child;case 6:return e===null&&Bl(t),null;case 13:return pm(e,t,n);case 4:return Yu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=kr(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Wd(e,t,r,i,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ue(ds,r._currentValue),r._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===i.children&&!Ve.current){t=Ht(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$t(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hl(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(V(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hl(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Le(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yr(t,n),i=ot(i),r=r(i),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,i=lt(r,t.pendingProps),i=lt(r.type,i),Gd(e,t,r,i,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lt(r,i),Vo(e,t),t.tag=1,Ue(r)?(e=!0,ls(t)):e=!1,yr(t,n),sm(t,r,i),Ul(t,r,i,n),Yl(null,t,r,!0,e,n);case 19:return hm(e,t,n);case 22:return cm(e,t,n)}throw Error(V(156,t.tag))};function _m(e,t){return rh(e,t)}function p1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new p1(e,t,n,r)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h1(e){if(typeof e=="function")return lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tu)return 11;if(e===bu)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Go(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")lc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jn:return Mn(n.children,i,o,t);case ju:s=8,i|=8;break;case hl:return e=rt(12,n,t,i|2),e.elementType=hl,e.lanes=o,e;case ml:return e=rt(13,n,t,i),e.elementType=ml,e.lanes=o,e;case gl:return e=rt(19,n,t,i),e.elementType=gl,e.lanes=o,e;case Fp:return Ks(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dp:s=10;break e;case zp:s=9;break e;case Tu:s=11;break e;case bu:s=14;break e;case Jt:s=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=rt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Mn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Ks(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Fp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ga(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Ya(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ta(0),this.expirationTimes=Ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uc(e,t,n,r,i,o,s,a,l){return e=new m1(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(o),e}function g1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mm(e){if(!e)return yn;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Mh(e,n,t)}return t}function Pm(e,t,n,r,i,o,s,a,l){return e=uc(n,r,!0,e,i,o,s,a,l),e.context=Mm(null),n=e.current,r=$e(),i=pn(n),o=$t(r,i),o.callback=t??null,dn(n,o,i),e.current.lanes=i,Yi(e,i,r),We(e,r),e}function Qs(e,t,n,r){var i=t.current,o=$e(),s=pn(i);return n=Mm(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(i,t,s),e!==null&&(gt(e,i,s,o),Fo(e,i,s)),s}function Ns(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cc(e,t){of(e,t),(e=e.alternate)&&of(e,t)}function y1(){return null}var Rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function dc(e){this._internalRoot=e}Xs.prototype.render=dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Qs(e,t,null,null)};Xs.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){Qs(null,e,null,null)}),t[Ft]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&fh(e)}};function fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sf(){}function v1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ns(s);o.call(c)}}var s=Pm(t,r,e,0,null,!1,!1,"",sf);return e._reactRootContainer=s,e[Ft]=s.current,Ti(e.nodeType===8?e.parentNode:e),Dn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ns(l);a.call(c)}}var l=uc(e,0,!1,null,null,!1,!1,"",sf);return e._reactRootContainer=l,e[Ft]=l.current,Ti(e.nodeType===8?e.parentNode:e),Dn(function(){Qs(t,l,n,r)}),l}function Zs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ns(s);a.call(l)}}Qs(t,s,e,i)}else s=v1(n,t,e,i,r);return Ns(s)}lh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ni(t.pendingLanes);n!==0&&(Mu(t,n|1),We(t,we()),!(ie&6)&&(Tr=we()+500,wn()))}break;case 13:Dn(function(){var r=Bt(e,1);if(r!==null){var i=$e();gt(r,e,1,i)}}),cc(e,1)}};Pu=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=$e();gt(t,e,134217728,n)}cc(e,134217728)}};uh=function(e){if(e.tag===13){var t=pn(e),n=Bt(e,t);if(n!==null){var r=$e();gt(n,e,t,r)}cc(e,t)}};ch=function(){return ae};dh=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};jl=function(e,t,n){switch(t){case"input":if(xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hs(r);if(!i)throw Error(V(90));Hp(r),xl(r,i)}}}break;case"textarea":Up(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};qp=oc;Zp=Dn;var x1={usingClientEntryPoint:!1,Events:[Qi,rr,Hs,Qp,Xp,oc]},Xr={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w1={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=th(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Ds=Eo.inject(w1),Et=Eo}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fc(t))throw Error(V(200));return g1(e,t,null,n)};Je.createRoot=function(e,t){if(!fc(e))throw Error(V(299));var n=!1,r="",i=Rm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uc(e,1,!1,null,null,n,!1,r,i),e[Ft]=t.current,Ti(e.nodeType===8?e.parentNode:e),new dc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=th(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Dn(e)};Je.hydrate=function(e,t,n){if(!qs(t))throw Error(V(200));return Zs(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!fc(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Rm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Pm(t,null,e,1,n??null,i,!1,o,s),e[Ft]=t.current,Ti(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xs(t)};Je.render=function(e,t,n){if(!qs(t))throw Error(V(200));return Zs(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!qs(e))throw Error(V(40));return e._reactRootContainer?(Dn(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};Je.unstable_batchedUpdates=oc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qs(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Zs(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(e){console.error(e)}}Am(),Ap.exports=Je;var N1=Ap.exports,af=N1;fl.createRoot=af.createRoot,fl.hydrateRoot=af.hydrateRoot;function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ee(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var S1={value:()=>{}};function Js(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yo(n)}function Yo(e){this._=e}function E1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yo.prototype=Js.prototype={constructor:Yo,on:function(e,t){var n=this._,r=E1(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=k1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=lf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=lf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function k1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function lf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=S1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ou="http://www.w3.org/1999/xhtml";const uf={svg:"http://www.w3.org/2000/svg",xhtml:ou,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ea(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),uf.hasOwnProperty(t)?{space:uf[t],local:e}:e}function C1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ou&&t.documentElement.namespaceURI===ou?t.createElement(e):t.createElementNS(n,e)}}function j1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Om(e){var t=ea(e);return(t.local?j1:C1)(t)}function T1(){}function pc(e){return e==null?T1:function(){return this.querySelector(e)}}function b1(e){typeof e!="function"&&(e=pc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,f=0;f<s;++f)(l=o[f])&&(c=e.call(l,l.__data__,f,o))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new Ze(r,this._parents)}function I1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _1(){return[]}function Lm(e){return e==null?_1:function(){return this.querySelectorAll(e)}}function M1(e){return function(){return I1(e.apply(this,arguments))}}function P1(e){typeof e=="function"?e=M1(e):e=Lm(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new Ze(r,i)}function $m(e){return function(){return this.matches(e)}}function Dm(e){return function(t){return t.matches(e)}}var R1=Array.prototype.find;function A1(e){return function(){return R1.call(this.children,e)}}function O1(){return this.firstElementChild}function L1(e){return this.select(e==null?O1:A1(typeof e=="function"?e:Dm(e)))}var $1=Array.prototype.filter;function D1(){return Array.from(this.children)}function z1(e){return function(){return $1.call(this.children,e)}}function F1(e){return this.selectAll(e==null?D1:z1(typeof e=="function"?e:Dm(e)))}function B1(e){typeof e!="function"&&(e=$m(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Ze(r,this._parents)}function zm(e){return new Array(e.length)}function H1(){return new Ze(this._enter||this._groups.map(zm),this._parents)}function Ss(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ss.prototype={constructor:Ss,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function V1(e){return function(){return e}}function U1(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ss(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function W1(e,t,n,r,i,o,s){var a,l,c=new Map,f=t.length,d=o.length,p=new Array(f),y;for(a=0;a<f;++a)(l=t[a])&&(p[a]=y=s.call(l,l.__data__,a,t)+"",c.has(y)?i[a]=l:c.set(y,l));for(a=0;a<d;++a)y=s.call(e,o[a],a,o)+"",(l=c.get(y))?(r[a]=l,l.__data__=o[a],c.delete(y)):n[a]=new Ss(e,o[a]);for(a=0;a<f;++a)(l=t[a])&&c.get(p[a])===l&&(i[a]=l)}function G1(e){return e.__data__}function Y1(e,t){if(!arguments.length)return Array.from(this,G1);var n=t?W1:U1,r=this._parents,i=this._groups;typeof e!="function"&&(e=V1(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var f=r[c],d=i[c],p=d.length,y=K1(e.call(f,f&&f.__data__,c,r)),x=y.length,v=a[c]=new Array(x),N=s[c]=new Array(x),h=l[c]=new Array(p);n(f,d,v,N,h,y,t);for(var g=0,m=0,w,S;g<x;++g)if(w=v[g]){for(g>=m&&(m=g+1);!(S=N[m])&&++m<x;);w._next=S||null}}return s=new Ze(s,r),s._enter=a,s._exit=l,s}function K1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q1(){return new Ze(this._exit||this._groups.map(zm),this._parents)}function X1(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function q1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],f=r[l],d=c.length,p=a[l]=new Array(d),y,x=0;x<d;++x)(y=c[x]||f[x])&&(p[x]=y);for(;l<i;++l)a[l]=n[l];return new Ze(a,this._parents)}function Z1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function J1(e){e||(e=ew);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,f=0;f<a;++f)(c=s[f])&&(l[f]=c);l.sort(t)}return new Ze(i,this._parents).order()}function ew(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nw(){return Array.from(this)}function rw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function iw(){let e=0;for(const t of this)++e;return e}function ow(){return!this.node()}function sw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function aw(e){return function(){this.removeAttribute(e)}}function lw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uw(e,t){return function(){this.setAttribute(e,t)}}function cw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pw(e,t){var n=ea(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?lw:aw:typeof t=="function"?n.local?fw:dw:n.local?cw:uw)(n,t))}function Fm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hw(e){return function(){this.style.removeProperty(e)}}function mw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function gw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function yw(e,t,n){return arguments.length>1?this.each((t==null?hw:typeof t=="function"?gw:mw)(e,t,n??"")):br(this.node(),e)}function br(e,t){return e.style.getPropertyValue(t)||Fm(e).getComputedStyle(e,null).getPropertyValue(t)}function vw(e){return function(){delete this[e]}}function xw(e,t){return function(){this[e]=t}}function ww(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Nw(e,t){return arguments.length>1?this.each((t==null?vw:typeof t=="function"?ww:xw)(e,t)):this.node()[e]}function Bm(e){return e.trim().split(/^|\s+/)}function hc(e){return e.classList||new Hm(e)}function Hm(e){this._node=e,this._names=Bm(e.getAttribute("class")||"")}Hm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Vm(e,t){for(var n=hc(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Um(e,t){for(var n=hc(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Sw(e){return function(){Vm(this,e)}}function Ew(e){return function(){Um(this,e)}}function kw(e,t){return function(){(t.apply(this,arguments)?Vm:Um)(this,e)}}function Cw(e,t){var n=Bm(e+"");if(arguments.length<2){for(var r=hc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?kw:t?Sw:Ew)(n,t))}function jw(){this.textContent=""}function Tw(e){return function(){this.textContent=e}}function bw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Iw(e){return arguments.length?this.each(e==null?jw:(typeof e=="function"?bw:Tw)(e)):this.node().textContent}function _w(){this.innerHTML=""}function Mw(e){return function(){this.innerHTML=e}}function Pw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Rw(e){return arguments.length?this.each(e==null?_w:(typeof e=="function"?Pw:Mw)(e)):this.node().innerHTML}function Aw(){this.nextSibling&&this.parentNode.appendChild(this)}function Ow(){return this.each(Aw)}function Lw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $w(){return this.each(Lw)}function Dw(e){var t=typeof e=="function"?e:Om(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zw(){return null}function Fw(e,t){var n=typeof e=="function"?e:Om(e),r=t==null?zw:typeof t=="function"?t:pc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bw(){var e=this.parentNode;e&&e.removeChild(this)}function Hw(){return this.each(Bw)}function Vw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ww(e){return this.select(e?Uw:Vw)}function Gw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yw(e){return function(t){e.call(this,t,this.__data__)}}function Kw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Qw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Xw(e,t,n){return function(){var r=this.__on,i,o=Yw(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function qw(e,t,n){var r=Kw(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Xw:Qw,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Wm(e,t,n){var r=Fm(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zw(e,t){return function(){return Wm(this,e,t)}}function Jw(e,t){return function(){return Wm(this,e,t.apply(this,arguments))}}function eN(e,t){return this.each((typeof t=="function"?Jw:Zw)(e,t))}function*tN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Gm=[null];function Ze(e,t){this._groups=e,this._parents=t}function qi(){return new Ze([[document.documentElement]],Gm)}function nN(){return this}Ze.prototype=qi.prototype={constructor:Ze,select:b1,selectAll:P1,selectChild:L1,selectChildren:F1,filter:B1,data:Y1,enter:H1,exit:Q1,join:X1,merge:q1,selection:nN,order:Z1,sort:J1,call:tw,nodes:nw,node:rw,size:iw,empty:ow,each:sw,attr:pw,style:yw,property:Nw,classed:Cw,text:Iw,html:Rw,raise:Ow,lower:$w,append:Dw,insert:Fw,remove:Hw,clone:Ww,datum:Gw,on:qw,dispatch:eN,[Symbol.iterator]:tN};function Ke(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],Gm)}function rN(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ct(e,t){if(e=rN(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const iN={passive:!1},Li={capture:!0,passive:!1};function Ka(e){e.stopImmediatePropagation()}function xr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ym(e){var t=e.document.documentElement,n=Ke(e).on("dragstart.drag",xr,Li);"onselectstart"in t?n.on("selectstart.drag",xr,Li):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Km(e,t){var n=e.document.documentElement,r=Ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",xr,Li),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ko=e=>()=>e;function su(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}su.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function oN(e){return!e.ctrlKey&&!e.button}function sN(){return this.parentNode}function aN(e,t){return t??{x:e.x,y:e.y}}function lN(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qm(){var e=oN,t=sN,n=aN,r=lN,i={},o=Js("start","drag","end"),s=0,a,l,c,f,d=0;function p(w){w.on("mousedown.drag",y).filter(r).on("touchstart.drag",N).on("touchmove.drag",h,iN).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(w,S){if(!(f||!e.call(this,w,S))){var E=m(this,t.call(this,w,S),w,S,"mouse");E&&(Ke(w.view).on("mousemove.drag",x,Li).on("mouseup.drag",v,Li),Ym(w.view),Ka(w),c=!1,a=w.clientX,l=w.clientY,E("start",w))}}function x(w){if(xr(w),!c){var S=w.clientX-a,E=w.clientY-l;c=S*S+E*E>d}i.mouse("drag",w)}function v(w){Ke(w.view).on("mousemove.drag mouseup.drag",null),Km(w.view,c),xr(w),i.mouse("end",w)}function N(w,S){if(e.call(this,w,S)){var E=w.changedTouches,k=t.call(this,w,S),b=E.length,P,L;for(P=0;P<b;++P)(L=m(this,k,w,S,E[P].identifier,E[P]))&&(Ka(w),L("start",w,E[P]))}}function h(w){var S=w.changedTouches,E=S.length,k,b;for(k=0;k<E;++k)(b=i[S[k].identifier])&&(xr(w),b("drag",w,S[k]))}function g(w){var S=w.changedTouches,E=S.length,k,b;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<E;++k)(b=i[S[k].identifier])&&(Ka(w),b("end",w,S[k]))}function m(w,S,E,k,b,P){var L=o.copy(),A=ct(P||E,S),O,F,j;if((j=n.call(w,new su("beforestart",{sourceEvent:E,target:p,identifier:b,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:L}),k))!=null)return O=j.x-A[0]||0,F=j.y-A[1]||0,function M(_,$,C){var T=A,R;switch(_){case"start":i[b]=M,R=s++;break;case"end":delete i[b],--s;case"drag":A=ct(C||$,S),R=s;break}L.call(_,w,new su(_,{sourceEvent:$,subject:j,target:p,identifier:b,active:R,x:A[0]+O,y:A[1]+F,dx:A[0]-T[0],dy:A[1]-T[1],dispatch:L}),k)}}return p.filter=function(w){return arguments.length?(e=typeof w=="function"?w:ko(!!w),p):e},p.container=function(w){return arguments.length?(t=typeof w=="function"?w:ko(w),p):t},p.subject=function(w){return arguments.length?(n=typeof w=="function"?w:ko(w),p):n},p.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:ko(!!w),p):r},p.on=function(){var w=o.on.apply(o,arguments);return w===o?p:w},p.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,p):Math.sqrt(d)},p}function mc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zi(){}var $i=.7,Es=1/$i,wr="\\s*([+-]?\\d+)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uN=/^#([0-9a-f]{3,8})$/,cN=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),dN=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),fN=new RegExp(`^rgba\\(${wr},${wr},${wr},${Di}\\)$`),pN=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${Di}\\)$`),hN=new RegExp(`^hsl\\(${Di},${Ct},${Ct}\\)$`),mN=new RegExp(`^hsla\\(${Di},${Ct},${Ct},${Di}\\)$`),cf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mc(Zi,zn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:df,formatHex:df,formatHex8:gN,formatHsl:yN,formatRgb:ff,toString:ff});function df(){return this.rgb().formatHex()}function gN(){return this.rgb().formatHex8()}function yN(){return qm(this).formatHsl()}function ff(){return this.rgb().formatRgb()}function zn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pf(t):n===3?new He(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Co(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Co(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cN.exec(e))?new He(t[1],t[2],t[3],1):(t=dN.exec(e))?new He(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fN.exec(e))?Co(t[1],t[2],t[3],t[4]):(t=pN.exec(e))?Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hN.exec(e))?gf(t[1],t[2]/100,t[3]/100,1):(t=mN.exec(e))?gf(t[1],t[2]/100,t[3]/100,t[4]):cf.hasOwnProperty(e)?pf(cf[e]):e==="transparent"?new He(NaN,NaN,NaN,0):null}function pf(e){return new He(e>>16&255,e>>8&255,e&255,1)}function Co(e,t,n,r){return r<=0&&(e=t=n=NaN),new He(e,t,n,r)}function vN(e){return e instanceof Zi||(e=zn(e)),e?(e=e.rgb(),new He(e.r,e.g,e.b,e.opacity)):new He}function au(e,t,n,r){return arguments.length===1?vN(e):new He(e,t,n,r??1)}function He(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mc(He,au,Xm(Zi,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new He(Pn(this.r),Pn(this.g),Pn(this.b),ks(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:xN,formatRgb:mf,toString:mf}));function hf(){return`#${In(this.r)}${In(this.g)}${In(this.b)}`}function xN(){return`#${In(this.r)}${In(this.g)}${In(this.b)}${In((isNaN(this.opacity)?1:this.opacity)*255)}`}function mf(){const e=ks(this.opacity);return`${e===1?"rgb(":"rgba("}${Pn(this.r)}, ${Pn(this.g)}, ${Pn(this.b)}${e===1?")":`, ${e})`}`}function ks(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function In(e){return e=Pn(e),(e<16?"0":"")+e.toString(16)}function gf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ft(e,t,n,r)}function qm(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);if(e instanceof Zi||(e=zn(e)),!e)return new ft;if(e instanceof ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ft(s,a,l,e.opacity)}function wN(e,t,n,r){return arguments.length===1?qm(e):new ft(e,t,n,r??1)}function ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mc(ft,wN,Xm(Zi,{brighter(e){return e=e==null?Es:Math.pow(Es,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new He(Qa(e>=240?e-240:e+120,i,r),Qa(e,i,r),Qa(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ft(yf(this.h),jo(this.s),jo(this.l),ks(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ks(this.opacity);return`${e===1?"hsl(":"hsla("}${yf(this.h)}, ${jo(this.s)*100}%, ${jo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yf(e){return e=(e||0)%360,e<0?e+360:e}function jo(e){return Math.max(0,Math.min(1,e||0))}function Qa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gc=e=>()=>e;function NN(e,t){return function(n){return e+n*t}}function SN(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function EN(e){return(e=+e)==1?Zm:function(t,n){return n-t?SN(t,n,e):gc(isNaN(t)?n:t)}}function Zm(e,t){var n=t-e;return n?NN(e,n):gc(isNaN(e)?t:e)}const Cs=function e(t){var n=EN(t);function r(i,o){var s=n((i=au(i)).r,(o=au(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Zm(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function kN(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function CN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jN(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=gi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function TN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bN(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=gi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xa=new RegExp(lu.source,"g");function IN(e){return function(){return e}}function _N(e){return function(t){return e(t)+""}}function Jm(e,t){var n=lu.lastIndex=Xa.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=lu.exec(e))&&(i=Xa.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Nt(r,i)})),n=Xa.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?_N(l[0].x):IN(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function gi(e,t){var n=typeof t,r;return t==null||n==="boolean"?gc(t):(n==="number"?Nt:n==="string"?(r=zn(t))?(t=r,Cs):Jm:t instanceof zn?Cs:t instanceof Date?TN:CN(t)?kN:Array.isArray(t)?jN:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bN:Nt)(e,t)}var vf=180/Math.PI,uu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eg(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*vf,skewX:Math.atan(l)*vf,scaleX:s,scaleY:a}}var To;function MN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?uu:eg(t.a,t.b,t.c,t.d,t.e,t.f)}function PN(e){return e==null||(To||(To=document.createElementNS("http://www.w3.org/2000/svg","g")),To.setAttribute("transform",e),!(e=To.transform.baseVal.consolidate()))?uu:(e=e.matrix,eg(e.a,e.b,e.c,e.d,e.e,e.f))}function tg(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,d,p,y,x){if(c!==d||f!==p){var v=y.push("translate(",null,t,null,n);x.push({i:v-4,x:Nt(c,d)},{i:v-2,x:Nt(f,p)})}else(d||p)&&y.push("translate("+d+t+p+n)}function s(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Nt(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function a(c,f,d,p){c!==f?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Nt(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(c,f,d,p,y,x){if(c!==d||f!==p){var v=y.push(i(y)+"scale(",null,",",null,")");x.push({i:v-4,x:Nt(c,d)},{i:v-2,x:Nt(f,p)})}else(d!==1||p!==1)&&y.push(i(y)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,d,p),s(c.rotate,f.rotate,d,p),a(c.skewX,f.skewX,d,p),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(y){for(var x=-1,v=p.length,N;++x<v;)d[(N=p[x]).i]=N.x(y);return d.join("")}}}var RN=tg(MN,"px, ","px)","deg)"),AN=tg(PN,", ",")",")"),ON=1e-12;function xf(e){return((e=Math.exp(e))+1/e)/2}function LN(e){return((e=Math.exp(e))-1/e)/2}function $N(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ko=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],f=s[0],d=s[1],p=s[2],y=f-a,x=d-l,v=y*y+x*x,N,h;if(v<ON)h=Math.log(p/c)/t,N=function(k){return[a+k*y,l+k*x,c*Math.exp(t*k*h)]};else{var g=Math.sqrt(v),m=(p*p-c*c+r*v)/(2*c*n*g),w=(p*p-c*c-r*v)/(2*p*n*g),S=Math.log(Math.sqrt(m*m+1)-m),E=Math.log(Math.sqrt(w*w+1)-w);h=(E-S)/t,N=function(k){var b=k*h,P=xf(S),L=c/(n*g)*(P*$N(t*b+S)-LN(S));return[a+L*y,l+L*x,c*P/xf(t*b+S)]}}return N.duration=h*1e3*t/Math.SQRT2,N}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var Ir=0,ii=0,qr=0,ng=1e3,js,oi,Ts=0,Fn=0,ta=0,zi=typeof performance=="object"&&performance.now?performance:Date,rg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yc(){return Fn||(rg(DN),Fn=zi.now()+ta)}function DN(){Fn=0}function bs(){this._call=this._time=this._next=null}bs.prototype=ig.prototype={constructor:bs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yc():+n)+(t==null?0:+t),!this._next&&oi!==this&&(oi?oi._next=this:js=this,oi=this),this._call=e,this._time=n,cu()},stop:function(){this._call&&(this._call=null,this._time=1/0,cu())}};function ig(e,t,n){var r=new bs;return r.restart(e,t,n),r}function zN(){yc(),++Ir;for(var e=js,t;e;)(t=Fn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ir}function wf(){Fn=(Ts=zi.now())+ta,Ir=ii=0;try{zN()}finally{Ir=0,BN(),Fn=0}}function FN(){var e=zi.now(),t=e-Ts;t>ng&&(ta-=t,Ts=e)}function BN(){for(var e,t=js,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:js=n);oi=e,cu(r)}function cu(e){if(!Ir){ii&&(ii=clearTimeout(ii));var t=e-Fn;t>24?(e<1/0&&(ii=setTimeout(wf,e-zi.now()-ta)),qr&&(qr=clearInterval(qr))):(qr||(Ts=zi.now(),qr=setInterval(FN,ng)),Ir=1,rg(wf))}}function Nf(e,t,n){var r=new bs;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var HN=Js("start","end","cancel","interrupt"),VN=[],og=0,Sf=1,du=2,Qo=3,Ef=4,fu=5,Xo=6;function na(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;UN(e,n,{name:t,index:r,group:i,on:HN,tween:VN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:og})}function vc(e,t){var n=vt(e,t);if(n.state>og)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=vt(e,t);if(n.state>Qo)throw new Error("too late; already running");return n}function vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function UN(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ig(o,0,n.time);function o(c){n.state=Sf,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,d,p,y;if(n.state!==Sf)return l();for(f in r)if(y=r[f],y.name===n.name){if(y.state===Qo)return Nf(s);y.state===Ef?(y.state=Xo,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=Xo,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(Nf(function(){n.state===Qo&&(n.state=Ef,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=du,n.on.call("start",e,e.__data__,n.index,n.group),n.state===du){for(n.state=Qo,i=new Array(p=n.tween.length),f=0,d=-1;f<p;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=y);i.length=d+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=fu,1),d=-1,p=i.length;++d<p;)i[d].call(e,f);n.state===fu&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Xo,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function qo(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>du&&r.state<fu,r.state=Xo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function WN(e){return this.each(function(){qo(this,e)})}function GN(e,t){var n,r;return function(){var i=bt(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function YN(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=bt(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function KN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=vt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?GN:YN)(n,e,t))}function xc(e,t,n){var r=e._id;return e.each(function(){var i=bt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return vt(i,r).value[t]}}function sg(e,t){var n;return(typeof t=="number"?Nt:t instanceof zn?Cs:(n=zn(t))?(t=n,Cs):Jm)(e,t)}function QN(e){return function(){this.removeAttribute(e)}}function XN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qN(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function ZN(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function JN(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function eS(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function tS(e,t){var n=ea(e),r=n==="transform"?AN:sg;return this.attrTween(e,typeof t=="function"?(n.local?eS:JN)(n,r,xc(this,"attr."+e,t)):t==null?(n.local?XN:QN)(n):(n.local?ZN:qN)(n,r,t))}function nS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function rS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function iS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&rS(e,o)),n}return i._value=t,i}function oS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&nS(e,o)),n}return i._value=t,i}function sS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ea(e);return this.tween(n,(r.local?iS:oS)(r,t))}function aS(e,t){return function(){vc(this,e).delay=+t.apply(this,arguments)}}function lS(e,t){return t=+t,function(){vc(this,e).delay=t}}function uS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aS:lS)(t,e)):vt(this.node(),t).delay}function cS(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function dS(e,t){return t=+t,function(){bt(this,e).duration=t}}function fS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cS:dS)(t,e)):vt(this.node(),t).duration}function pS(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function hS(e){var t=this._id;return arguments.length?this.each(pS(t,e)):vt(this.node(),t).ease}function mS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function gS(e){if(typeof e!="function")throw new Error;return this.each(mS(this._id,e))}function yS(e){typeof e!="function"&&(e=$m(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Vt(r,this._parents,this._name,this._id)}function vS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],f=l.length,d=s[a]=new Array(f),p,y=0;y<f;++y)(p=l[y]||c[y])&&(d[y]=p);for(;a<r;++a)s[a]=t[a];return new Vt(s,this._parents,this._name,this._id)}function xS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wS(e,t,n){var r,i,o=xS(t)?vc:bt;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function NS(e,t){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(e):this.each(wS(n,e,t))}function SS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ES(){return this.on("end.remove",SS(this._id))}function kS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pc(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),f,d,p=0;p<l;++p)(f=a[p])&&(d=e.call(f,f.__data__,p,a))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d,na(c[p],t,n,p,c,vt(f,n)));return new Vt(o,this._parents,t,n)}function CS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Lm(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var p=e.call(f,f.__data__,d,l),y,x=vt(f,n),v=0,N=p.length;v<N;++v)(y=p[v])&&na(y,t,n,v,p,x);o.push(p),s.push(f)}return new Vt(o,s,t,n)}var jS=qi.prototype.constructor;function TS(){return new jS(this._groups,this._parents)}function bS(e,t){var n,r,i;return function(){var o=br(this,e),s=(this.style.removeProperty(e),br(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function ag(e){return function(){this.style.removeProperty(e)}}function IS(e,t,n){var r,i=n+"",o;return function(){var s=br(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function _S(e,t,n){var r,i,o;return function(){var s=br(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),br(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function MS(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=bt(this,e),c=l.on,f=l.value[o]==null?a||(a=ag(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),l.on=r}}function PS(e,t,n){var r=(e+="")=="transform"?RN:sg;return t==null?this.styleTween(e,bS(e,r)).on("end.style."+e,ag(e)):typeof t=="function"?this.styleTween(e,_S(e,r,xc(this,"style."+e,t))).each(MS(this._id,e)):this.styleTween(e,IS(e,r,t),n).on("end.style."+e,null)}function RS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function AS(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&RS(e,s,n)),r}return o._value=t,o}function OS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,AS(e,t,n??""))}function LS(e){return function(){this.textContent=e}}function $S(e){return function(){var t=e(this);this.textContent=t??""}}function DS(e){return this.tween("text",typeof e=="function"?$S(xc(this,"text",e)):LS(e==null?"":e+""))}function zS(e){return function(t){this.textContent=e.call(this,t)}}function FS(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&zS(i)),t}return r._value=e,r}function BS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FS(e))}function HS(){for(var e=this._name,t=this._id,n=lg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var f=vt(l,t);na(l,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vt(r,this._parents,e,n)}function VS(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=bt(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var US=0;function Vt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function lg(){return++US}var _t=qi.prototype;Vt.prototype={constructor:Vt,select:kS,selectAll:CS,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:yS,merge:vS,selection:TS,transition:HS,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:NS,attr:tS,attrTween:sS,style:PS,styleTween:OS,text:DS,textTween:BS,remove:ES,tween:KN,delay:uS,duration:fS,ease:hS,easeVarying:gS,end:VS,[Symbol.iterator]:_t[Symbol.iterator]};function WS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var GS={time:null,delay:0,duration:250,ease:WS};function YS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function KS(e){var t,n;e instanceof Vt?(t=e._id,e=e._name):(t=lg(),(n=GS).time=yc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&na(l,e,t,c,s,n||YS(l,t));return new Vt(r,this._parents,e,t)}qi.prototype.interrupt=WN;qi.prototype.transition=KS;const bo=e=>()=>e;function QS(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ot(e,t,n){this.k=e,this.x=t,this.y=n}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ra=new Ot(1,0,0);ug.prototype=Ot.prototype;function ug(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ra;return e.__zoom}function qa(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function XS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function qS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kf(){return this.__zoom||ra}function ZS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function JS(){return navigator.maxTouchPoints||"ontouchstart"in this}function eE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function cg(){var e=XS,t=qS,n=eE,r=ZS,i=JS,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Ko,c=Js("start","zoom","end"),f,d,p,y=500,x=150,v=0,N=10;function h(j){j.property("__zoom",kf).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(j,M,_,$){var C=j.selection?j.selection():j;C.property("__zoom",kf),j!==C?S(j,M,_,$):C.interrupt().each(function(){E(this,arguments).event($).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},h.scaleBy=function(j,M,_,$){h.scaleTo(j,function(){var C=this.__zoom.k,T=typeof M=="function"?M.apply(this,arguments):M;return C*T},_,$)},h.scaleTo=function(j,M,_,$){h.transform(j,function(){var C=t.apply(this,arguments),T=this.__zoom,R=_==null?w(C):typeof _=="function"?_.apply(this,arguments):_,D=T.invert(R),z=typeof M=="function"?M.apply(this,arguments):M;return n(m(g(T,z),R,D),C,s)},_,$)},h.translateBy=function(j,M,_,$){h.transform(j,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),s)},null,$)},h.translateTo=function(j,M,_,$,C){h.transform(j,function(){var T=t.apply(this,arguments),R=this.__zoom,D=$==null?w(T):typeof $=="function"?$.apply(this,arguments):$;return n(ra.translate(D[0],D[1]).scale(R.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof _=="function"?-_.apply(this,arguments):-_),T,s)},$,C)};function g(j,M){return M=Math.max(o[0],Math.min(o[1],M)),M===j.k?j:new Ot(M,j.x,j.y)}function m(j,M,_){var $=M[0]-_[0]*j.k,C=M[1]-_[1]*j.k;return $===j.x&&C===j.y?j:new Ot(j.k,$,C)}function w(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function S(j,M,_,$){j.on("start.zoom",function(){E(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event($).end()}).tween("zoom",function(){var C=this,T=arguments,R=E(C,T).event($),D=t.apply(C,T),z=_==null?w(D):typeof _=="function"?_.apply(C,T):_,B=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),H=C.__zoom,U=typeof M=="function"?M.apply(C,T):M,Y=l(H.invert(z).concat(B/H.k),U.invert(z).concat(B/U.k));return function(Q){if(Q===1)Q=U;else{var G=Y(Q),X=B/G[2];Q=new Ot(X,z[0]-G[0]*X,z[1]-G[1]*X)}R.zoom(null,Q)}})}function E(j,M,_){return!_&&j.__zooming||new k(j,M)}function k(j,M){this.that=j,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,M),this.taps=0}k.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,M){return this.mouse&&j!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var M=Ke(this.that).datum();c.call(j,this.that,new QS(j,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:c}),M)}};function b(j,...M){if(!e.apply(this,arguments))return;var _=E(this,M).event(j),$=this.__zoom,C=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),T=ct(j);if(_.wheel)(_.mouse[0][0]!==T[0]||_.mouse[0][1]!==T[1])&&(_.mouse[1]=$.invert(_.mouse[0]=T)),clearTimeout(_.wheel);else{if($.k===C)return;_.mouse=[T,$.invert(T)],qo(this),_.start()}Zr(j),_.wheel=setTimeout(R,x),_.zoom("mouse",n(m(g($,C),_.mouse[0],_.mouse[1]),_.extent,s));function R(){_.wheel=null,_.end()}}function P(j,...M){if(p||!e.apply(this,arguments))return;var _=j.currentTarget,$=E(this,M,!0).event(j),C=Ke(j.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",B,!0),T=ct(j,_),R=j.clientX,D=j.clientY;Ym(j.view),qa(j),$.mouse=[T,this.__zoom.invert(T)],qo(this),$.start();function z(H){if(Zr(H),!$.moved){var U=H.clientX-R,Y=H.clientY-D;$.moved=U*U+Y*Y>v}$.event(H).zoom("mouse",n(m($.that.__zoom,$.mouse[0]=ct(H,_),$.mouse[1]),$.extent,s))}function B(H){C.on("mousemove.zoom mouseup.zoom",null),Km(H.view,$.moved),Zr(H),$.event(H).end()}}function L(j,...M){if(e.apply(this,arguments)){var _=this.__zoom,$=ct(j.changedTouches?j.changedTouches[0]:j,this),C=_.invert($),T=_.k*(j.shiftKey?.5:2),R=n(m(g(_,T),$,C),t.apply(this,M),s);Zr(j),a>0?Ke(this).transition().duration(a).call(S,R,$,j):Ke(this).call(h.transform,R,$,j)}}function A(j,...M){if(e.apply(this,arguments)){var _=j.touches,$=_.length,C=E(this,M,j.changedTouches.length===$).event(j),T,R,D,z;for(qa(j),R=0;R<$;++R)D=_[R],z=ct(D,this),z=[z,this.__zoom.invert(z),D.identifier],C.touch0?!C.touch1&&C.touch0[2]!==z[2]&&(C.touch1=z,C.taps=0):(C.touch0=z,T=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(C.taps<2&&(d=z[0],f=setTimeout(function(){f=null},y)),qo(this),C.start())}}function O(j,...M){if(this.__zooming){var _=E(this,M).event(j),$=j.changedTouches,C=$.length,T,R,D,z;for(Zr(j),T=0;T<C;++T)R=$[T],D=ct(R,this),_.touch0&&_.touch0[2]===R.identifier?_.touch0[0]=D:_.touch1&&_.touch1[2]===R.identifier&&(_.touch1[0]=D);if(R=_.that.__zoom,_.touch1){var B=_.touch0[0],H=_.touch0[1],U=_.touch1[0],Y=_.touch1[1],Q=(Q=U[0]-B[0])*Q+(Q=U[1]-B[1])*Q,G=(G=Y[0]-H[0])*G+(G=Y[1]-H[1])*G;R=g(R,Math.sqrt(Q/G)),D=[(B[0]+U[0])/2,(B[1]+U[1])/2],z=[(H[0]+Y[0])/2,(H[1]+Y[1])/2]}else if(_.touch0)D=_.touch0[0],z=_.touch0[1];else return;_.zoom("touch",n(m(R,D,z),_.extent,s))}}function F(j,...M){if(this.__zooming){var _=E(this,M).event(j),$=j.changedTouches,C=$.length,T,R;for(qa(j),p&&clearTimeout(p),p=setTimeout(function(){p=null},y),T=0;T<C;++T)R=$[T],_.touch0&&_.touch0[2]===R.identifier?delete _.touch0:_.touch1&&_.touch1[2]===R.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(R=ct(R,this),Math.hypot(d[0]-R[0],d[1]-R[1])<N)){var D=Ke(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return h.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:bo(+j),h):r},h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:bo(!!j),h):e},h.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:bo(!!j),h):i},h.extent=function(j){return arguments.length?(t=typeof j=="function"?j:bo([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),h):t},h.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],h):[o[0],o[1]]},h.translateExtent=function(j){return arguments.length?(s[0][0]=+j[0][0],s[1][0]=+j[1][0],s[0][1]=+j[0][1],s[1][1]=+j[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(j){return arguments.length?(n=j,h):n},h.duration=function(j){return arguments.length?(a=+j,h):a},h.interpolate=function(j){return arguments.length?(l=j,h):l},h.on=function(){var j=c.on.apply(c,arguments);return j===c?h:j},h.clickDistance=function(j){return arguments.length?(v=(j=+j)*j,h):Math.sqrt(v)},h.tapDistance=function(j){return arguments.length?(N=+j,h):N},h}const jt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Fi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],dg=["Enter"," ","Escape"],fg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _r;(function(e){e.Strict="strict",e.Loose="loose"})(_r||(_r={}));var Rn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rn||(Rn={}));var Bi;(function(e){e.Partial="partial",e.Full="full"})(Bi||(Bi={}));const pg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(rn||(rn={}));var Is;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Is||(Is={}));var W;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(W||(W={}));const Cf={[W.Left]:W.Right,[W.Right]:W.Left,[W.Top]:W.Bottom,[W.Bottom]:W.Top};function hg(e){return e===null?null:e?"valid":"invalid"}const mg=e=>"id"in e&&"source"in e&&"target"in e,tE=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),wc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ji=(e,t=[0,0])=>{const{width:n,height:r}=Gt(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},nE=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):wc(i)?i:t.nodeLookup.get(i.id));const a=s?_s(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ia(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return oa(n)},eo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=ia(n,_s(i)),r=!0)}),r?oa(n):{x:0,y:0,width:0,height:0}},Nc=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...no(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:f,selectable:d=!0,hidden:p=!1}=c;if(s&&!d||p)continue;const y=f.width??c.width??c.initialWidth??null,x=f.height??c.height??c.initialHeight??null,v=Hi(a,Pr(c)),N=(y??0)*(x??0),h=o&&v>0;(!c.internals.handleBounds||h||v>=N||c.dragging)&&l.push(c)}return l},rE=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function iE(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function oE({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=iE(e,s),l=eo(a),c=Sc(l,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function gg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let d=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",jt.error005());else{const y=a.measured.width,x=a.measured.height;y&&x&&(d=[[l,c],[l+y,c+x]])}else a&&Rr(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+c],[s.extent[1][0]+l,s.extent[1][1]+c]]);const p=Rr(d)?Bn(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",jt.error015())),{position:{x:p.x-l+(s.measured.width??0)*f[0],y:p.y-c+(s.measured.height??0)*f[1]},positionAbsolute:p}}async function sE({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(p=>p.id)),s=[];for(const p of n){if(p.deletable===!1)continue;const y=o.has(p.id),x=!y&&p.parentId&&s.find(v=>v.id===p.parentId);(y||x)&&s.push(p)}const a=new Set(t.map(p=>p.id)),l=r.filter(p=>p.deletable!==!1),f=rE(s,l);for(const p of l)a.has(p.id)&&!f.find(x=>x.id===p.id)&&f.push(p);if(!i)return{edges:f,nodes:s};const d=await i({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const Mr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Bn=(e={x:0,y:0},t,n)=>({x:Mr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Mr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function yg(e,t,n){const{width:r,height:i}=Gt(n),{x:o,y:s}=n.internals.positionAbsolute;return Bn(e,[[o,s],[o+r,s+i]],t)}const jf=(e,t,n)=>e<t?Mr(Math.abs(e-t),1,t)/t:e>n?-Mr(Math.abs(e-n),1,t)/t:0,vg=(e,t,n=15,r=40)=>{const i=jf(e.x,r,t.width-r)*n,o=jf(e.y,r,t.height-r)*n;return[i,o]},ia=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),pu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),oa=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Pr=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=wc(e)?e.internals.positionAbsolute:Ji(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},_s=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=wc(e)?e.internals.positionAbsolute:Ji(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},xg=(e,t)=>oa(ia(pu(e),pu(t))),Hi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Tf=e=>pt(e.width)&&pt(e.height)&&pt(e.x)&&pt(e.y),pt=e=>!isNaN(e)&&isFinite(e),aE=(e,t)=>{},to=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),no=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?to(a,s):a},Ms=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Xn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function lE(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Xn(e,n),i=Xn(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Xn(e.top??e.y??0,n),i=Xn(e.bottom??e.y??0,n),o=Xn(e.left??e.x??0,t),s=Xn(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function uE(e,t,n,r,i,o){const{x:s,y:a}=Ms(e,[t,n,r]),{x:l,y:c}=Ms({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=i-l,d=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(d)}}const Sc=(e,t,n,r,i,o)=>{const s=lE(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),f=Mr(c,r,i),d=e.x+e.width/2,p=e.y+e.height/2,y=t/2-d*f,x=n/2-p*f,v=uE(e,y,x,f,t,n),N={left:Math.min(v.left-s.left,0),top:Math.min(v.top-s.top,0),right:Math.min(v.right-s.right,0),bottom:Math.min(v.bottom-s.bottom,0)};return{x:y-N.left+N.right,y:x-N.top+N.bottom,zoom:f}},Vi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Rr(e){return e!=null&&e!=="parent"}function Gt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function wg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ng(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function bf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function cE(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function dE(e){return{...fg,...e||{}}}function yi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=ht(e),a=no({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?to(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const Ec=e=>({width:e.offsetWidth,height:e.offsetHeight}),Sg=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},fE=["INPUT","SELECT","TEXTAREA"];function Eg(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:fE.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const kg=e=>"clientX"in e,ht=(e,t)=>{var o,s;const n=kg(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},If=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Ec(s)}})};function Cg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,f=Math.abs(l-e),d=Math.abs(c-t);return[l,c,f,d]}function Io(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function _f({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case W.Left:return[t-Io(t-r,o),n];case W.Right:return[t+Io(r-t,o),n];case W.Top:return[t,n-Io(n-i,o)];case W.Bottom:return[t,n+Io(i-n,o)]}}function jg({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top,curvature:s=.25}){const[a,l]=_f({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,f]=_f({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,p,y,x]=Cg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:f});return[`M${e},${t} C${a},${l} ${c},${f} ${r},${i}`,d,p,y,x]}function Tg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function pE({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function hE({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=ia(_s(e),_s(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Hi(s,oa(o))>0}const mE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,gE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),bg=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||mE;let i;return mg(e)?i={...e}:i={...e,id:r(e)},gE(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Ig({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Tg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Mf={[W.Left]:{x:-1,y:0},[W.Right]:{x:1,y:0},[W.Top]:{x:0,y:-1},[W.Bottom]:{x:0,y:1}},yE=({source:e,sourcePosition:t=W.Bottom,target:n})=>t===W.Left||t===W.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function vE({source:e,sourcePosition:t=W.Bottom,target:n,targetPosition:r=W.Top,center:i,offset:o,stepPosition:s}){const a=Mf[t],l=Mf[r],c={x:e.x+a.x*o,y:e.y+a.y*o},f={x:n.x+l.x*o,y:n.y+l.y*o},d=yE({source:c,sourcePosition:t,target:f}),p=d.x!==0?"x":"y",y=d[p];let x=[],v,N;const h={x:0,y:0},g={x:0,y:0},[,,m,w]=Tg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[p]*l[p]===-1){p==="x"?(v=i.x??c.x+(f.x-c.x)*s,N=i.y??(c.y+f.y)/2):(v=i.x??(c.x+f.x)/2,N=i.y??c.y+(f.y-c.y)*s);const E=[{x:v,y:c.y},{x:v,y:f.y}],k=[{x:c.x,y:N},{x:f.x,y:N}];a[p]===y?x=p==="x"?E:k:x=p==="x"?k:E}else{const E=[{x:c.x,y:f.y}],k=[{x:f.x,y:c.y}];if(p==="x"?x=a.x===y?k:E:x=a.y===y?E:k,t===r){const O=Math.abs(e[p]-n[p]);if(O<=o){const F=Math.min(o-1,o-O);a[p]===y?h[p]=(c[p]>e[p]?-1:1)*F:g[p]=(f[p]>n[p]?-1:1)*F}}if(t!==r){const O=p==="x"?"y":"x",F=a[p]===l[O],j=c[O]>f[O],M=c[O]<f[O];(a[p]===1&&(!F&&j||F&&M)||a[p]!==1&&(!F&&M||F&&j))&&(x=p==="x"?E:k)}const b={x:c.x+h.x,y:c.y+h.y},P={x:f.x+g.x,y:f.y+g.y},L=Math.max(Math.abs(b.x-x[0].x),Math.abs(P.x-x[0].x)),A=Math.max(Math.abs(b.y-x[0].y),Math.abs(P.y-x[0].y));L>=A?(v=(b.x+P.x)/2,N=x[0].y):(v=x[0].x,N=(b.y+P.y)/2)}return[[e,{x:c.x+h.x,y:c.y+h.y},...x,{x:f.x+g.x,y:f.y+g.y},n],v,N,m,w]}function xE(e,t,n,r){const i=Math.min(Pf(e,t)/2,Pf(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*f}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function hu({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20,stepPosition:f=.5}){const[d,p,y,x,v]=vE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c,stepPosition:f});return[d.reduce((h,g,m)=>{let w="";return m>0&&m<d.length-1?w=xE(d[m-1],g,d[m+1],s):w=`${m===0?"M":"L"}${g.x} ${g.y}`,h+=w,h},""),p,y,x,v]}function Rf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function wE(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Rf(t)||!Rf(n))return null;const r=t.internals.handleBounds||Af(t.handles),i=n.internals.handleBounds||Af(n.handles),o=Of((r==null?void 0:r.source)??[],e.sourceHandle),s=Of(e.connectionMode===_r.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(d=e.onError)==null||d.call(e,"008",jt.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||W.Bottom,l=(s==null?void 0:s.position)||W.Top,c=Hn(t,o,a),f=Hn(n,s,l);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function Af(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Hn(e,t,n=W.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Gt(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case W.Top:return{x:i+s/2,y:o};case W.Right:return{x:i+s,y:o+a/2};case W.Bottom:return{x:i+s/2,y:o+a};case W.Left:return{x:i,y:o+a/2}}}function Of(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function mu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function NE(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=mu(l,t);o.has(c)||(s.push({id:c,color:l.color||n,...l}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const _g=1e3,SE=10,kc={nodeOrigin:[0,0],nodeExtent:Fi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},EE={...kc,checkEquality:!0};function Cc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function kE(e,t,n){const r=Cc(kc,n);for(const i of e.values())if(i.parentId)Tc(i,e,t,r);else{const o=Ji(i,r.nodeOrigin),s=Rr(i.extent)?i.extent:r.nodeExtent,a=Bn(o,s,Gt(i));i.internals.positionAbsolute=a}}function CE(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function jc(e){return e==="manual"}function gu(e,t,n,r={}){var c,f;const i=Cc(EE,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!jc(i.zIndexMode)?_g:0;let l=e.length>0;t.clear(),n.clear();for(const d of e){let p=s.get(d.id);if(i.checkEquality&&d===(p==null?void 0:p.internals.userNode))t.set(d.id,p);else{const y=Ji(d,i.nodeOrigin),x=Rr(d.extent)?d.extent:i.nodeExtent,v=Bn(y,x,Gt(d));p={...i.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:v,handleBounds:CE(d,p),z:Mg(d,a,i.zIndexMode),userNode:d}},t.set(d.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(l=!1),d.parentId&&Tc(p,t,n,r,o)}return l}function jE(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Tc(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:l}=Cc(kc,r),c=e.parentId,f=t.get(c);if(!f){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}jE(e,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&l==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*SE),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const d=o&&!jc(l)?_g:0,{x:p,y,z:x}=TE(e,f,s,a,d,l),{positionAbsolute:v}=e.internals,N=p!==v.x||y!==v.y;(N||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:N?{x:p,y}:v,z:x}})}function Mg(e,t,n){const r=pt(e.zIndex)?e.zIndex:0;return jc(n)?r:r+(e.selected?t:0)}function TE(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,l=Gt(e),c=Ji(e,n),f=Rr(e.extent)?Bn(c,e.extent,l):c;let d=Bn({x:s+f.x,y:a+f.y},r,l);e.extent==="parent"&&(d=yg(d,l,t));const p=Mg(e,i,o),y=t.internals.z??0;return{x:d.x,y:d.y,z:y>=p?y+1:p}}function bc(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const c=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Pr(l),f=xg(c,a.rect);o.set(a.parentId,{expandedRect:f,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},c)=>{var m;const f=l.internals.positionAbsolute,d=Gt(l),p=l.origin??r,y=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,x=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,v=Math.max(d.width,Math.round(a.width)),N=Math.max(d.height,Math.round(a.height)),h=(v-d.width)*p[0],g=(N-d.height)*p[1];(y>0||x>0||h||g)&&(i.push({id:c,type:"position",position:{x:l.position.x-y+h,y:l.position.y-x+g}}),(m=n.get(c))==null||m.forEach(w=>{e.some(S=>S.id===w.id)||i.push({id:w.id,type:"position",position:{x:w.position.x+y,y:w.position.y+x}})})),(d.width<a.width||d.height<a.height||y||x)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:v+(y?p[0]*y-h:0),height:N+(x?p[1]*x-g:0)}})}),i}function bE(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const c=[],f=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const y of e.values()){const x=t.get(y.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const v=Ec(y.nodeElement),N=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(N||!x.internals.handleBounds||y.force))){const g=y.nodeElement.getBoundingClientRect(),m=Rr(x.extent)?x.extent:o;let{positionAbsolute:w}=x.internals;x.parentId&&x.extent==="parent"?w=yg(w,v,t.get(x.parentId)):m&&(w=Bn(w,m,v));const S={...x,measured:v,internals:{...x.internals,positionAbsolute:w,handleBounds:{source:If("source",y.nodeElement,g,d,x.id),target:If("target",y.nodeElement,g,d,x.id)}}};t.set(x.id,S),x.parentId&&Tc(S,t,n,{nodeOrigin:i,zIndexMode:s}),l=!0,N&&(c.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&p.push({id:x.id,parentId:x.parentId,rect:Pr(S,i)}))}}if(p.length>0){const y=bc(p,t,n,i);c.push(...y)}return{changes:c,updatedInternals:l}}async function IE({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Lf(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function Pg(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,f=`${o}-${a}--${i}-${s}`;Lf("source",l,f,e,i,s),Lf("target",l,c,e,o,a),t.set(r.id,r)}}function Rg(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Rg(n,t):!1}function $f(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function _E(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Rg(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Za({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[c,f]of t){const d=(s=n.get(c))==null?void 0:s.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function ME({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=to(o,t);return{x:s.x-o.x,y:s.y-o.y}}function PE({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,c={x:0,y:0},f=null,d=!1,p=null,y=!1,x=!1,v=null;function N({noDragClassName:g,handleSelector:m,domNode:w,isSelectable:S,nodeId:E,nodeClickDistance:k=0}){p=Ke(w);function b({x:O,y:F}){const{nodeLookup:j,nodeExtent:M,snapGrid:_,snapToGrid:$,nodeOrigin:C,onNodeDrag:T,onSelectionDrag:R,onError:D,updateNodePositions:z}=t();o={x:O,y:F};let B=!1;const H=a.size>1,U=H&&M?pu(eo(a)):null,Y=H&&$?ME({dragItems:a,snapGrid:_,x:O,y:F}):null;for(const[Q,G]of a){if(!j.has(Q))continue;let X={x:O-G.distance.x,y:F-G.distance.y};$&&(X=Y?{x:Math.round(X.x+Y.x),y:Math.round(X.y+Y.y)}:to(X,_));let ee=null;if(H&&M&&!G.extent&&U){const{positionAbsolute:q}=G.internals,se=q.x-U.x+M[0][0],ce=q.x+G.measured.width-U.x2+M[1][0],oe=q.y-U.y+M[0][1],Me=q.y+G.measured.height-U.y2+M[1][1];ee=[[se,oe],[ce,Me]]}const{position:J,positionAbsolute:Z}=gg({nodeId:Q,nextPosition:X,nodeLookup:j,nodeExtent:ee||M,nodeOrigin:C,onError:D});B=B||G.position.x!==J.x||G.position.y!==J.y,G.position=J,G.internals.positionAbsolute=Z}if(x=x||B,!!B&&(z(a,!0),v&&(r||T||!E&&R))){const[Q,G]=Za({nodeId:E,dragItems:a,nodeLookup:j});r==null||r(v,a,Q,G),T==null||T(v,Q,G),E||R==null||R(v,G)}}async function P(){if(!f)return;const{transform:O,panBy:F,autoPanSpeed:j,autoPanOnNodeDrag:M}=t();if(!M){l=!1,cancelAnimationFrame(s);return}const[_,$]=vg(c,f,j);(_!==0||$!==0)&&(o.x=(o.x??0)-_/O[2],o.y=(o.y??0)-$/O[2],await F({x:_,y:$})&&b(o)),s=requestAnimationFrame(P)}function L(O){var H;const{nodeLookup:F,multiSelectionActive:j,nodesDraggable:M,transform:_,snapGrid:$,snapToGrid:C,selectNodesOnDrag:T,onNodeDragStart:R,onSelectionDragStart:D,unselectNodesAndEdges:z}=t();d=!0,(!T||!S)&&!j&&E&&((H=F.get(E))!=null&&H.selected||z()),S&&T&&E&&(e==null||e(E));const B=yi(O.sourceEvent,{transform:_,snapGrid:$,snapToGrid:C,containerBounds:f});if(o=B,a=_E(F,M,B,E),a.size>0&&(n||R||!E&&D)){const[U,Y]=Za({nodeId:E,dragItems:a,nodeLookup:F});n==null||n(O.sourceEvent,a,U,Y),R==null||R(O.sourceEvent,U,Y),E||D==null||D(O.sourceEvent,Y)}}const A=Qm().clickDistance(k).on("start",O=>{const{domNode:F,nodeDragThreshold:j,transform:M,snapGrid:_,snapToGrid:$}=t();f=(F==null?void 0:F.getBoundingClientRect())||null,y=!1,x=!1,v=O.sourceEvent,j===0&&L(O),o=yi(O.sourceEvent,{transform:M,snapGrid:_,snapToGrid:$,containerBounds:f}),c=ht(O.sourceEvent,f)}).on("drag",O=>{const{autoPanOnNodeDrag:F,transform:j,snapGrid:M,snapToGrid:_,nodeDragThreshold:$,nodeLookup:C}=t(),T=yi(O.sourceEvent,{transform:j,snapGrid:M,snapToGrid:_,containerBounds:f});if(v=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||E&&!C.has(E))&&(y=!0),!y){if(!l&&F&&d&&(l=!0,P()),!d){const R=ht(O.sourceEvent,f),D=R.x-c.x,z=R.y-c.y;Math.sqrt(D*D+z*z)>$&&L(O)}(o.x!==T.xSnapped||o.y!==T.ySnapped)&&a&&d&&(c=ht(O.sourceEvent,f),b(T))}}).on("end",O=>{if(!(!d||y)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:F,updateNodePositions:j,onNodeDragStop:M,onSelectionDragStop:_}=t();if(x&&(j(a,!1),x=!1),i||M||!E&&_){const[$,C]=Za({nodeId:E,dragItems:a,nodeLookup:F,dragging:!1});i==null||i(O.sourceEvent,a,$,C),M==null||M(O.sourceEvent,$,C),E||_==null||_(O.sourceEvent,C)}}}).filter(O=>{const F=O.target;return!O.button&&(!g||!$f(F,`.${g}`,w))&&(!m||$f(F,m,w))});p.call(A)}function h(){p==null||p.on(".drag",null)}return{update:N,destroy:h}}function RE(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Hi(i,Pr(o))>0&&r.push(o);return r}const AE=250;function OE(e,t,n,r){var a,l;let i=[],o=1/0;const s=RE(e,n,t+AE);for(const c of s){const f=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:p,y}=Hn(c,d,d.position,!0),x=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(y-e.y,2));x>t||(x<o?(i=[{...d,x:p,y}],o=x):x===o&&i.push({...d,x:p,y}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(f=>f.type===c)??i[0]}return i[0]}function Ag(e,t,n,r,i,o=!1){var c,f,d;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Hn(s,l,l.position,!0)}:l}function Og(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function LE(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Lg=()=>!0;function $E(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:f,flowId:d,panBy:p,cancelConnection:y,onConnectStart:x,onConnect:v,onConnectEnd:N,isValidConnection:h=Lg,onReconnectEnd:g,updateConnection:m,getTransform:w,getFromHandle:S,autoPanSpeed:E,dragThreshold:k=1,handleDomNode:b}){const P=Sg(e.target);let L=0,A;const{x:O,y:F}=ht(e),j=Og(o,b),M=a==null?void 0:a.getBoundingClientRect();let _=!1;if(!M||!j)return;const $=Ag(i,j,r,l,t);if(!$)return;let C=ht(e,M),T=!1,R=null,D=!1,z=null;function B(){if(!f||!M)return;const[J,Z]=vg(C,M,E);p({x:J,y:Z}),L=requestAnimationFrame(B)}const H={...$,nodeId:i,type:j,position:$.position},U=l.get(i);let Q={inProgress:!0,isValid:null,from:Hn(U,H,W.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:U,to:C,toHandle:null,toPosition:Cf[H.position],toNode:null,pointer:C};function G(){_=!0,m(Q),x==null||x(e,{nodeId:i,handleId:r,handleType:j})}k===0&&G();function X(J){if(!_){const{x:Me,y:Yt}=ht(J),It=Me-O,Sn=Yt-F;if(!(It*It+Sn*Sn>k*k))return;G()}if(!S()||!H){ee(J);return}const Z=w();C=ht(J,M),A=OE(no(C,Z,!1,[1,1]),n,l,H),T||(B(),T=!0);const q=$g(J,{handle:A,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:h,doc:P,lib:c,flowId:d,nodeLookup:l});z=q.handleDomNode,R=q.connection,D=LE(!!A,q.isValid);const se=l.get(i),ce=se?Hn(se,H,W.Left,!0):Q.from,oe={...Q,from:ce,isValid:D,to:q.toHandle&&D?Ms({x:q.toHandle.x,y:q.toHandle.y},Z):C,toHandle:q.toHandle,toPosition:D&&q.toHandle?q.toHandle.position:Cf[H.position],toNode:q.toHandle?l.get(q.toHandle.nodeId):null,pointer:C};m(oe),Q=oe}function ee(J){if(!("touches"in J&&J.touches.length>0)){if(_){(A||z)&&R&&D&&(v==null||v(R));const{inProgress:Z,...q}=Q,se={...q,toPosition:Q.toHandle?Q.toPosition:null};N==null||N(J,se),o&&(g==null||g(J,se))}y(),cancelAnimationFrame(L),T=!1,D=!1,R=null,z=null,P.removeEventListener("mousemove",X),P.removeEventListener("mouseup",ee),P.removeEventListener("touchmove",X),P.removeEventListener("touchend",ee)}}P.addEventListener("mousemove",X),P.addEventListener("mouseup",ee),P.addEventListener("touchmove",X),P.addEventListener("touchend",ee)}function $g(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=Lg,nodeLookup:f}){const d=o==="target",p=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:x}=ht(e),v=s.elementFromPoint(y,x),N=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:p,h={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const g=Og(void 0,N),m=N.getAttribute("data-nodeid"),w=N.getAttribute("data-handleid"),S=N.classList.contains("connectable"),E=N.classList.contains("connectableend");if(!m||!g)return h;const k={source:d?m:r,sourceHandle:d?w:i,target:d?r:m,targetHandle:d?i:w};h.connection=k;const P=S&&E&&(n===_r.Strict?d&&g==="source"||!d&&g==="target":m!==r||w!==i);h.isValid=P&&c(k),h.toHandle=Ag(m,g,w,f,n,!0)}return h}const yu={onPointerDown:$E,isValid:$g};function DE({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Ke(e);function o({translateExtent:a,width:l,height:c,zoomStep:f=1,pannable:d=!0,zoomable:p=!0,inversePan:y=!1}){const x=m=>{if(m.sourceEvent.type!=="wheel"||!t)return;const w=n(),S=m.sourceEvent.ctrlKey&&Vi()?10:1,E=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*f,k=w[2]*Math.pow(2,E*S);t.scaleTo(k)};let v=[0,0];const N=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(v=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},h=m=>{const w=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const S=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],E=[S[0]-v[0],S[1]-v[1]];v=S;const k=r()*Math.max(w[2],Math.log(w[2]))*(y?-1:1),b={x:w[0]-E[0]*k,y:w[1]-E[1]*k},P=[[0,0],[l,c]];t.setViewportConstrained({x:b.x,y:b.y,zoom:w[2]},P,a)},g=cg().on("start",N).on("zoom",d?h:null).on("zoom.wheel",p?x:null);i.call(g,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:ct}}const sa=e=>({x:e.x,y:e.y,zoom:e.k}),Ja=({x:e,y:t,zoom:n})=>ra.translate(e,t).scale(n),cr=(e,t)=>e.target.closest(`.${t}`),Dg=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),zE=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,el=(e,t=0,n=zE,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},zg=e=>{const t=e.ctrlKey&&Vi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function FE({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return f=>{if(cr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const N=ct(f),h=zg(f),g=d*Math.pow(2,h);r.scaleTo(n,g,N,f);return}const p=f.deltaMode===1?20:1;let y=i===Rn.Vertical?0:f.deltaX*p,x=i===Rn.Horizontal?0:f.deltaY*p;!Vi()&&f.shiftKey&&i!==Rn.Vertical&&(y=f.deltaY*p,x=0),r.translateBy(n,-(y/d)*o,-(x/d)*o,{internal:!0});const v=sa(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(f,v),e.panScrollTimeout=setTimeout(()=>{c==null||c(f,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,v))}}function BE({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=cr(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function HE({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=sa(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function VE({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&Dg(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,sa(o.transform)))}}function UE({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Dg(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const l=sa(s.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function WE({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:f}){return d=>{var N;const p=e||t,y=n&&d.ctrlKey,x=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(cr(d,`${c}-flow__node`)||cr(d,`${c}-flow__edge`)))return!0;if(!r&&!p&&!i&&!o&&!n||s||f&&!x||cr(d,a)&&x||cr(d,l)&&(!x||i&&x&&!e)||!n&&d.ctrlKey&&x)return!1;if(!n&&d.type==="touchstart"&&((N=d.touches)==null?void 0:N.length)>1)return d.preventDefault(),!1;if(!p&&!i&&!y&&x||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||x)&&v}}function GE({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:l}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=cg().scaleExtent([t,n]).translateExtent(r),p=Ke(e).call(d);g({x:i.x,y:i.y,zoom:Mr(i.zoom,t,n)},[[0,0],[f.width,f.height]],r);const y=p.on("wheel.zoom"),x=p.on("dblclick.zoom");d.wheelDelta(zg);function v(A,O){return p?new Promise(F=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?gi:Ko).transform(el(p,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>F(!0)),A)}):Promise.resolve(!1)}function N({noWheelClassName:A,noPanClassName:O,onPaneContextMenu:F,userSelectionActive:j,panOnScroll:M,panOnDrag:_,panOnScrollMode:$,panOnScrollSpeed:C,preventScrolling:T,zoomOnPinch:R,zoomOnScroll:D,zoomOnDoubleClick:z,zoomActivationKeyPressed:B,lib:H,onTransformChange:U,connectionInProgress:Y,paneClickDistance:Q,selectionOnDrag:G}){j&&!c.isZoomingOrPanning&&h();const X=M&&!B&&!j;d.clickDistance(G?1/0:!pt(Q)||Q<0?0:Q);const ee=X?FE({zoomPanValues:c,noWheelClassName:A,d3Selection:p,d3Zoom:d,panOnScrollMode:$,panOnScrollSpeed:C,zoomOnPinch:R,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):BE({noWheelClassName:A,preventScrolling:T,d3ZoomHandler:y});if(p.on("wheel.zoom",ee,{passive:!1}),!j){const Z=HE({zoomPanValues:c,onDraggingChange:l,onPanZoomStart:s});d.on("start",Z);const q=VE({zoomPanValues:c,panOnDrag:_,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:U});d.on("zoom",q);const se=UE({zoomPanValues:c,panOnDrag:_,panOnScroll:M,onPaneContextMenu:F,onPanZoomEnd:a,onDraggingChange:l});d.on("end",se)}const J=WE({zoomActivationKeyPressed:B,panOnDrag:_,zoomOnScroll:D,panOnScroll:M,zoomOnDoubleClick:z,zoomOnPinch:R,userSelectionActive:j,noPanClassName:O,noWheelClassName:A,lib:H,connectionInProgress:Y});d.filter(J),z?p.on("dblclick.zoom",x):p.on("dblclick.zoom",null)}function h(){d.on("zoom",null)}async function g(A,O,F){const j=Ja(A),M=d==null?void 0:d.constrain()(j,O,F);return M&&await v(M),new Promise(_=>_(M))}async function m(A,O){const F=Ja(A);return await v(F,O),new Promise(j=>j(F))}function w(A){if(p){const O=Ja(A),F=p.property("__zoom");(F.k!==A.zoom||F.x!==A.x||F.y!==A.y)&&(d==null||d.transform(p,O,null,{sync:!0}))}}function S(){const A=p?ug(p.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function E(A,O){return p?new Promise(F=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?gi:Ko).scaleTo(el(p,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>F(!0)),A)}):Promise.resolve(!1)}function k(A,O){return p?new Promise(F=>{d==null||d.interpolate((O==null?void 0:O.interpolate)==="linear"?gi:Ko).scaleBy(el(p,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>F(!0)),A)}):Promise.resolve(!1)}function b(A){d==null||d.scaleExtent(A)}function P(A){d==null||d.translateExtent(A)}function L(A){const O=!pt(A)||A<0?0:A;d==null||d.clickDistance(O)}return{update:N,destroy:h,setViewport:m,setViewportConstrained:g,getViewport:S,scaleTo:E,scaleBy:k,setScaleExtent:b,setTranslateExtent:P,syncViewport:w,setClickDistance:L}}var Ar;(function(e){e.Line="line",e.Handle="handle"})(Ar||(Ar={}));function YE({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function Df(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Qt(e,t){return Math.max(0,t-e)}function Xt(e,t){return Math.max(0,e-t)}function _o(e,t,n){return Math.max(0,t-e,e-n)}function zf(e,t){return e?!t:t}function KE(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:f,isVertical:d}=t,p=f&&d,{xSnapped:y,ySnapped:x}=n,{minWidth:v,maxWidth:N,minHeight:h,maxHeight:g}=r,{x:m,y:w,width:S,height:E,aspectRatio:k}=e;let b=Math.floor(f?y-e.pointerX:0),P=Math.floor(d?x-e.pointerY:0);const L=S+(l?-b:b),A=E+(c?-P:P),O=-o[0]*S,F=-o[1]*E;let j=_o(L,v,N),M=_o(A,h,g);if(s){let C=0,T=0;l&&b<0?C=Qt(m+b+O,s[0][0]):!l&&b>0&&(C=Xt(m+L+O,s[1][0])),c&&P<0?T=Qt(w+P+F,s[0][1]):!c&&P>0&&(T=Xt(w+A+F,s[1][1])),j=Math.max(j,C),M=Math.max(M,T)}if(a){let C=0,T=0;l&&b>0?C=Xt(m+b,a[0][0]):!l&&b<0&&(C=Qt(m+L,a[1][0])),c&&P>0?T=Xt(w+P,a[0][1]):!c&&P<0&&(T=Qt(w+A,a[1][1])),j=Math.max(j,C),M=Math.max(M,T)}if(i){if(f){const C=_o(L/k,h,g)*k;if(j=Math.max(j,C),s){let T=0;!l&&!c||l&&!c&&p?T=Xt(w+F+L/k,s[1][1])*k:T=Qt(w+F+(l?b:-b)/k,s[0][1])*k,j=Math.max(j,T)}if(a){let T=0;!l&&!c||l&&!c&&p?T=Qt(w+L/k,a[1][1])*k:T=Xt(w+(l?b:-b)/k,a[0][1])*k,j=Math.max(j,T)}}if(d){const C=_o(A*k,v,N)/k;if(M=Math.max(M,C),s){let T=0;!l&&!c||c&&!l&&p?T=Xt(m+A*k+O,s[1][0])/k:T=Qt(m+(c?P:-P)*k+O,s[0][0])/k,M=Math.max(M,T)}if(a){let T=0;!l&&!c||c&&!l&&p?T=Qt(m+A*k,a[1][0])/k:T=Xt(m+(c?P:-P)*k,a[0][0])/k,M=Math.max(M,T)}}}P=P+(P<0?M:-M),b=b+(b<0?j:-j),i&&(p?L>A*k?P=(zf(l,c)?-b:b)/k:b=(zf(l,c)?-P:P)*k:f?(P=b/k,c=l):(b=P*k,l=c));const _=l?m+b:m,$=c?w+P:w;return{width:S+(l?-b:b),height:E+(c?-P:P),x:o[0]*b*(l?-1:1)+_,y:o[1]*P*(c?-1:1)+$}}const Fg={width:0,height:0,x:0,y:0},QE={...Fg,pointerX:0,pointerY:0,aspectRatio:1};function XE(e){return[[0,0],[e.measured.width,e.measured.height]]}function qE(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function ZE({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Ke(e);let s={controlDirection:Df("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:f,keepAspectRatio:d,resizeDirection:p,onResizeStart:y,onResize:x,onResizeEnd:v,shouldResize:N}){let h={...Fg},g={...QE};s={boundaries:f,resizeDirection:p,keepAspectRatio:d,controlDirection:Df(c)};let m,w=null,S=[],E,k,b,P=!1;const L=Qm().on("start",A=>{const{nodeLookup:O,transform:F,snapGrid:j,snapToGrid:M,nodeOrigin:_,paneDomNode:$}=n();if(m=O.get(t),!m)return;w=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:T}=yi(A.sourceEvent,{transform:F,snapGrid:j,snapToGrid:M,containerBounds:w});h={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},g={...h,pointerX:C,pointerY:T,aspectRatio:h.width/h.height},E=void 0,m.parentId&&(m.extent==="parent"||m.expandParent)&&(E=O.get(m.parentId),k=E&&m.extent==="parent"?XE(E):void 0),S=[],b=void 0;for(const[R,D]of O)if(D.parentId===t&&(S.push({id:R,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const z=qE(D,m,D.origin??_);b?b=[[Math.min(z[0][0],b[0][0]),Math.min(z[0][1],b[0][1])],[Math.max(z[1][0],b[1][0]),Math.max(z[1][1],b[1][1])]]:b=z}y==null||y(A,{...h})}).on("drag",A=>{const{transform:O,snapGrid:F,snapToGrid:j,nodeOrigin:M}=n(),_=yi(A.sourceEvent,{transform:O,snapGrid:F,snapToGrid:j,containerBounds:w}),$=[];if(!m)return;const{x:C,y:T,width:R,height:D}=h,z={},B=m.origin??M,{width:H,height:U,x:Y,y:Q}=KE(g,s.controlDirection,_,s.boundaries,s.keepAspectRatio,B,k,b),G=H!==R,X=U!==D,ee=Y!==C&&G,J=Q!==T&&X;if(!ee&&!J&&!G&&!X)return;if((ee||J||B[0]===1||B[1]===1)&&(z.x=ee?Y:h.x,z.y=J?Q:h.y,h.x=z.x,h.y=z.y,S.length>0)){const ce=Y-C,oe=Q-T;for(const Me of S)Me.position={x:Me.position.x-ce+B[0]*(H-R),y:Me.position.y-oe+B[1]*(U-D)},$.push(Me)}if((G||X)&&(z.width=G&&(!s.resizeDirection||s.resizeDirection==="horizontal")?H:h.width,z.height=X&&(!s.resizeDirection||s.resizeDirection==="vertical")?U:h.height,h.width=z.width,h.height=z.height),E&&m.expandParent){const ce=B[0]*(z.width??0);z.x&&z.x<ce&&(h.x=ce,g.x=g.x-(z.x-ce));const oe=B[1]*(z.height??0);z.y&&z.y<oe&&(h.y=oe,g.y=g.y-(z.y-oe))}const Z=YE({width:h.width,prevWidth:R,height:h.height,prevHeight:D,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...h,direction:Z};(N==null?void 0:N(A,q))!==!1&&(P=!0,x==null||x(A,q),r(z,$))}).on("end",A=>{P&&(v==null||v(A,{...h}),i==null||i({...h}),P=!1)});o.call(L)}function l(){o.on(".drag",null)}return{update:a,destroy:l}}var Bg={exports:{}},Hg={},Vg={exports:{}},Ug={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=I;function JE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e2=typeof Object.is=="function"?Object.is:JE,t2=Or.useState,n2=Or.useEffect,r2=Or.useLayoutEffect,i2=Or.useDebugValue;function o2(e,t){var n=t(),r=t2({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return r2(function(){i.value=n,i.getSnapshot=t,tl(i)&&o({inst:i})},[e,n,t]),n2(function(){return tl(i)&&o({inst:i}),e(function(){tl(i)&&o({inst:i})})},[e]),i2(n),n}function tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!e2(e,n)}catch{return!0}}function s2(e,t){return t()}var a2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s2:o2;Ug.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:a2;Vg.exports=Ug;var l2=Vg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=I,u2=l2;function c2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d2=typeof Object.is=="function"?Object.is:c2,f2=u2.useSyncExternalStore,p2=aa.useRef,h2=aa.useEffect,m2=aa.useMemo,g2=aa.useDebugValue;Hg.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=p2(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=m2(function(){function l(y){if(!c){if(c=!0,f=y,y=r(y),i!==void 0&&s.hasValue){var x=s.value;if(i(x,y))return d=x}return d=y}if(x=d,d2(f,y))return x;var v=r(y);return i!==void 0&&i(x,v)?(f=y,x):(f=y,d=v)}var c=!1,f,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var a=f2(e,o[0],o[1]);return h2(function(){s.hasValue=!0,s.value=a},[a]),g2(a),a};Bg.exports=Hg;var y2=Bg.exports;const Wg=Sp(y2),v2={},Ff=e=>{let t;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,y))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(v2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},Gg=e=>e?Ff(e):Ff,{useDebugValue:x2}=Lt,{useSyncExternalStoreWithSelector:w2}=Wg,N2=e=>e;function Yg(e,t=N2,n){const r=w2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return x2(r),r}const Bf=(e,t)=>{const n=Gg(e),r=(i,o=t)=>Yg(n,i,o);return Object.assign(r,n),r},S2=(e,t)=>e?Bf(e,t):Bf;function he(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const la=I.createContext(null),E2=la.Provider,Kg=jt.error001();function re(e,t){const n=I.useContext(la);if(n===null)throw new Error(Kg);return Yg(n,e,t)}function me(){const e=I.useContext(la);if(e===null)throw new Error(Kg);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Hf={display:"none"},k2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Qg="react-flow__node-desc",Xg="react-flow__edge-desc",C2="react-flow__aria-live",j2=e=>e.ariaLiveMessage,T2=e=>e.ariaLabelConfig;function b2({rfId:e}){const t=re(j2);return u.jsx("div",{id:`${C2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:k2,children:t})}function I2({rfId:e,disableKeyboardA11y:t}){const n=re(T2);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${Qg}-${e}`,style:Hf,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${Xg}-${e}`,style:Hf,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(b2,{rfId:e})]})}const ua=I.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return u.jsx("div",{className:Ee(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});ua.displayName="Panel";function _2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(ua,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const M2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Mo=e=>e.id;function P2(e,t){return he(e.selectedNodes.map(Mo),t.selectedNodes.map(Mo))&&he(e.selectedEdges.map(Mo),t.selectedEdges.map(Mo))}function R2({onSelectionChange:e}){const t=me(),{selectedNodes:n,selectedEdges:r}=re(M2,P2);return I.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const A2=e=>!!e.onSelectionChangeHandlers;function O2({onSelectionChange:e}){const t=re(A2);return e||t?u.jsx(R2,{onSelectionChange:e}):null}const qg=[0,0],L2={x:0,y:0,zoom:1},$2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Vf=[...$2,"rfId"],D2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Uf={translateExtent:Fi,nodeOrigin:qg,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function z2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l}=re(D2,he),c=me();I.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=Uf,a()}),[]);const f=I.useRef(Uf);return I.useEffect(()=>{for(const d of Vf){const p=e[d],y=f.current[d];p!==y&&(typeof e[d]>"u"||(d==="nodes"?t(p):d==="edges"?n(p):d==="minZoom"?r(p):d==="maxZoom"?i(p):d==="translateExtent"?o(p):d==="nodeExtent"?s(p):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:dE(p)}):d==="fitView"?c.setState({fitViewQueued:p}):d==="fitViewOptions"?c.setState({fitViewOptions:p}):c.setState({[d]:p})))}f.current=e},Vf.map(d=>e[d])),null}function Wf(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function F2(e){var r;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const i=Wf(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=Wf())!=null&&r.matches?"dark":"light"}const Gf=typeof document<"u"?document:null;function Ui(e=null,t={target:Gf,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),i=I.useRef(!1),o=I.useRef(new Set([])),[s,a]=I.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=c.reduce((d,p)=>d.concat(...p),[]);return[c,f]}return[[],[]]},[e]);return I.useEffect(()=>{const l=(t==null?void 0:t.target)??Gf,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=y=>{var N,h;if(i.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!i.current||i.current&&!c)&&Eg(y))return!1;const v=Kf(y.code,a);if(o.current.add(y[v]),Yf(s,o.current,!1)){const g=((h=(N=y.composedPath)==null?void 0:N.call(y))==null?void 0:h[0])||y.target,m=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(i.current||!m)&&y.preventDefault(),r(!0)}},d=y=>{const x=Kf(y.code,a);Yf(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(y[x]),y.key==="Meta"&&o.current.clear(),i.current=!1},p=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",f),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{l==null||l.removeEventListener("keydown",f),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function Yf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Kf(e,t){return t.includes(e)?"code":"key"}const B2=()=>{const e=me();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=Sc(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},f=n.snapGrid??i,d=n.snapToGrid??o;return no(c,r,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=Ms(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function Zg(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)H2(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function H2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Ic(e,t){return Zg(e,t)}function _c(e,t){return Zg(e,t)}function Cn(e,t){return{id:e,type:"select",selected:t}}function dr(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Cn(o.id,s)))}return r}function Qf({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const a=t.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Xf(e){return{id:e.id,type:"remove"}}const qf=e=>tE(e),V2=e=>mg(e);function Jg(e){return I.forwardRef(e)}const U2=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Zf(e){const[t,n]=I.useState(BigInt(0)),[r]=I.useState(()=>W2(()=>n(i=>i+BigInt(1))));return U2(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function W2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const e0=I.createContext(null);function G2({children:e}){const t=me(),n=I.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:f,onNodesChange:d,nodeLookup:p,fitViewQueued:y,onNodesChangeMiddlewareMap:x}=t.getState();let v=l;for(const h of a)v=typeof h=="function"?h(v):h;let N=Qf({items:v,lookup:p});for(const h of x.values())N=h(N);f&&c(v),N.length>0?d==null||d(N):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:h,nodes:g,setNodes:m}=t.getState();h&&m(g)})},[]),r=Zf(n),i=I.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:p}=t.getState();let y=l;for(const x of a)y=typeof x=="function"?x(y):x;f?c(y):d&&d(Qf({items:y,lookup:p}))},[]),o=Zf(i),s=I.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return u.jsx(e0.Provider,{value:s,children:e})}function Y2(){const e=I.useContext(e0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const K2=e=>!!e.panZoom;function ca(){const e=B2(),t=me(),n=Y2(),r=re(K2),i=I.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var h,g;const{nodeLookup:p,nodeOrigin:y}=t.getState(),x=qf(d)?d:p.get(d.id),v=x.parentId?Ng(x.position,x.measured,x.parentId,p,y):x.position,N={...x,position:v,width:((h=x.measured)==null?void 0:h.width)??x.width,height:((g=x.measured)==null?void 0:g.height)??x.height};return Pr(N)},c=(d,p,y={replace:!1})=>{s(x=>x.map(v=>{if(v.id===d){const N=typeof p=="function"?p(v):p;return y.replace&&qf(N)?N:{...v,...N}}return v}))},f=(d,p,y={replace:!1})=>{a(x=>x.map(v=>{if(v.id===d){const N=typeof p=="function"?p(v):p;return y.replace&&V2(N)?N:{...v,...N}}return v}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var p;return(p=o(d))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(p=>({...p}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const p=Array.isArray(d)?d:[d];n.nodeQueue.push(y=>[...y,...p])},addEdges:d=>{const p=Array.isArray(d)?d:[d];n.edgeQueue.push(y=>[...y,...p])},toObject:()=>{const{nodes:d=[],edges:p=[],transform:y}=t.getState(),[x,v,N]=y;return{nodes:d.map(h=>({...h})),edges:p.map(h=>({...h})),viewport:{x,y:v,zoom:N}}},deleteElements:async({nodes:d=[],edges:p=[]})=>{const{nodes:y,edges:x,onNodesDelete:v,onEdgesDelete:N,triggerNodeChanges:h,triggerEdgeChanges:g,onDelete:m,onBeforeDelete:w}=t.getState(),{nodes:S,edges:E}=await sE({nodesToRemove:d,edgesToRemove:p,nodes:y,edges:x,onBeforeDelete:w}),k=E.length>0,b=S.length>0;if(k){const P=E.map(Xf);N==null||N(E),g(P)}if(b){const P=S.map(Xf);v==null||v(S),h(P)}return(b||k)&&(m==null||m({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(d,p=!0,y)=>{const x=Tf(d),v=x?d:l(d),N=y!==void 0;return v?(y||t.getState().nodes).filter(h=>{const g=t.getState().nodeLookup.get(h.id);if(g&&!x&&(h.id===d.id||!g.internals.positionAbsolute))return!1;const m=Pr(N?h:g),w=Hi(m,v);return p&&w>0||w>=m.width*m.height||w>=v.width*v.height}):[]},isNodeIntersecting:(d,p,y=!0)=>{const v=Tf(d)?d:l(d);if(!v)return!1;const N=Hi(v,p);return y&&N>0||N>=p.width*p.height||N>=v.width*v.height},updateNode:c,updateNodeData:(d,p,y={replace:!1})=>{c(d,x=>{const v=typeof p=="function"?p(x):p;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},updateEdge:f,updateEdgeData:(d,p,y={replace:!1})=>{f(d,x=>{const v=typeof p=="function"?p(x):p;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},getNodesBounds:d=>{const{nodeLookup:p,nodeOrigin:y}=t.getState();return nE(d,{nodeLookup:p,nodeOrigin:y})},getHandleConnections:({type:d,id:p,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}-${d}${p?`-${p}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:d,handleId:p,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}${d?p?`-${d}-${p}`:`-${d}`:""}`))==null?void 0:x.values())??[])},fitView:async d=>{const p=t.getState().fitViewResolver??cE();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:p}),n.nodeQueue.push(y=>[...y]),p.promise}}},[]);return I.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Jf=e=>e.selected,Q2=typeof window<"u"?window:void 0;function X2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=me(),{deleteElements:r}=ca(),i=Ui(e,{actInsideInputWithModifier:!1}),o=Ui(t,{target:Q2});I.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Jf),edges:s.filter(Jf)}),n.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function q2(e){const t=me();I.useEffect(()=>{const n=()=>{var i,o,s,a;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Ec(e.current);(r.height===0||r.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",jt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const da={position:"absolute",width:"100%",height:"100%",top:0,left:0},Z2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function J2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Rn.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:f,maxZoom:d,zoomActivationKeyCode:p,preventScrolling:y=!0,children:x,noWheelClassName:v,noPanClassName:N,onViewportChange:h,isControlledViewport:g,paneClickDistance:m,selectionOnDrag:w}){const S=me(),E=I.useRef(null),{userSelectionActive:k,lib:b,connectionInProgress:P}=re(Z2,he),L=Ui(p),A=I.useRef();q2(E);const O=I.useCallback(F=>{h==null||h({x:F[0],y:F[1],zoom:F[2]}),g||S.setState({transform:F})},[h,g]);return I.useEffect(()=>{if(E.current){A.current=GE({domNode:E.current,minZoom:f,maxZoom:d,translateExtent:c,viewport:l,onDraggingChange:_=>S.setState({paneDragging:_}),onPanZoomStart:(_,$)=>{const{onViewportChangeStart:C,onMoveStart:T}=S.getState();T==null||T(_,$),C==null||C($)},onPanZoom:(_,$)=>{const{onViewportChange:C,onMove:T}=S.getState();T==null||T(_,$),C==null||C($)},onPanZoomEnd:(_,$)=>{const{onViewportChangeEnd:C,onMoveEnd:T}=S.getState();T==null||T(_,$),C==null||C($)}});const{x:F,y:j,zoom:M}=A.current.getViewport();return S.setState({panZoom:A.current,transform:[F,j,M],domNode:E.current.closest(".react-flow")}),()=>{var _;(_=A.current)==null||_.destroy()}}},[]),I.useEffect(()=>{var F;(F=A.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:L,preventScrolling:y,noPanClassName:N,userSelectionActive:k,noWheelClassName:v,lib:b,onTransformChange:O,connectionInProgress:P,selectionOnDrag:w,paneClickDistance:m})},[e,t,n,r,i,o,s,a,L,y,N,k,v,b,O,P,w,m]),u.jsx("div",{className:"react-flow__renderer",ref:E,style:da,children:x})}const ek=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function tk(){const{userSelectionActive:e,userSelectionRect:t}=re(ek,he);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const nl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},nk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function rk({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Bi.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:f,onPaneMouseEnter:d,onPaneMouseMove:p,onPaneMouseLeave:y,children:x}){const v=me(),{userSelectionActive:N,elementsSelectable:h,dragging:g,connectionInProgress:m}=re(nk,he),w=h&&(e||N),S=I.useRef(null),E=I.useRef(),k=I.useRef(new Set),b=I.useRef(new Set),P=I.useRef(!1),L=C=>{if(P.current||m){P.current=!1;return}l==null||l(C),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},A=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}c==null||c(C)},O=f?C=>f(C):void 0,F=C=>{P.current&&(C.stopPropagation(),P.current=!1)},j=C=>{var U,Y;const{domNode:T}=v.getState();if(E.current=T==null?void 0:T.getBoundingClientRect(),!E.current)return;const R=C.target===S.current;if(!R&&!!C.target.closest(".nokey")||!e||!(o&&R||t)||C.button!==0||!C.isPrimary)return;(Y=(U=C.target)==null?void 0:U.setPointerCapture)==null||Y.call(U,C.pointerId),P.current=!1;const{x:B,y:H}=ht(C.nativeEvent,E.current);v.setState({userSelectionRect:{width:0,height:0,startX:B,startY:H,x:B,y:H}}),R||(C.stopPropagation(),C.preventDefault())},M=C=>{const{userSelectionRect:T,transform:R,nodeLookup:D,edgeLookup:z,connectionLookup:B,triggerNodeChanges:H,triggerEdgeChanges:U,defaultEdgeOptions:Y,resetSelectedElements:Q}=v.getState();if(!E.current||!T)return;const{x:G,y:X}=ht(C.nativeEvent,E.current),{startX:ee,startY:J}=T;if(!P.current){const oe=t?0:i;if(Math.hypot(G-ee,X-J)<=oe)return;Q(),s==null||s(C)}P.current=!0;const Z={startX:ee,startY:J,x:G<ee?G:ee,y:X<J?X:J,width:Math.abs(G-ee),height:Math.abs(X-J)},q=k.current,se=b.current;k.current=new Set(Nc(D,Z,R,n===Bi.Partial,!0).map(oe=>oe.id)),b.current=new Set;const ce=(Y==null?void 0:Y.selectable)??!0;for(const oe of k.current){const Me=B.get(oe);if(Me)for(const{edgeId:Yt}of Me.values()){const It=z.get(Yt);It&&(It.selectable??ce)&&b.current.add(Yt)}}if(!bf(q,k.current)){const oe=dr(D,k.current,!0);H(oe)}if(!bf(se,b.current)){const oe=dr(z,b.current);U(oe)}v.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},_=C=>{var T,R;C.button===0&&((R=(T=C.target)==null?void 0:T.releasePointerCapture)==null||R.call(T,C.pointerId),!N&&C.target===S.current&&v.getState().userSelectionRect&&(L==null||L(C)),v.setState({userSelectionActive:!1,userSelectionRect:null}),P.current&&(a==null||a(C),v.setState({nodesSelectionActive:k.current.size>0})))},$=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Ee(["react-flow__pane",{draggable:$,dragging:g,selection:e}]),onClick:w?void 0:nl(L,S),onContextMenu:nl(A,S),onWheel:nl(O,S),onPointerEnter:w?void 0:d,onPointerMove:w?M:p,onPointerUp:w?_:void 0,onPointerDownCapture:w?j:void 0,onClickCapture:w?F:void 0,onPointerLeave:y,ref:S,style:da,children:[x,u.jsx(tk,{})]})}function vu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",jt.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function t0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=me(),[l,c]=I.useState(!1),f=I.useRef();return I.useEffect(()=>{f.current=PE({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{vu({id:d,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),I.useEffect(()=>{var d,p;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var y;(y=f.current)==null||y.destroy()}},[n,r,t,o,e,i]),l}const ik=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function n0(){const e=me();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:f}=e.getState(),d=new Map,p=ik(s),y=i?o[0]:5,x=i?o[1]:5,v=n.direction.x*y*n.factor,N=n.direction.y*x*n.factor;for(const[,h]of c){if(!p(h))continue;let g={x:h.internals.positionAbsolute.x+v,y:h.internals.positionAbsolute.y+N};i&&(g=to(g,o));const{position:m,positionAbsolute:w}=gg({nodeId:h.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:f,onError:a});h.position=m,h.internals.positionAbsolute=w,d.set(h.id,h)}l(d)},[])}const Mc=I.createContext(null),ok=Mc.Provider;Mc.Consumer;const r0=()=>I.useContext(Mc),sk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ak=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,f=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===_r.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:f&&c}};function lk({type:e="source",position:t=W.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:f,onTouchStart:d,...p},y){var M,_;const x=s||null,v=e==="target",N=me(),h=r0(),{connectOnClick:g,noPanClassName:m,rfId:w}=re(sk,he),{connectingFrom:S,connectingTo:E,clickConnecting:k,isPossibleEndHandle:b,connectionInProcess:P,clickConnectionInProcess:L,valid:A}=re(ak(h,x,e),he);h||(_=(M=N.getState()).onError)==null||_.call(M,"010",jt.error010());const O=$=>{const{defaultEdgeOptions:C,onConnect:T,hasDefaultEdges:R}=N.getState(),D={...C,...$};if(R){const{edges:z,setEdges:B}=N.getState();B(bg(D,z))}T==null||T(D),a==null||a(D)},F=$=>{if(!h)return;const C=kg($.nativeEvent);if(i&&(C&&$.button===0||!C)){const T=N.getState();yu.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:v,handleId:x,nodeId:h,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:O,isValidConnection:n||T.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}C?f==null||f($):d==null||d($)},j=$=>{const{onClickConnectStart:C,onClickConnectEnd:T,connectionClickStartHandle:R,connectionMode:D,isValidConnection:z,lib:B,rfId:H,nodeLookup:U,connection:Y}=N.getState();if(!h||!R&&!i)return;if(!R){C==null||C($.nativeEvent,{nodeId:h,handleId:x,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:h,type:e,id:x}});return}const Q=Sg($.target),G=n||z,{connection:X,isValid:ee}=yu.isValid($.nativeEvent,{handle:{nodeId:h,id:x,type:e},connectionMode:D,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:G,flowId:H,doc:Q,lib:B,nodeLookup:U});ee&&X&&O(X);const J=structuredClone(Y);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,T==null||T($,J),N.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":x,"data-nodeid":h,"data-handlepos":t,"data-id":`${w}-${h}-${x}-${e}`,className:Ee(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,c,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,clickconnecting:k,connectingfrom:S,connectingto:E,valid:A,connectionindicator:r&&(!P||b)&&(P||L?o:i)}]),onMouseDown:F,onTouchStart:F,onClick:g?j:void 0,ref:y,...p,children:l})}const le=I.memo(Jg(lk));function uk({data:e,isConnectable:t,sourcePosition:n=W.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(le,{type:"source",position:n,isConnectable:t})]})}function ck({data:e,isConnectable:t,targetPosition:n=W.Top,sourcePosition:r=W.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(le,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(le,{type:"source",position:r,isConnectable:t})]})}function dk(){return null}function fk({data:e,isConnectable:t,targetPosition:n=W.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(le,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ps={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ep={input:uk,default:ck,output:fk,group:dk};function pk(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const hk=e=>{const{width:t,height:n,x:r,y:i}=eo(e.nodeLookup,{filter:o=>!!o.selected});return{width:pt(t)?t:null,height:pt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function mk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=me(),{width:i,height:o,transformString:s,userSelectionActive:a}=re(hk,he),l=n0(),c=I.useRef(null);if(I.useEffect(()=>{var p;n||(p=c.current)==null||p.focus({preventScroll:!0})},[n]),t0({nodeRef:c}),a||!i||!o)return null;const f=e?p=>{const y=r.getState().nodes.filter(x=>x.selected);e(p,y)}:void 0,d=p=>{Object.prototype.hasOwnProperty.call(Ps,p.key)&&(p.preventDefault(),l({direction:Ps[p.key],factor:p.shiftKey?4:1}))};return u.jsx("div",{className:Ee(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const tp=typeof window<"u"?window:void 0,gk=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function i0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:f,selectionMode:d,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:N,elementsSelectable:h,zoomOnScroll:g,zoomOnPinch:m,panOnScroll:w,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:b,defaultViewport:P,translateExtent:L,minZoom:A,maxZoom:O,preventScrolling:F,onSelectionContextMenu:j,noWheelClassName:M,noPanClassName:_,disableKeyboardA11y:$,onViewportChange:C,isControlledViewport:T}){const{nodesSelectionActive:R,userSelectionActive:D}=re(gk,he),z=Ui(c,{target:tp}),B=Ui(v,{target:tp}),H=B||b,U=B||w,Y=f&&H!==!0,Q=z||D||Y;return X2({deleteKeyCode:l,multiSelectionKeyCode:x}),u.jsx(J2,{onPaneContextMenu:o,elementsSelectable:h,zoomOnScroll:g,zoomOnPinch:m,panOnScroll:U,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:!z&&H,defaultViewport:P,translateExtent:L,minZoom:A,maxZoom:O,zoomActivationKeyCode:N,preventScrolling:F,noWheelClassName:M,noPanClassName:_,onViewportChange:C,isControlledViewport:T,paneClickDistance:a,selectionOnDrag:Y,children:u.jsxs(rk,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:H,isSelecting:!!Q,selectionMode:d,selectionKeyPressed:z,paneClickDistance:a,selectionOnDrag:Y,children:[e,R&&u.jsx(mk,{onSelectionContextMenu:j,noPanClassName:_,disableKeyboardA11y:$})]})})}i0.displayName="FlowRenderer";const yk=I.memo(i0),vk=e=>t=>e?Nc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function xk(e){return re(I.useCallback(vk(e),[e]),he)}const wk=e=>e.updateNodeInternals;function Nk(){const e=re(wk),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Sk({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=me(),o=I.useRef(null),s=I.useRef(null),a=I.useRef(e.sourcePosition),l=I.useRef(e.targetPosition),c=I.useRef(t),f=n&&!!e.internals.handleBounds;return I.useEffect(()=>{o.current&&!e.hidden&&(!f||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[f,e.hidden]),I.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),I.useEffect(()=>{if(o.current){const d=c.current!==t,p=a.current!==e.sourcePosition,y=l.current!==e.targetPosition;(d||p||y)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Ek({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:f,resizeObserver:d,noDragClassName:p,noPanClassName:y,disableKeyboardA11y:x,rfId:v,nodeTypes:N,nodeClickDistance:h,onError:g}){const{node:m,internals:w,isParent:S}=re(G=>{const X=G.nodeLookup.get(e),ee=G.parentLookup.has(e);return{node:X,internals:X.internals,isParent:ee}},he);let E=m.type||"default",k=(N==null?void 0:N[E])||ep[E];k===void 0&&(g==null||g("003",jt.error003(E)),E="default",k=(N==null?void 0:N.default)||ep.default);const b=!!(m.draggable||a&&typeof m.draggable>"u"),P=!!(m.selectable||l&&typeof m.selectable>"u"),L=!!(m.connectable||c&&typeof m.connectable>"u"),A=!!(m.focusable||f&&typeof m.focusable>"u"),O=me(),F=wg(m),j=Sk({node:m,nodeType:E,hasDimensions:F,resizeObserver:d}),M=t0({nodeRef:j,disabled:m.hidden||!b,noDragClassName:p,handleSelector:m.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:h}),_=n0();if(m.hidden)return null;const $=Gt(m),C=pk(m),T=P||b||t||n||r||i,R=n?G=>n(G,{...w.userNode}):void 0,D=r?G=>r(G,{...w.userNode}):void 0,z=i?G=>i(G,{...w.userNode}):void 0,B=o?G=>o(G,{...w.userNode}):void 0,H=s?G=>s(G,{...w.userNode}):void 0,U=G=>{const{selectNodesOnDrag:X,nodeDragThreshold:ee}=O.getState();P&&(!X||!b||ee>0)&&vu({id:e,store:O,nodeRef:j}),t&&t(G,{...w.userNode})},Y=G=>{if(!(Eg(G.nativeEvent)||x)){if(dg.includes(G.key)&&P){const X=G.key==="Escape";vu({id:e,store:O,unselect:X,nodeRef:j})}else if(b&&m.selected&&Object.prototype.hasOwnProperty.call(Ps,G.key)){G.preventDefault();const{ariaLabelConfig:X}=O.getState();O.setState({ariaLiveMessage:X["node.a11yDescription.ariaLiveMessage"]({direction:G.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),_({direction:Ps[G.key],factor:G.shiftKey?4:1})}}},Q=()=>{var se;if(x||!((se=j.current)!=null&&se.matches(":focus-visible")))return;const{transform:G,width:X,height:ee,autoPanOnNodeFocus:J,setCenter:Z}=O.getState();if(!J)return;Nc(new Map([[e,m]]),{x:0,y:0,width:X,height:ee},G,!0).length>0||Z(m.position.x+$.width/2,m.position.y+$.height/2,{zoom:G[2]})};return u.jsx("div",{className:Ee(["react-flow__node",`react-flow__node-${E}`,{[y]:b},m.className,{selected:m.selected,selectable:P,parent:S,draggable:b,dragging:M}]),ref:j,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:F?"visible":"hidden",...m.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:D,onMouseLeave:z,onContextMenu:B,onClick:U,onDoubleClick:H,onKeyDown:A?Y:void 0,tabIndex:A?0:void 0,onFocus:A?Q:void 0,role:m.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${Qg}-${v}`,"aria-label":m.ariaLabel,...m.domAttributes,children:u.jsx(ok,{value:e,children:u.jsx(k,{id:e,data:m.data,type:E,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:m.selected??!1,selectable:P,draggable:b,deletable:m.deletable??!0,isConnectable:L,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:M,dragHandle:m.dragHandle,zIndex:w.z,parentId:m.parentId,...$})})})}var kk=I.memo(Ek);const Ck=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function o0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=re(Ck,he),s=xk(e.onlyRenderVisibleElements),a=Nk();return u.jsx("div",{className:"react-flow__nodes",style:da,children:s.map(l=>u.jsx(kk,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}o0.displayName="NodeRenderer";const jk=I.memo(o0);function Tk(e){return re(I.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&hE({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),he)}const bk=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Ik=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},np={[Is.Arrow]:bk,[Is.ArrowClosed]:Ik};function _k(e){const t=me();return I.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(np,e)?np[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",jt.error009(e)),null)},[e])}const Mk=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=_k(t);return l?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:u.jsx(l,{color:n,strokeWidth:s})}):null},s0=({defaultColor:e,rfId:t})=>{const n=re(o=>o.edges),r=re(o=>o.defaultEdgeOptions),i=I.useMemo(()=>NE(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:i.map(o=>u.jsx(Mk,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};s0.displayName="MarkerDefinitions";var Pk=I.memo(s0);function a0({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...f}){const[d,p]=I.useState({x:1,y:0,width:0,height:0}),y=Ee(["react-flow__edge-textwrapper",c]),x=I.useRef(null);return I.useEffect(()=>{if(x.current){const v=x.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:y,visibility:d.width?"visible":"hidden",...f,children:[i&&u.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),u.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:x,style:r,children:n}),l]}):null}a0.displayName="EdgeText";const Rk=I.memo(a0);function fa({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...f}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...f,d:e,fill:"none",className:Ee(["react-flow__edge-path",f.className])}),c?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&pt(t)&&pt(n)?u.jsx(Rk,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function rp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===W.Left||e===W.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function l0({sourceX:e,sourceY:t,sourcePosition:n=W.Bottom,targetX:r,targetY:i,targetPosition:o=W.Top}){const[s,a]=rp({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=rp({pos:o,x1:r,y1:i,x2:e,y2:t}),[f,d,p,y]=Cg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,f,d,p,y]}function u0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:N,interactionWidth:h})=>{const[g,m,w]=l0({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),S=e.isInternal?void 0:t;return u.jsx(fa,{id:S,path:g,labelX:m,labelY:w,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:N,interactionWidth:h})})}const Ak=u0({isInternal:!1}),c0=u0({isInternal:!0});Ak.displayName="SimpleBezierEdge";c0.displayName="SimpleBezierEdgeInternal";function d0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,sourcePosition:y=W.Bottom,targetPosition:x=W.Top,markerEnd:v,markerStart:N,pathOptions:h,interactionWidth:g})=>{const[m,w,S]=hu({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:o,targetPosition:x,borderRadius:h==null?void 0:h.borderRadius,offset:h==null?void 0:h.offset,stepPosition:h==null?void 0:h.stepPosition}),E=e.isInternal?void 0:t;return u.jsx(fa,{id:E,path:m,labelX:w,labelY:S,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:v,markerStart:N,interactionWidth:g})})}const f0=d0({isInternal:!1}),p0=d0({isInternal:!0});f0.displayName="SmoothStepEdge";p0.displayName="SmoothStepEdgeInternal";function h0(e){return I.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return u.jsx(f0,{...n,id:r,pathOptions:I.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Ok=h0({isInternal:!1}),m0=h0({isInternal:!0});Ok.displayName="StepEdge";m0.displayName="StepEdgeInternal";function g0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[N,h,g]=Ig({sourceX:n,sourceY:r,targetX:i,targetY:o}),m=e.isInternal?void 0:t;return u.jsx(fa,{id:m,path:N,labelX:h,labelY:g,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:y,markerStart:x,interactionWidth:v})})}const Lk=g0({isInternal:!1}),y0=g0({isInternal:!0});Lk.displayName="StraightEdge";y0.displayName="StraightEdgeInternal";function v0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=W.Bottom,targetPosition:a=W.Top,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:N,pathOptions:h,interactionWidth:g})=>{const[m,w,S]=jg({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:h==null?void 0:h.curvature}),E=e.isInternal?void 0:t;return u.jsx(fa,{id:E,path:m,labelX:w,labelY:S,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:N,interactionWidth:g})})}const $k=v0({isInternal:!1}),x0=v0({isInternal:!0});$k.displayName="BezierEdge";x0.displayName="BezierEdgeInternal";const ip={default:x0,straight:y0,step:m0,smoothstep:p0,simplebezier:c0},op={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Dk=(e,t,n)=>n===W.Left?e-t:n===W.Right?e+t:e,zk=(e,t,n)=>n===W.Top?e-t:n===W.Bottom?e+t:e,sp="react-flow__edgeupdater";function ap({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return u.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Ee([sp,`${sp}-${a}`]),cx:Dk(t,r,e),cy:zk(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Fk({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:f,onReconnectEnd:d,setReconnecting:p,setUpdateHover:y}){const x=me(),v=(w,S)=>{if(w.button!==0)return;const{autoPanOnConnect:E,domNode:k,isValidConnection:b,connectionMode:P,connectionRadius:L,lib:A,onConnectStart:O,onConnectEnd:F,cancelConnection:j,nodeLookup:M,rfId:_,panBy:$,updateConnection:C}=x.getState(),T=S.type==="target",R=(B,H)=>{p(!1),d==null||d(B,n,S.type,H)},D=B=>c==null?void 0:c(n,B),z=(B,H)=>{p(!0),f==null||f(w,n,S.type),O==null||O(B,H)};yu.onPointerDown(w.nativeEvent,{autoPanOnConnect:E,connectionMode:P,connectionRadius:L,domNode:k,handleId:S.id,nodeId:S.nodeId,nodeLookup:M,isTarget:T,edgeUpdaterType:S.type,lib:A,flowId:_,cancelConnection:j,panBy:$,isValidConnection:b,onConnect:D,onConnectStart:z,onConnectEnd:F,onReconnectEnd:R,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},N=w=>v(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),h=w=>v(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>y(!0),m=()=>y(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(ap,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:N,onMouseEnter:g,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&u.jsx(ap,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:h,onMouseEnter:g,onMouseOut:m,type:"target"})]})}function Bk({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:y,rfId:x,edgeTypes:v,noPanClassName:N,onError:h,disableKeyboardA11y:g}){let m=re(Z=>Z.edgeLookup.get(e));const w=re(Z=>Z.defaultEdgeOptions);m=w?{...w,...m}:m;let S=m.type||"default",E=(v==null?void 0:v[S])||ip[S];E===void 0&&(h==null||h("011",jt.error011(S)),S="default",E=(v==null?void 0:v.default)||ip.default);const k=!!(m.focusable||t&&typeof m.focusable>"u"),b=typeof d<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),P=!!(m.selectable||r&&typeof m.selectable>"u"),L=I.useRef(null),[A,O]=I.useState(!1),[F,j]=I.useState(!1),M=me(),{zIndex:_,sourceX:$,sourceY:C,targetX:T,targetY:R,sourcePosition:D,targetPosition:z}=re(I.useCallback(Z=>{const q=Z.nodeLookup.get(m.source),se=Z.nodeLookup.get(m.target);if(!q||!se)return{zIndex:m.zIndex,...op};const ce=wE({id:e,sourceNode:q,targetNode:se,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:Z.connectionMode,onError:h});return{zIndex:pE({selected:m.selected,zIndex:m.zIndex,sourceNode:q,targetNode:se,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||op}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),he),B=I.useMemo(()=>m.markerStart?`url('#${mu(m.markerStart,x)}')`:void 0,[m.markerStart,x]),H=I.useMemo(()=>m.markerEnd?`url('#${mu(m.markerEnd,x)}')`:void 0,[m.markerEnd,x]);if(m.hidden||$===null||C===null||T===null||R===null)return null;const U=Z=>{var oe;const{addSelectedEdges:q,unselectNodesAndEdges:se,multiSelectionActive:ce}=M.getState();P&&(M.setState({nodesSelectionActive:!1}),m.selected&&ce?(se({nodes:[],edges:[m]}),(oe=L.current)==null||oe.blur()):q([e])),i&&i(Z,m)},Y=o?Z=>{o(Z,{...m})}:void 0,Q=s?Z=>{s(Z,{...m})}:void 0,G=a?Z=>{a(Z,{...m})}:void 0,X=l?Z=>{l(Z,{...m})}:void 0,ee=c?Z=>{c(Z,{...m})}:void 0,J=Z=>{var q;if(!g&&dg.includes(Z.key)&&P){const{unselectNodesAndEdges:se,addSelectedEdges:ce}=M.getState();Z.key==="Escape"?((q=L.current)==null||q.blur(),se({edges:[m]})):ce([e])}};return u.jsx("svg",{style:{zIndex:_},children:u.jsxs("g",{className:Ee(["react-flow__edge",`react-flow__edge-${S}`,m.className,N,{selected:m.selected,animated:m.animated,inactive:!P&&!i,updating:A,selectable:P}]),onClick:U,onDoubleClick:Y,onContextMenu:Q,onMouseEnter:G,onMouseMove:X,onMouseLeave:ee,onKeyDown:k?J:void 0,tabIndex:k?0:void 0,role:m.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":k?`${Xg}-${x}`:void 0,ref:L,...m.domAttributes,children:[!F&&u.jsx(E,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:P,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:$,sourceY:C,targetX:T,targetY:R,sourcePosition:D,targetPosition:z,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:B,markerEnd:H,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),b&&u.jsx(Fk,{edge:m,isReconnectable:b,reconnectRadius:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:y,sourceX:$,sourceY:C,targetX:T,targetY:R,sourcePosition:D,targetPosition:z,setUpdateHover:O,setReconnecting:j})]})})}var Hk=I.memo(Bk);const Vk=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function w0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:p,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:N,edgesReconnectable:h,elementsSelectable:g,onError:m}=re(Vk,he),w=Tk(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(Pk,{defaultColor:e,rfId:n}),w.map(S=>u.jsx(Hk,{id:S,edgesFocusable:N,edgesReconnectable:h,elementsSelectable:g,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:f,reconnectRadius:d,onDoubleClick:p,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:v},S))]})}w0.displayName="EdgeRenderer";const Uk=I.memo(w0),Wk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Gk({children:e}){const t=re(Wk);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Yk(e){const t=ca(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Kk=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Qk(e){const t=re(Kk),n=me();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Xk(e){return e.connection.inProgress?{...e.connection,to:no(e.connection.to,e.transform)}:{...e.connection}}function qk(e){return Xk}function Zk(e){const t=qk();return re(t,he)}const Jk=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function eC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=re(Jk,he);return!(o&&i&&l)?null:u.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Ee(["react-flow__connection",hg(a)]),children:u.jsx(N0,{style:t,type:n,CustomComponent:r,isValid:a})})})}const N0=({style:e,type:t=rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:c,toNode:f,toHandle:d,toPosition:p,pointer:y}=Zk();if(!i)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:p,connectionStatus:hg(r),toNode:f,toHandle:d,pointer:y});let x="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case rn.Bezier:[x]=jg(v);break;case rn.SimpleBezier:[x]=l0(v);break;case rn.Step:[x]=hu({...v,borderRadius:0});break;case rn.SmoothStep:[x]=hu(v);break;default:[x]=Ig(v)}return u.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};N0.displayName="ConnectionLine";const tC={};function lp(e=tC){I.useRef(e),me(),I.useEffect(()=>{},[e])}function nC(){me(),I.useRef(!1),I.useEffect(()=>{},[])}function S0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:p,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:N,connectionLineContainerStyle:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:w,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:k,deleteKeyCode:b,onlyRenderVisibleElements:P,elementsSelectable:L,defaultViewport:A,translateExtent:O,minZoom:F,maxZoom:j,preventScrolling:M,defaultMarkerColor:_,zoomOnScroll:$,zoomOnPinch:C,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:z,panOnDrag:B,onPaneClick:H,onPaneMouseEnter:U,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneScroll:G,onPaneContextMenu:X,paneClickDistance:ee,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:se,onEdgeMouseLeave:ce,reconnectRadius:oe,onReconnect:Me,onReconnectStart:Yt,onReconnectEnd:It,noDragClassName:Sn,noWheelClassName:zr,noPanClassName:Fr,disableKeyboardA11y:Br,nodeExtent:va,rfId:io,viewport:Kn,onViewportChange:Hr}){return lp(e),lp(t),nC(),Yk(n),Qk(Kn),u.jsx(yk,{onPaneClick:H,onPaneMouseEnter:U,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneContextMenu:X,onPaneScroll:G,paneClickDistance:ee,deleteKeyCode:b,selectionKeyCode:g,selectionOnDrag:m,selectionMode:w,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:k,elementsSelectable:L,zoomOnScroll:$,zoomOnPinch:C,zoomOnDoubleClick:z,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:D,panOnDrag:B,defaultViewport:A,translateExtent:O,minZoom:F,maxZoom:j,onSelectionContextMenu:d,preventScrolling:M,noDragClassName:Sn,noWheelClassName:zr,noPanClassName:Fr,disableKeyboardA11y:Br,onViewportChange:Hr,isControlledViewport:!!Kn,children:u.jsxs(Gk,{children:[u.jsx(Uk,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Me,onReconnectStart:Yt,onReconnectEnd:It,onlyRenderVisibleElements:P,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:se,onEdgeMouseLeave:ce,reconnectRadius:oe,defaultMarkerColor:_,noPanClassName:Fr,disableKeyboardA11y:Br,rfId:io}),u.jsx(eC,{style:v,type:x,component:N,containerStyle:h}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(jk,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:P,noPanClassName:Fr,noDragClassName:Sn,disableKeyboardA11y:Br,nodeExtent:va,rfId:io}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}S0.displayName="GraphView";const rC=I.memo(S0),up=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:f,nodeExtent:d,zIndexMode:p="basic"}={})=>{const y=new Map,x=new Map,v=new Map,N=new Map,h=r??t??[],g=n??e??[],m=f??[0,0],w=d??Fi;Pg(v,N,h);const S=gu(g,y,x,{nodeOrigin:m,nodeExtent:w,zIndexMode:p});let E=[0,0,1];if(s&&i&&o){const k=eo(y,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:b,y:P,zoom:L}=Sc(k,i,o,l,c,(a==null?void 0:a.padding)??.1);E=[b,P,L]}return{rfId:"1",width:i??0,height:o??0,transform:E,nodes:g,nodesInitialized:S,nodeLookup:y,parentLookup:x,edges:h,edgeLookup:N,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Fi,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...pg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:aE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:fg,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},iC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p})=>S2((y,x)=>{async function v(){const{nodeLookup:N,panZoom:h,fitViewOptions:g,fitViewResolver:m,width:w,height:S,minZoom:E,maxZoom:k}=x();h&&(await oE({nodes:N,width:w,height:S,panZoom:h,minZoom:E,maxZoom:k},g),m==null||m.resolve(!0),y({fitViewResolver:null}))}return{...up({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:p}),setNodes:N=>{const{nodeLookup:h,parentLookup:g,nodeOrigin:m,elevateNodesOnSelect:w,fitViewQueued:S,zIndexMode:E}=x(),k=gu(N,h,g,{nodeOrigin:m,nodeExtent:d,elevateNodesOnSelect:w,checkEquality:!0,zIndexMode:E});S&&k?(v(),y({nodes:N,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:N,nodesInitialized:k})},setEdges:N=>{const{connectionLookup:h,edgeLookup:g}=x();Pg(h,g,N),y({edges:N})},setDefaultNodesAndEdges:(N,h)=>{if(N){const{setNodes:g}=x();g(N),y({hasDefaultNodes:!0})}if(h){const{setEdges:g}=x();g(h),y({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:h,nodeLookup:g,parentLookup:m,domNode:w,nodeOrigin:S,nodeExtent:E,debug:k,fitViewQueued:b,zIndexMode:P}=x(),{changes:L,updatedInternals:A}=bE(N,g,m,w,S,E,P);A&&(kE(g,m,{nodeOrigin:S,nodeExtent:E,zIndexMode:P}),b?(v(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),(L==null?void 0:L.length)>0&&(k&&console.log("React Flow: trigger node changes",L),h==null||h(L)))},updateNodePositions:(N,h=!1)=>{const g=[];let m=[];const{nodeLookup:w,triggerNodeChanges:S,connection:E,updateConnection:k,onNodesChangeMiddlewareMap:b}=x();for(const[P,L]of N){const A=w.get(P),O=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(L!=null&&L.position)),F={id:P,type:"position",position:O?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:h};if(A&&E.inProgress&&E.fromNode.id===A.id){const j=Hn(A,E.fromHandle,W.Left,!0);k({...E,from:j})}O&&A.parentId&&g.push({id:P,parentId:A.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),m.push(F)}if(g.length>0){const{parentLookup:P,nodeOrigin:L}=x(),A=bc(g,w,P,L);m.push(...A)}for(const P of b.values())m=P(m);S(m)},triggerNodeChanges:N=>{const{onNodesChange:h,setNodes:g,nodes:m,hasDefaultNodes:w,debug:S}=x();if(N!=null&&N.length){if(w){const E=Ic(N,m);g(E)}S&&console.log("React Flow: trigger node changes",N),h==null||h(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:h,setEdges:g,edges:m,hasDefaultEdges:w,debug:S}=x();if(N!=null&&N.length){if(w){const E=_c(N,m);g(E)}S&&console.log("React Flow: trigger edge changes",N),h==null||h(N)}},addSelectedNodes:N=>{const{multiSelectionActive:h,edgeLookup:g,nodeLookup:m,triggerNodeChanges:w,triggerEdgeChanges:S}=x();if(h){const E=N.map(k=>Cn(k,!0));w(E);return}w(dr(m,new Set([...N]),!0)),S(dr(g))},addSelectedEdges:N=>{const{multiSelectionActive:h,edgeLookup:g,nodeLookup:m,triggerNodeChanges:w,triggerEdgeChanges:S}=x();if(h){const E=N.map(k=>Cn(k,!0));S(E);return}S(dr(g,new Set([...N]))),w(dr(m,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:h}={})=>{const{edges:g,nodes:m,nodeLookup:w,triggerNodeChanges:S,triggerEdgeChanges:E}=x(),k=N||m,b=h||g,P=k.map(A=>{const O=w.get(A.id);return O&&(O.selected=!1),Cn(A.id,!1)}),L=b.map(A=>Cn(A.id,!1));S(P),E(L)},setMinZoom:N=>{const{panZoom:h,maxZoom:g}=x();h==null||h.setScaleExtent([N,g]),y({minZoom:N})},setMaxZoom:N=>{const{panZoom:h,minZoom:g}=x();h==null||h.setScaleExtent([g,N]),y({maxZoom:N})},setTranslateExtent:N=>{var h;(h=x().panZoom)==null||h.setTranslateExtent(N),y({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:h,triggerNodeChanges:g,triggerEdgeChanges:m,elementsSelectable:w}=x();if(!w)return;const S=h.reduce((k,b)=>b.selected?[...k,Cn(b.id,!1)]:k,[]),E=N.reduce((k,b)=>b.selected?[...k,Cn(b.id,!1)]:k,[]);g(S),m(E)},setNodeExtent:N=>{const{nodes:h,nodeLookup:g,parentLookup:m,nodeOrigin:w,elevateNodesOnSelect:S,nodeExtent:E,zIndexMode:k}=x();N[0][0]===E[0][0]&&N[0][1]===E[0][1]&&N[1][0]===E[1][0]&&N[1][1]===E[1][1]||(gu(h,g,m,{nodeOrigin:w,nodeExtent:N,elevateNodesOnSelect:S,checkEquality:!1,zIndexMode:k}),y({nodeExtent:N}))},panBy:N=>{const{transform:h,width:g,height:m,panZoom:w,translateExtent:S}=x();return IE({delta:N,panZoom:w,transform:h,translateExtent:S,width:g,height:m})},setCenter:async(N,h,g)=>{const{width:m,height:w,maxZoom:S,panZoom:E}=x();if(!E)return Promise.resolve(!1);const k=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:S;return await E.setViewport({x:m/2-N*k,y:w/2-h*k,zoom:k},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...pg}})},updateConnection:N=>{y({connection:N})},reset:()=>y({...up()})}},Object.is);function E0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p,children:y}){const[x]=I.useState(()=>iC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:f,nodeExtent:d,zIndexMode:p}));return u.jsx(E2,{value:x,children:u.jsx(G2,{children:y})})}function oC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:f,nodeOrigin:d,nodeExtent:p,zIndexMode:y}){return I.useContext(la)?u.jsx(u.Fragment,{children:e}):u.jsx(E0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:f,nodeOrigin:d,nodeExtent:p,zIndexMode:y,children:e})}const sC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function aC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:f,onMoveStart:d,onMoveEnd:p,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:N,onClickConnectEnd:h,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:k,onNodeDrag:b,onNodeDragStop:P,onNodesDelete:L,onEdgesDelete:A,onDelete:O,onSelectionChange:F,onSelectionDragStart:j,onSelectionDrag:M,onSelectionDragStop:_,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:T,onBeforeDelete:R,connectionMode:D,connectionLineType:z=rn.Bezier,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:U,deleteKeyCode:Y="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:G=!1,selectionMode:X=Bi.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:J=Vi()?"Meta":"Control",zoomActivationKeyCode:Z=Vi()?"Meta":"Control",snapToGrid:q,snapGrid:se,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:oe,nodesDraggable:Me,autoPanOnNodeFocus:Yt,nodesConnectable:It,nodesFocusable:Sn,nodeOrigin:zr=qg,edgesFocusable:Fr,edgesReconnectable:Br,elementsSelectable:va=!0,defaultViewport:io=L2,minZoom:Kn=.5,maxZoom:Hr=2,translateExtent:Uc=Fi,preventScrolling:W0=!0,nodeExtent:xa,defaultMarkerColor:G0="#b1b1b7",zoomOnScroll:Y0=!0,zoomOnPinch:K0=!0,panOnScroll:Q0=!1,panOnScrollSpeed:X0=.5,panOnScrollMode:q0=Rn.Free,zoomOnDoubleClick:Z0=!0,panOnDrag:J0=!0,onPaneClick:ey,onPaneMouseEnter:ty,onPaneMouseMove:ny,onPaneMouseLeave:ry,onPaneScroll:iy,onPaneContextMenu:oy,paneClickDistance:sy=1,nodeClickDistance:ay=0,children:ly,onReconnect:uy,onReconnectStart:cy,onReconnectEnd:dy,onEdgeContextMenu:fy,onEdgeDoubleClick:py,onEdgeMouseEnter:hy,onEdgeMouseMove:my,onEdgeMouseLeave:gy,reconnectRadius:yy=10,onNodesChange:vy,onEdgesChange:xy,noDragClassName:wy="nodrag",noWheelClassName:Ny="nowheel",noPanClassName:Wc="nopan",fitView:Gc,fitViewOptions:Yc,connectOnClick:Sy,attributionPosition:Ey,proOptions:ky,defaultEdgeOptions:Cy,elevateNodesOnSelect:jy=!0,elevateEdgesOnSelect:Ty=!1,disableKeyboardA11y:Kc=!1,autoPanOnConnect:by,autoPanOnNodeDrag:Iy,autoPanSpeed:_y,connectionRadius:My,isValidConnection:Py,onError:Ry,style:Ay,id:Qc,nodeDragThreshold:Oy,connectionDragThreshold:Ly,viewport:$y,onViewportChange:Dy,width:zy,height:Fy,colorMode:By="light",debug:Hy,onScroll:oo,ariaLabelConfig:Vy,zIndexMode:Xc="basic",...Uy},Wy){const wa=Qc||"1",Gy=F2(By),Yy=I.useCallback(qc=>{qc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),oo==null||oo(qc)},[oo]);return u.jsx("div",{"data-testid":"rf__wrapper",...Uy,onScroll:Yy,style:{...Ay,...sC},ref:Wy,className:Ee(["react-flow",i,Gy]),id:Qc,role:"application",children:u.jsxs(oC,{nodes:e,edges:t,width:zy,height:Fy,fitView:Gc,fitViewOptions:Yc,minZoom:Kn,maxZoom:Hr,nodeOrigin:zr,nodeExtent:xa,zIndexMode:Xc,children:[u.jsx(rC,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:z,connectionLineStyle:B,connectionLineComponent:H,connectionLineContainerStyle:U,selectionKeyCode:Q,selectionOnDrag:G,selectionMode:X,deleteKeyCode:Y,multiSelectionKeyCode:J,panActivationKeyCode:ee,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:io,translateExtent:Uc,minZoom:Kn,maxZoom:Hr,preventScrolling:W0,zoomOnScroll:Y0,zoomOnPinch:K0,zoomOnDoubleClick:Z0,panOnScroll:Q0,panOnScrollSpeed:X0,panOnScrollMode:q0,panOnDrag:J0,onPaneClick:ey,onPaneMouseEnter:ty,onPaneMouseMove:ny,onPaneMouseLeave:ry,onPaneScroll:iy,onPaneContextMenu:oy,paneClickDistance:sy,nodeClickDistance:ay,onSelectionContextMenu:$,onSelectionStart:C,onSelectionEnd:T,onReconnect:uy,onReconnectStart:cy,onReconnectEnd:dy,onEdgeContextMenu:fy,onEdgeDoubleClick:py,onEdgeMouseEnter:hy,onEdgeMouseMove:my,onEdgeMouseLeave:gy,reconnectRadius:yy,defaultMarkerColor:G0,noDragClassName:wy,noWheelClassName:Ny,noPanClassName:Wc,rfId:wa,disableKeyboardA11y:Kc,nodeExtent:xa,viewport:$y,onViewportChange:Dy}),u.jsx(z2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:N,onClickConnectEnd:h,nodesDraggable:Me,autoPanOnNodeFocus:Yt,nodesConnectable:It,nodesFocusable:Sn,edgesFocusable:Fr,edgesReconnectable:Br,elementsSelectable:va,elevateNodesOnSelect:jy,elevateEdgesOnSelect:Ty,minZoom:Kn,maxZoom:Hr,nodeExtent:xa,onNodesChange:vy,onEdgesChange:xy,snapToGrid:q,snapGrid:se,connectionMode:D,translateExtent:Uc,connectOnClick:Sy,defaultEdgeOptions:Cy,fitView:Gc,fitViewOptions:Yc,onNodesDelete:L,onEdgesDelete:A,onDelete:O,onNodeDragStart:k,onNodeDrag:b,onNodeDragStop:P,onSelectionDrag:M,onSelectionDragStart:j,onSelectionDragStop:_,onMove:f,onMoveStart:d,onMoveEnd:p,noPanClassName:Wc,nodeOrigin:zr,rfId:wa,autoPanOnConnect:by,autoPanOnNodeDrag:Iy,autoPanSpeed:_y,onError:Ry,connectionRadius:My,isValidConnection:Py,selectNodesOnDrag:oe,nodeDragThreshold:Oy,connectionDragThreshold:Ly,onBeforeDelete:R,debug:Hy,ariaLabelConfig:Vy,zIndexMode:Xc}),u.jsx(O2,{onSelectionChange:F}),ly,u.jsx(_2,{proOptions:ky,position:Ey}),u.jsx(I2,{rfId:wa,disableKeyboardA11y:Kc})]})})}var lC=Jg(aC);function uC(e){const[t,n]=I.useState(e),r=I.useCallback(i=>n(o=>Ic(i,o)),[]);return[t,n,r]}function cC(e){const[t,n]=I.useState(e),r=I.useCallback(i=>n(o=>_c(i,o)),[]);return[t,n,r]}function dC({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ee(["react-flow__background-pattern",n,r])})}function fC({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Ee(["react-flow__background-pattern","dots",t])})}var Dt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Dt||(Dt={}));const pC={[Dt.Dots]:1,[Dt.Lines]:1,[Dt.Cross]:6},hC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function k0({id:e,variant:t=Dt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:c,patternClassName:f}){const d=I.useRef(null),{transform:p,patternId:y}=re(hC,he),x=r||pC[t],v=t===Dt.Dots,N=t===Dt.Cross,h=Array.isArray(n)?n:[n,n],g=[h[0]*p[2]||1,h[1]*p[2]||1],m=x*p[2],w=Array.isArray(o)?o:[o,o],S=N?[m,m]:g,E=[w[0]*p[2]||1+S[0]/2,w[1]*p[2]||1+S[1]/2],k=`${y}${e||""}`;return u.jsxs("svg",{className:Ee(["react-flow__background",c]),style:{...l,...da,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[u.jsx("pattern",{id:k,x:p[0]%g[0],y:p[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:v?u.jsx(fC,{radius:m/2,className:f}):u.jsx(dC,{dimensions:S,lineWidth:i,variant:t,className:f})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}k0.displayName="Background";const mC=I.memo(k0);function gC(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function yC(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function vC(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function xC(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function wC(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Po({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Ee(["react-flow__controls-button",t]),...n,children:e})}const NC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function C0({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:c,children:f,position:d="bottom-left",orientation:p="vertical","aria-label":y}){const x=me(),{isInteractive:v,minZoomReached:N,maxZoomReached:h,ariaLabelConfig:g}=re(NC,he),{zoomIn:m,zoomOut:w,fitView:S}=ca(),E=()=>{m(),o==null||o()},k=()=>{w(),s==null||s()},b=()=>{S(i),a==null||a()},P=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l==null||l(!v)},L=p==="horizontal"?"horizontal":"vertical";return u.jsxs(ua,{className:Ee(["react-flow__controls",L,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":y??g["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(Po,{onClick:E,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:h,children:u.jsx(gC,{})}),u.jsx(Po,{onClick:k,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:N,children:u.jsx(yC,{})})]}),n&&u.jsx(Po,{className:"react-flow__controls-fitview",onClick:b,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:u.jsx(vC,{})}),r&&u.jsx(Po,{className:"react-flow__controls-interactive",onClick:P,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:v?u.jsx(wC,{}):u.jsx(xC,{})}),f]})}C0.displayName="Controls";const SC=I.memo(C0);function EC({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:c,borderRadius:f,shapeRendering:d,selected:p,onClick:y}){const{background:x,backgroundColor:v}=o||{},N=s||x||v;return u.jsx("rect",{className:Ee(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:N,stroke:a,strokeWidth:l},shapeRendering:d,onClick:y?h=>y(h,e):void 0})}const kC=I.memo(EC),CC=e=>e.nodes.map(t=>t.id),rl=e=>e instanceof Function?e:()=>e;function jC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=kC,onClick:s}){const a=re(CC,he),l=rl(t),c=rl(e),f=rl(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:a.map(p=>u.jsx(bC,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},p))})}function TC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:c,x:f,y:d,width:p,height:y}=re(x=>{const{internals:v}=x.nodeLookup.get(e),N=v.userNode,{x:h,y:g}=v.positionAbsolute,{width:m,height:w}=Gt(N);return{node:N,x:h,y:g,width:m,height:w}},he);return!c||c.hidden||!wg(c)?null:u.jsx(a,{x:f,y:d,width:p,height:y,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:l,id:c.id})}const bC=I.memo(TC);var IC=I.memo(jC);const _C=200,MC=150,PC=e=>!e.hidden,RC=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?xg(eo(e.nodeLookup,{filter:PC}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},AC="react-flow__minimap-desc";function j0({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:f,maskStrokeWidth:d,position:p="bottom-right",onClick:y,onNodeClick:x,pannable:v=!1,zoomable:N=!1,ariaLabel:h,inversePan:g,zoomStep:m=1,offsetScale:w=5}){const S=me(),E=I.useRef(null),{boundingRect:k,viewBB:b,rfId:P,panZoom:L,translateExtent:A,flowWidth:O,flowHeight:F,ariaLabelConfig:j}=re(RC,he),M=(e==null?void 0:e.width)??_C,_=(e==null?void 0:e.height)??MC,$=k.width/M,C=k.height/_,T=Math.max($,C),R=T*M,D=T*_,z=w*T,B=k.x-(R-k.width)/2-z,H=k.y-(D-k.height)/2-z,U=R+z*2,Y=D+z*2,Q=`${AC}-${P}`,G=I.useRef(0),X=I.useRef();G.current=T,I.useEffect(()=>{if(E.current&&L)return X.current=DE({domNode:E.current,panZoom:L,getTransform:()=>S.getState().transform,getViewScale:()=>G.current}),()=>{var q;(q=X.current)==null||q.destroy()}},[L]),I.useEffect(()=>{var q;(q=X.current)==null||q.update({translateExtent:A,width:O,height:F,inversePan:g,pannable:v,zoomStep:m,zoomable:N})},[v,N,g,m,A,O,F]);const ee=y?q=>{var oe;const[se,ce]=((oe=X.current)==null?void 0:oe.pointer(q))||[0,0];y(q,{x:se,y:ce})}:void 0,J=x?I.useCallback((q,se)=>{const ce=S.getState().nodeLookup.get(se).internals.userNode;x(q,ce)},[]):void 0,Z=h??j["minimap.ariaLabel"];return u.jsx(ua,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ee(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:M,height:_,viewBox:`${B} ${H} ${U} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:E,onClick:ee,children:[Z&&u.jsx("title",{id:Q,children:Z}),u.jsx(IC,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-z},${H-z}h${U+z*2}v${Y+z*2}h${-U-z*2}z
        M${b.x},${b.y}h${b.width}v${b.height}h${-b.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}j0.displayName="MiniMap";const OC=I.memo(j0),LC=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,$C={[Ar.Line]:"right",[Ar.Handle]:"bottom-right"};function DC({nodeId:e,position:t,variant:n=Ar.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:p,autoScale:y=!0,shouldResize:x,onResizeStart:v,onResize:N,onResizeEnd:h}){const g=r0(),m=typeof e=="string"?e:g,w=me(),S=I.useRef(null),E=n===Ar.Handle,k=re(I.useCallback(LC(E&&y),[E,y]),he),b=I.useRef(null),P=t??$C[n];I.useEffect(()=>{if(!(!S.current||!m))return b.current||(b.current=ZE({domNode:S.current,nodeId:m,getStoreItems:()=>{const{nodeLookup:A,transform:O,snapGrid:F,snapToGrid:j,nodeOrigin:M,domNode:_}=w.getState();return{nodeLookup:A,transform:O,snapGrid:F,snapToGrid:j,nodeOrigin:M,paneDomNode:_}},onChange:(A,O)=>{const{triggerNodeChanges:F,nodeLookup:j,parentLookup:M,nodeOrigin:_}=w.getState(),$=[],C={x:A.x,y:A.y},T=j.get(m);if(T&&T.expandParent&&T.parentId){const R=T.origin??_,D=A.width??T.measured.width??0,z=A.height??T.measured.height??0,B={id:T.id,parentId:T.parentId,rect:{width:D,height:z,...Ng({x:A.x??T.position.x,y:A.y??T.position.y},{width:D,height:z},T.parentId,j,R)}},H=bc([B],j,M,_);$.push(...H),C.x=A.x?Math.max(R[0]*D,A.x):void 0,C.y=A.y?Math.max(R[1]*z,A.y):void 0}if(C.x!==void 0&&C.y!==void 0){const R={id:m,type:"position",position:{...C}};$.push(R)}if(A.width!==void 0&&A.height!==void 0){const D={id:m,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:A.width,height:A.height}};$.push(D)}for(const R of O){const D={...R,type:"position"};$.push(D)}F($)},onEnd:({width:A,height:O})=>{const F={id:m,type:"dimensions",resizing:!1,dimensions:{width:A,height:O}};w.getState().triggerNodeChanges([F])}})),b.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:f},keepAspectRatio:d,resizeDirection:p,onResizeStart:v,onResize:N,onResizeEnd:h,shouldResize:x}),()=>{var A;(A=b.current)==null||A.destroy()}},[P,a,l,c,f,d,v,N,h,x]);const L=P.split("-");return u.jsx("div",{className:Ee(["react-flow__resize-control","nodrag",...L,n,r]),ref:S,style:{...i,scale:k,...s&&{[E?"backgroundColor":"borderColor"]:s}},children:o})}I.memo(DC);const T0={},{useDebugValue:zC}=Lt,{useSyncExternalStoreWithSelector:FC}=Wg;let cp=!1;const BC=e=>e;function HC(e,t=BC,n){(T0?"production":void 0)!=="production"&&n&&!cp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cp=!0);const r=FC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return zC(r),r}const VC=e=>{(T0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Gg(e):e,n=(r,i)=>HC(t,r,i);return Object.assign(n,t),n},UC=e=>VC,WC=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const f=(l==null?void 0:l.equalityFn)||Object.is;let d=s(r.getState());c=p=>{const y=s(p);if(!f(d,y)){const x=d;a(d=y,x)}},l!=null&&l.fireImmediately&&a(d,d)}return i(c)},e(t,n,r)},GC=WC;function YC(){return console.warn("Running outside VS Code - using mock API"),{postMessage:e=>{console.log("VS Code postMessage:",e)},getState:()=>{const e=localStorage.getItem("vscode-state");return e?JSON.parse(e):void 0},setState:e=>{localStorage.setItem("vscode-state",JSON.stringify(e))}}}const il=typeof window.acquireVsCodeApi=="function"?window.acquireVsCodeApi():YC(),Vn={postMessage:e=>{il.postMessage(e)},getState:()=>il.getState(),setState:e=>{il.setState(e)}},KC=new Set(["CREATE","STREAM","TABLE","TRIGGER","DROP","ALTER","SELECT","FROM","WHERE","INSERT","INTO","UPDATE","DELETE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","WINDOW","PARTITION","JOIN","INNER","LEFT","RIGHT","FULL","OUTER","ON","AS","DISTINCT","ALL","AND","OR","NOT","IN","IS","NULL","BETWEEN","LIKE","CASE","WHEN","THEN","ELSE","END","CAST","PATTERN","SEQUENCE","EVERY","WITHIN","FOR","AT","START","CRON","CURRENT","EXPIRED","EVENTS","OUTPUT","PRIMARY","KEY","WITH","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","INT","INTEGER","LONG","BIGINT","FLOAT","DOUBLE","REAL","STRING","VARCHAR","CHAR","TEXT","BOOL","BOOLEAN"]);function QC(e){var r;const t=[];let n=0;for(;n<e.length;){const i=e[n];if(/\s/.test(i)){const o=n;for(;n<e.length&&/\s/.test(e[n]);)n++;t.push({type:"WHITESPACE",value:e.slice(o,n),position:o});continue}if(e.slice(n,n+2)==="--"){const o=n;for(;n<e.length&&e[n]!==`
`;)n++;t.push({type:"COMMENT",value:e.slice(o,n),position:o});continue}if(e.slice(n,n+2)==="/*"){const o=n;for(n+=2;n<e.length-1&&e.slice(n,n+2)!=="*/";)n++;n+=2,t.push({type:"COMMENT",value:e.slice(o,n),position:o});continue}if(i==="'"){const o=n;for(n++;n<e.length&&e[n]!=="'";)e[n]==="\\"&&n++,n++;n++,t.push({type:"STRING",value:e.slice(o,n),position:o});continue}if(i==='"'){const o=n;for(n++;n<e.length&&e[n]!=='"';)n++;n++,t.push({type:"IDENTIFIER",value:e.slice(o,n),position:o});continue}if(/\d/.test(i)||i==="."&&/\d/.test(e[n+1]||"")){const o=n;for(;n<e.length&&/[\d.]/.test(e[n]);)n++;if(((r=e[n])==null?void 0:r.toLowerCase())==="e")for(n++,(e[n]==="+"||e[n]==="-")&&n++;n<e.length&&/\d/.test(e[n]);)n++;t.push({type:"NUMBER",value:e.slice(o,n),position:o});continue}if(/[a-zA-Z_]/.test(i)){const o=n;for(;n<e.length&&/[a-zA-Z0-9_]/.test(e[n]);)n++;const s=e.slice(o,n),a=s.toUpperCase();t.push({type:KC.has(a)?"KEYWORD":"IDENTIFIER",value:s,position:o});continue}if(/[=<>!+\-*/%&|^~]/.test(i)){const o=n,s=e.slice(n,n+2);["<=",">=","!=","<>","||","&&","->"].includes(s)?n+=2:n++,t.push({type:"OPERATOR",value:e.slice(o,n),position:o});continue}if(/[(),;.\[\]{}:]/.test(i)){t.push({type:"PUNCTUATION",value:i,position:n}),n++;continue}n++}return t.push({type:"EOF",value:"",position:n}),t}class b0{constructor(t){Na(this,"tokens");Na(this,"pos",0);this.tokens=QC(t).filter(n=>n.type!=="WHITESPACE"&&n.type!=="COMMENT")}current(){return this.tokens[this.pos]||{type:"EOF",value:"",position:-1}}advance(){const t=this.current();return this.pos++,t}expect(t,n){const r=this.current();if(r.type!==t||n!==void 0&&r.value.toUpperCase()!==n.toUpperCase())throw new Error(`Expected ${t}${n?` '${n}'`:""}, got ${r.type} '${r.value}'`);return this.advance()}match(t,n){const r=this.current();return r.type===t&&(n===void 0||r.value.toUpperCase()===n.toUpperCase())}matchKeyword(...t){return this.match("KEYWORD")&&t.some(n=>this.current().value.toUpperCase()===n)}parse(){const t=[];for(;!this.match("EOF");)for(this.matchKeyword("CREATE")?t.push(this.parseCreate()):this.matchKeyword("SELECT","INSERT")?t.push(this.parseQuery()):this.advance();this.match("PUNCTUATION",";");)this.advance();return t}parseCreate(){if(this.expect("KEYWORD","CREATE"),this.matchKeyword("STREAM"))return this.parseCreateStream();if(this.matchKeyword("TABLE"))return this.parseCreateTable();if(this.matchKeyword("TRIGGER"))return this.parseCreateTrigger();throw new Error(`Unknown CREATE type: ${this.current().value}`)}parseCreateStream(){this.expect("KEYWORD","STREAM");const t=this.expect("IDENTIFIER").value;this.expect("PUNCTUATION","(");const n=this.parseAttributeList();return this.expect("PUNCTUATION",")"),{type:"stream",name:t,attributes:n}}parseCreateTable(){this.expect("KEYWORD","TABLE");const t=this.expect("IDENTIFIER").value;this.expect("PUNCTUATION","(");const n=this.parseAttributeList();this.expect("PUNCTUATION",")");const r={type:"table",name:t,attributes:n};return this.matchKeyword("PRIMARY")&&(this.advance(),this.expect("KEYWORD","KEY"),this.expect("PUNCTUATION","("),r.primaryKey=this.parseIdentifierList(),this.expect("PUNCTUATION",")")),this.matchKeyword("WITH")&&(this.advance(),this.expect("PUNCTUATION","("),r.withConfig=this.parseWithConfig(),this.expect("PUNCTUATION",")")),r}parseCreateTrigger(){this.expect("KEYWORD","TRIGGER");const t=this.expect("IDENTIFIER").value;if(this.expect("KEYWORD","AT"),this.matchKeyword("START"))return this.advance(),{type:"trigger",name:t,triggerType:"start"};if(this.matchKeyword("EVERY")){this.advance();const n=parseInt(this.expect("NUMBER").value),r=this.expect("KEYWORD").value;return{type:"trigger",name:t,triggerType:"periodic",atEvery:n,unit:r}}else if(this.matchKeyword("CRON")){this.advance();const n=this.expect("STRING").value.slice(1,-1);return{type:"trigger",name:t,triggerType:"cron",cronExpression:n}}throw new Error(`Unknown trigger type: ${this.current().value}`)}parseAttributeList(){const t=[];do{const n=this.expect("IDENTIFIER").value,r=this.expect("KEYWORD").value;t.push({name:n,type:r})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseIdentifierList(){const t=[];do t.push(this.expect("IDENTIFIER").value);while(this.match("PUNCTUATION",",")&&this.advance());return t}parseWithConfig(){const t={};do{const n=this.expect("STRING").value.slice(1,-1);this.expect("OPERATOR","=");const r=this.expect("STRING").value.slice(1,-1);t[n]=r}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseQuery(){let t="";this.matchKeyword("INSERT")&&(this.advance(),this.expect("KEYWORD","INTO"),t=this.expect("IDENTIFIER").value),this.expect("KEYWORD","SELECT"),this.matchKeyword("DISTINCT")&&this.advance();const n=this.parseSelectList();this.expect("KEYWORD","FROM");const r=this.parseFromClause();let i;this.matchKeyword("JOIN","INNER","LEFT","RIGHT","FULL")&&(i=this.parseJoinClause());let o;this.matchKeyword("WHERE")&&(this.advance(),o=this.parseExpression());let s;this.matchKeyword("GROUP")&&(this.advance(),this.expect("KEYWORD","BY"),s=this.parseIdentifierList());let a;return this.matchKeyword("HAVING")&&(this.advance(),a=this.parseExpression()),this.matchKeyword("INSERT")&&(this.advance(),this.expect("KEYWORD","INTO"),t=this.expect("IDENTIFIER").value),{type:"query",select:n,from:r,where:o,groupBy:s,having:a,insertInto:t,join:i}}parseSelectList(){const t=[];do{const n=this.parseExpression();let r;this.matchKeyword("AS")&&(this.advance(),r=this.expect("IDENTIFIER").value),t.push({expression:n,alias:r})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseFromClause(){const t=[];do{const n=this.expect("IDENTIFIER").value;let r,i;this.matchKeyword("AS")?(this.advance(),r=this.expect("IDENTIFIER").value):this.match("IDENTIFIER")&&!this.matchKeyword("WINDOW","WHERE","GROUP","JOIN","INSERT","INNER","LEFT","RIGHT","FULL")&&(r=this.advance().value),this.matchKeyword("WINDOW")&&(i=this.parseWindowClause()),t.push({source:n,alias:r,window:i})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseJoinClause(){let t="INNER";this.matchKeyword("INNER","LEFT","RIGHT","FULL")&&(t=this.advance().value,this.matchKeyword("OUTER")&&this.advance()),this.expect("KEYWORD","JOIN");const n=this.expect("IDENTIFIER").value;let r;this.matchKeyword("AS")?(this.advance(),r=this.expect("IDENTIFIER").value):this.match("IDENTIFIER")&&!this.matchKeyword("WINDOW","ON")&&(r=this.advance().value);let i;this.matchKeyword("WINDOW")&&(i=this.parseWindowClause()),this.expect("KEYWORD","ON");const o=this.parseExpression();return{type:t,source:n,alias:r,on:o,window:i}}parseWindowClause(){this.expect("KEYWORD","WINDOW"),this.expect("PUNCTUATION","(");const t=this.expect("STRING").value.slice(1,-1),n=[];for(;this.match("PUNCTUATION",",");)if(this.advance(),this.match("NUMBER")){const r=this.advance().value;this.matchKeyword("MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS")?n.push(`${r} ${this.advance().value}`):n.push(parseFloat(r))}else this.match("IDENTIFIER")?n.push(this.advance().value):this.match("STRING")&&n.push(this.advance().value.slice(1,-1));return this.expect("PUNCTUATION",")"),{type:t,params:n}}parseExpression(){const t=[];let n=0;for(;!this.match("EOF");){const r=this.current();if(n===0&&(r.type==="PUNCTUATION"&&[",",";"].includes(r.value)||r.type==="KEYWORD"&&["FROM","WHERE","GROUP","HAVING","ORDER","INSERT","JOIN","ON","AS","INNER","LEFT","RIGHT","FULL","WINDOW"].includes(r.value.toUpperCase())))break;if(r.value==="("&&n++,r.value===")"){if(n===0)break;n--}t.push(r.value),this.advance()}return t.join(" ").replace(/ ([,)])/g,"$1").replace(/([,(]) /g,"$1")}}function XC(e){const t=[],n=[];try{const i=new b0(e).parse();let o=100,s=100;const a=250,l=150;let c=0;for(const f of i){const d=`${f.type}-${Date.now()}-${c++}`;switch(f.type){case"stream":t.push({id:d,type:"stream",position:{x:o,y:s},properties:{streamName:f.name,attributes:f.attributes.map(y=>({name:y.name,type:dp(y.type)}))}}),s+=l;break;case"table":t.push({id:d,type:"table",position:{x:o,y:s},properties:{tableName:f.name,attributes:f.attributes.map(y=>({name:y.name,type:dp(y.type)})),primaryKey:f.primaryKey,extension:f.extension,withConfig:f.withConfig}}),s+=l;break;case"trigger":t.push({id:d,type:"trigger",position:{x:o,y:s},properties:{triggerId:f.name,triggerType:f.triggerType,atEvery:f.atEvery?ZC(f.atEvery,f.unit||"MILLISECONDS"):void 0,cronExpression:f.cronExpression}}),s+=l;break;case"query":const p=JC(f,o+a,s);t.push(...p),s+=l*2;break}}}catch(r){n.push(r instanceof Error?r.message:String(r))}return{elements:t,errors:n}}function dp(e){switch(e.toUpperCase()){case"INTEGER":case"INT":return"INT";case"BIGINT":case"LONG":return"LONG";case"REAL":case"FLOAT":return"FLOAT";case"DOUBLE":return"DOUBLE";case"VARCHAR":case"CHAR":case"TEXT":case"STRING":return"STRING";case"BOOLEAN":case"BOOL":return"BOOL";default:return"STRING"}}function qC(e){switch(e.toLowerCase()){case"length":return"length";case"lengthbatch":return"lengthBatch";case"time":return"time";case"timebatch":return"timeBatch";case"tumbling":return"tumbling";case"sliding":return"sliding";case"session":return"session";case"externaltime":return"externalTime";case"externaltimebatch":return"externalTimeBatch";case"sort":return"sort";default:return"length"}}function ZC(e,t){switch(t.toUpperCase()){case"MILLISECONDS":return e;case"SECONDS":return e*1e3;case"MINUTES":return e*60*1e3;case"HOURS":return e*60*60*1e3;case"DAYS":return e*24*60*60*1e3;default:return e}}function JC(e,t,n){var a;const r=[];let i=t,o=0;if((a=e.from[0])!=null&&a.window){const l=e.from[0].window;r.push({id:`window-${Date.now()}-${o++}`,type:"window",position:{x:i,y:n},properties:{windowType:qC(l.type),parameters:ej(l)}}),i+=200}if(e.where){const l=fp(e.where);l&&(r.push({id:`filter-${Date.now()}-${o++}`,type:"filter",position:{x:i,y:n},properties:{condition:l}}),i+=200)}if(e.select.some(l=>/^(COUNT|SUM|AVG|MIN|MAX|FIRST|LAST|STDDEV|VARIANCE)\s*\(/i.test(l.expression))){const l=e.select.filter(c=>/^(COUNT|SUM|AVG|MIN|MAX|FIRST|LAST|STDDEV|VARIANCE)\s*\(/i.test(c.expression)).map(c=>{const f=c.expression.match(/^(\w+)\s*\(\s*(.+?)\s*\)$/i);return f?{type:f[1].toUpperCase(),expression:{type:"variable",variableName:f[2]},alias:c.alias||f[1].toLowerCase()}:null}).filter(c=>c!==null);l.length>0&&(r.push({id:`aggregation-${Date.now()}-${o++}`,type:"aggregation",position:{x:i,y:n},properties:{aggregations:l}}),i+=200)}else e.select.length>0&&e.select[0].expression!=="*"&&(r.push({id:`projection-${Date.now()}-${o++}`,type:"projection",position:{x:i,y:n},properties:{selectList:e.select.map(l=>({expression:{type:"variable",variableName:l.expression},alias:l.alias}))}}),i+=200);if(e.groupBy&&e.groupBy.length>0){const l=e.having?fp(e.having):void 0;r.push({id:`groupBy-${Date.now()}-${o++}`,type:"groupBy",position:{x:i,y:n},properties:{groupByAttributes:e.groupBy,havingCondition:l||void 0}}),i+=200}return e.insertInto&&r.push({id:`stream-${Date.now()}-${o++}`,type:"stream",position:{x:i,y:n},properties:{streamName:e.insertInto,attributes:[]}}),r}function ej(e){const t={};switch(e.type.toLowerCase()){case"length":case"lengthbatch":t.count=typeof e.params[0]=="number"?e.params[0]:parseInt(String(e.params[0]));break;case"time":case"timebatch":case"tumbling":case"session":t.duration=Jr(e.params[0]);break;case"sliding":t.duration=Jr(e.params[0]),e.params[1]&&(t.slideInterval=Jr(e.params[1]));break;case"externaltime":case"externaltimebatch":typeof e.params[0]=="string"&&!/\d/.test(e.params[0])?(t.timestampAttribute=e.params[0],t.duration=Jr(e.params[1])):t.duration=Jr(e.params[0]);break;case"sort":t.count=typeof e.params[0]=="number"?e.params[0]:parseInt(String(e.params[0])),e.params[1]&&(t.sortAttribute=e.params[1]);break}return t}function Jr(e){if(e===void 0)return;if(typeof e=="number")return{value:e,unit:"MILLISECONDS"};const t=String(e).match(/^(\d+)\s*(MILLISECONDS|SECONDS|MINUTES|HOURS|DAYS)$/i);return t?{value:parseInt(t[1]),unit:t[2].toUpperCase()}:{value:parseInt(String(e)),unit:"MILLISECONDS"}}function fp(e){if(!e||e.trim()==="")return null;const t=e.match(/^(\w+(?:\.\w+)?)\s*(=|!=|<>|>|<|>=|<=)\s*(.+)$/);if(t){const[,n,r,i]=t,o=n.split("."),s=i.trim(),a=parseFloat(s),l=s.startsWith("'")&&s.endsWith("'");return{type:"compare",operator:r==="<>"?"!=":r,left:{type:"variable",variableName:o.length>1?o[1]:o[0],streamId:o.length>1?o[0]:void 0},right:{type:"constant",constantType:l||isNaN(a)?"string":"double",constantValue:l?s.slice(1,-1):isNaN(a)?s:a}}}return{type:"variable",variableName:e}}function tj(e){const t=[];try{new b0(e).parse()}catch(n){t.push(n instanceof Error?n.message:String(n))}return{valid:t.length===0,errors:t}}const nj={rabbitmq:{name:"rabbitmq",supportedFormats:["json","csv","bytes"],requiredParameters:["rabbitmq.host","rabbitmq.queue"],optionalParameters:["rabbitmq.port","rabbitmq.vhost","rabbitmq.username","rabbitmq.password","rabbitmq.prefetch","rabbitmq.consumer.tag","rabbitmq.auto.ack","rabbitmq.declare.queue","error.strategy","error.retry.max-attempts","error.retry.initial-delay-ms","error.retry.max-delay-ms","error.retry.backoff-multiplier","error.dlq.stream"]},timer:{name:"timer",optionalParameters:["timer.interval"]},websocket:{name:"websocket",supportedFormats:["json","text","bytes"],requiredParameters:["websocket.url"],optionalParameters:["websocket.reconnect","websocket.reconnect.delay.ms","websocket.reconnect.max.delay.ms","websocket.reconnect.max.attempts","websocket.subprotocol","error.strategy","error.retry.max-attempts","error.retry.initial-delay-ms","error.retry.max-delay-ms","error.retry.backoff-multiplier","error.dlq.stream"]}},rj={log:{name:"log",supportedFormats:["json","text","csv","bytes"],optionalParameters:["log.prefix","log.level"]},rabbitmq:{name:"rabbitmq",supportedFormats:["json","csv","bytes"],requiredParameters:["rabbitmq.host","rabbitmq.exchange"],optionalParameters:["rabbitmq.port","rabbitmq.vhost","rabbitmq.username","rabbitmq.password","rabbitmq.routing.key","rabbitmq.persistent","rabbitmq.content.type","rabbitmq.declare.exchange","rabbitmq.exchange.type"]},websocket:{name:"websocket",supportedFormats:["json","text","bytes"],requiredParameters:["websocket.url"],optionalParameters:["websocket.reconnect","websocket.reconnect.delay.ms","websocket.reconnect.max.delay.ms","websocket.reconnect.max.attempts","websocket.message.type","websocket.subprotocol"]}},ij={cron:{name:"cron"},externalTime:{name:"externalTime"},externalTimeBatch:{name:"externalTimeBatch"},length:{name:"length"},lengthBatch:{name:"lengthBatch"},lossyCounting:{name:"lossyCounting"},session:{name:"session"},sort:{name:"sort"},time:{name:"time"},timeBatch:{name:"timeBatch"}},oj={avg:{name:"avg",arity:1},count:{name:"count",arity:1},distinctCount:{name:"distinctCount",arity:1},max:{name:"max",arity:1},maxForever:{name:"maxForever",arity:1},min:{name:"min",arity:1},minForever:{name:"minForever",arity:1},sum:{name:"sum",arity:1}},sj={abs:{name:"abs"},acos:{name:"acos"},ascii:{name:"ascii"},asin:{name:"asin"},atan:{name:"atan"},cast:{name:"cast"},ceil:{name:"ceil"},char:{name:"char"},chr:{name:"chr"},coalesce:{name:"coalesce"},concat:{name:"concat"},convert:{name:"convert"},cos:{name:"cos"},dateAdd:{name:"dateAdd"},default:{name:"default"},eventTimestamp:{name:"eventTimestamp"},exp:{name:"exp"},floor:{name:"floor"},formatDate:{name:"formatDate"},ifnull:{name:"ifnull"},instr:{name:"instr"},left:{name:"left"},length:{name:"length"},like:{name:"like"},ln:{name:"ln"},locate:{name:"locate"},log:{name:"log"},log10:{name:"log10"},lower:{name:"lower"},lpad:{name:"lpad"},ltrim:{name:"ltrim"},maximum:{name:"maximum"},minimum:{name:"minimum"},mod:{name:"mod"},now:{name:"now"},nullif:{name:"nullif"},parseDate:{name:"parseDate"},position:{name:"position"},pow:{name:"pow"},power:{name:"power"},repeat:{name:"repeat"},replace:{name:"replace"},reverse:{name:"reverse"},right:{name:"right"},round:{name:"round"},rpad:{name:"rpad"},rtrim:{name:"rtrim"},sign:{name:"sign"},sin:{name:"sin"},sqrt:{name:"sqrt"},substr:{name:"substr"},substring:{name:"substring"},tan:{name:"tan"},trim:{name:"trim"},trunc:{name:"trunc"},truncate:{name:"truncate"},upper:{name:"upper"},uuid:{name:"uuid"}},aj={cache:{name:"cache"},inMemory:{name:"inMemory"},jdbc:{name:"jdbc"}},lj={sources:nj,sinks:rj,windows:ij,aggregators:oj,functions:sj,tables:aj},Nn=lj;function Pc(){return Object.keys(Nn.sources).sort()}function Rc(){return Object.keys(Nn.sinks).sort()}function I0(){return Object.keys(Nn.windows).sort()}function uj(){return Object.keys(Nn.aggregators).sort()}function cj(){return Object.keys(Nn.functions).sort()}function dj(){return Object.keys(Nn.tables).sort()}function Rs(e){return Nn.sources[e]}function As(e){return Nn.sinks[e]}function _0(e){const t=[];for(const n of e.requiredParameters||[])t.push({key:n,required:!0});for(const n of e.optionalParameters||[])t.push({key:n,required:!1});return t}function M0(e){const t=e.split(".");return(t.length>1?t.slice(1).join("."):e).split(/[.-]/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function fj(e,t){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}const pj={gridSize:20,snapToGrid:!0,autoSave:!0,engineHost:"localhost",enginePort:9090};let Os=null;const hj=fj(()=>{Os&&Os()},500),Yn=UC()(GC((e,t)=>({application:{elements:[],connections:[]},name:"Untitled Project",isDirty:!1,nodes:[],edges:[],selectedElementIds:[],selectedConnectionId:null,viewMode:"visual",generatedSQL:"",config:pj,past:[],future:[],loadApplication:n=>{const r=n.application.elements.map(o=>({id:o.id,type:o.type,position:o.position,data:o.properties})),i=n.application.connections.map(o=>({id:o.id,source:o.sourceElementId,sourceHandle:o.sourcePortId,target:o.targetElementId,targetHandle:o.targetPortId,animated:!0}));e({application:n.application,name:n.name,nodes:r,edges:i,isDirty:!1,past:[],future:[]}),t().regenerateSQL()},setNodes:n=>{const r=n.map(i=>({id:i.id,type:i.type,position:i.position,properties:i.data}));e(i=>({nodes:n,application:{...i.application,elements:r},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},setEdges:n=>{const r=n.map(i=>({id:i.id,sourceElementId:i.source,sourcePortId:i.sourceHandle||"output",targetElementId:i.target,targetPortId:i.targetHandle||"input"}));e(i=>({edges:n,application:{...i.application,connections:r},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},onNodesChange:n=>{e(r=>({nodes:Ic(n,r.nodes)}))},onEdgesChange:n=>{e(r=>({edges:_c(n,r.edges)}))},addElement:(n,r,i={})=>{t().pushHistory();const o=`${n}-${Date.now()}`,s={...mj(n),...i},a={id:o,type:n,position:r,data:s},l={id:o,type:n,position:r,properties:s};e(c=>({nodes:[...c.nodes,a],application:{...c.application,elements:[...c.application.elements,l]},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},removeElement:n=>{t().pushHistory(),e(r=>({nodes:r.nodes.filter(i=>i.id!==n),edges:r.edges.filter(i=>i.source!==n&&i.target!==n),application:{elements:r.application.elements.filter(i=>i.id!==n),connections:r.application.connections.filter(i=>i.sourceElementId!==n&&i.targetElementId!==n)},selectedElementIds:r.selectedElementIds.filter(i=>i!==n),isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},updateElement:(n,r)=>{e(i=>{const o=i.nodes.map(a=>{if(a.id!==n)return a;const l=r;return l.data?{...a,data:{...a.data,...l.data}}:{...a,...r}}),s=i.application.elements.map(a=>{if(a.id!==n)return a;const l=o.find(c=>c.id===n);return l?{...a,position:l.position,properties:l.data}:a});return{nodes:o,application:{...i.application,elements:s},isDirty:!0}}),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},addConnection:n=>{t().pushHistory();const r={id:n.id,source:n.sourceElementId,sourceHandle:n.sourcePortId,target:n.targetElementId,targetHandle:n.targetPortId,animated:!0};e(i=>({edges:[...i.edges,r],isDirty:!0})),t().regenerateSQL()},removeConnection:n=>{t().pushHistory(),e(r=>({edges:r.edges.filter(i=>i.id!==n),selectedConnectionId:r.selectedConnectionId===n?null:r.selectedConnectionId,isDirty:!0})),t().regenerateSQL()},selectElement:(n,r=!1)=>{e(i=>n===null?{selectedElementIds:[]}:r?{selectedElementIds:i.selectedElementIds.includes(n)?i.selectedElementIds.filter(s=>s!==n):[...i.selectedElementIds,n]}:{selectedElementIds:[n]})},clearSelection:()=>{e({selectedElementIds:[],selectedConnectionId:null})},setViewMode:n=>{e({viewMode:n})},regenerateSQL:()=>{const{application:n}=t(),r=gj(n);e({generatedSQL:r})},updateSQL:n=>{e({generatedSQL:n})},importSQL:n=>{const{elements:r,errors:i}=XC(n);if(i.length>0)return{success:!1,errors:i};if(r.length===0)return{success:!1,errors:["No valid elements found in SQL"]};const o=r.map(a=>({id:a.id,type:a.type,position:a.position,data:a.properties})),s=[];for(let a=0;a<r.length-1;a++){const l=r[a],c=r[a+1];["stream","table","trigger"].includes(l.type)&&["stream","table","trigger"].includes(c.type)||s.push({id:`edge-${Date.now()}-${a}`,source:l.id,target:c.id,sourceHandle:"output",targetHandle:"input",animated:!0})}return e({nodes:o,edges:s,application:{elements:r,connections:s.map(a=>({id:a.id,sourceElementId:a.source,sourcePortId:a.sourceHandle||"output",targetElementId:a.target,targetPortId:a.targetHandle||"input"}))},generatedSQL:n,isDirty:!0}),t().config.autoSave&&t().debouncedSave(),{success:!0,errors:[]}},getSQLValidation:n=>tj(n),save:()=>{const n=t(),r=n.nodes.map(o=>({id:o.id,type:o.type,position:o.position,properties:o.data})),i={$schema:"https://eventflux.io/schemas/studio/v1.json",version:"1.0",name:n.name,application:{elements:r,connections:n.edges.map(o=>({id:o.id,sourceElementId:o.source,sourcePortId:o.sourceHandle||"output",targetElementId:o.target,targetPortId:o.targetHandle||"input"}))},layout:{zoom:1,pan:{x:0,y:0},gridSize:n.config.gridSize,snapToGrid:n.config.snapToGrid},metadata:{created:new Date().toISOString(),modified:new Date().toISOString()}};Vn.postMessage({type:"update",content:i}),e({isDirty:!1})},debouncedSave:()=>{Os||(Os=()=>t().save()),hj()},setConfig:n=>{e(r=>({config:{...r.config,...n}}))},getUpstreamSchema:n=>{const{nodes:r,edges:i}=t(),o=[],s=new Set,a=c=>{if(s.has(c))return[];s.add(c);const f=[],d=i.filter(p=>p.target===c);for(const p of d){const y=r.find(x=>x.id===p.source);y&&(f.push(y),f.push(...a(y.id)))}return f},l=a(n);for(const c of l){const f=c.data;switch(c.type){case"stream":{const d=f.streamName||"",p=f.attributes||[];for(const y of p)o.push({name:y.name,type:y.type,streamId:d,source:c.id});break}case"table":{const d=f.tableName||"",p=f.attributes||[];for(const y of p)o.push({name:y.name,type:y.type,streamId:d,source:c.id});break}case"projection":{const d=f.selectList||[];for(const p of d){const y=p.alias,x=p.expression;if(y){let v="STRING";if((x==null?void 0:x.type)==="variable"&&(x!=null&&x.variableName)){const N=o.find(h=>h.name===x.variableName);N&&(v=N.type)}o.push({name:y,type:v,source:c.id})}}break}case"aggregation":{const d=f.aggregations||[];for(const p of d){let y="DOUBLE";p.type==="COUNT"||p.type==="DISTINCTCOUNT"?y="LONG":(p.type==="FIRST"||p.type==="LAST")&&(y="STRING"),o.push({name:p.alias,type:y,source:c.id})}break}}}return o},getAllStreams:()=>{const{nodes:n}=t(),r=[];for(const i of n){const o=i.data;if(i.type==="stream"){const s=o.streamName||"",a=o.attributes||[];r.push({id:i.id,name:s,attributes:a.map(l=>({name:l.name,type:l.type,streamId:s,source:i.id}))})}else if(i.type==="table"){const s=o.tableName||"",a=o.attributes||[];r.push({id:i.id,name:s,attributes:a.map(l=>({name:l.name,type:l.type,streamId:s,source:i.id}))})}}return r},pushHistory:()=>{const{nodes:n,edges:r,past:i}=t(),o={nodes:JSON.parse(JSON.stringify(n)),edges:JSON.parse(JSON.stringify(r))},s=[...i,o];s.length>50&&s.shift(),e({past:s,future:[]})},undo:()=>{const{nodes:n,edges:r,past:i,future:o}=t();if(i.length===0)return;const s={nodes:JSON.parse(JSON.stringify(n)),edges:JSON.parse(JSON.stringify(r))},a=[...i],l=a.pop();e({nodes:JSON.parse(JSON.stringify(l.nodes)),edges:JSON.parse(JSON.stringify(l.edges)),past:a,future:[...o,s],isDirty:!0}),setTimeout(()=>t().regenerateSQL(),0)},redo:()=>{const{nodes:n,edges:r,past:i,future:o}=t();if(o.length===0)return;const s={nodes:JSON.parse(JSON.stringify(n)),edges:JSON.parse(JSON.stringify(r))},a=[...o],l=a.pop();e({nodes:JSON.parse(JSON.stringify(l.nodes)),edges:JSON.parse(JSON.stringify(l.edges)),past:[...i,s],future:a,isDirty:!0}),setTimeout(()=>t().regenerateSQL(),0)},canUndo:()=>t().past.length>0,canRedo:()=>t().future.length>0})));function mj(e){switch(e){case"source":{const t=Pc(),n=t.includes("websocket")?"websocket":t[0]||"timer",r=Rs(n),i={};if(r!=null&&r.requiredParameters)for(const o of r.requiredParameters)i[o]="";return{sourceName:"NewSource",sourceType:n,config:i}}case"sink":{const n=Rc()[0]||"log",r=As(n),i={};if(r!=null&&r.requiredParameters)for(const o of r.requiredParameters)i[o]="";return{sinkName:"NewSink",sinkType:n,config:i}}case"stream":return{streamName:"NewStream",attributes:[{name:"id",type:"INT"},{name:"value",type:"DOUBLE"}]};case"table":return{tableName:"NewTable",attributes:[{name:"key",type:"STRING"},{name:"value",type:"STRING"}]};case"trigger":return{triggerId:"NewTrigger",triggerType:"periodic",atEvery:1e3};case"window":{const t=I0();return{windowType:t.includes("length")?"length":t[0]||"length",parameters:{count:10}}}case"filter":return{condition:null};case"projection":return{selectList:[]};case"aggregation":return{aggregations:[]};case"groupBy":return{groupByAttributes:[]};case"join":return{joinType:"inner",onCondition:null};case"pattern":return{mode:"pattern",patternExpression:{type:"stream",streamName:""}};case"partition":return{partitionBy:[]};default:return{}}}function gj(e){var c,f;const t=[],{elements:n,connections:r}=e,i=n.filter(d=>d.type==="stream");for(const d of i){const p=d.properties,y=((c=p.attributes)==null?void 0:c.map(x=>`${x.name} ${x.type}`).join(", "))||"";t.push(`CREATE STREAM ${p.streamName} (${y});`)}const o=n.filter(d=>d.type==="table");for(const d of o){const p=d.properties,y=((f=p.attributes)==null?void 0:f.map(x=>`${x.name} ${x.type}`).join(", "))||"";t.push(`CREATE TABLE ${p.tableName} (${y});`)}const s=n.filter(d=>d.type==="trigger");for(const d of s){const p=d.properties;p.triggerType==="start"?t.push(`CREATE TRIGGER ${p.triggerId} AT START;`):p.triggerType==="periodic"?t.push(`CREATE TRIGGER ${p.triggerId} AT EVERY ${p.atEvery} MILLISECONDS;`):p.triggerType==="cron"&&t.push(`CREATE TRIGGER ${p.triggerId} AT CRON '${p.cronExpression}';`)}t.length>0&&t.push("");const a=["window","filter","projection","aggregation","groupBy","join","pattern","partition"];let l=0;for(const d of r){const p=n.find(x=>x.id===d.sourceElementId),y=n.find(x=>x.id===d.targetElementId);if(p&&y&&a.includes(p.type)&&y.type==="stream"){const x=y.properties.streamName,v=yj(p,x,n,r);v&&(l>0&&t.push(""),t.push(v),l++)}}return t.join(`
`)}function yj(e,t,n,r){const i=vj(e.id,n,r);if(i.length===0)return null;let o="",s="",a="",l="SELECT *",c="",f="";for(const p of i)switch(p.type){case"stream":{o=p.properties.streamName;break}case"window":{const y=p.properties;s=xj(y);break}case"filter":{const y=p.properties;y.condition&&(a=`WHERE ${Ne(y.condition)}`);break}case"projection":{const y=p.properties;y.selectList&&y.selectList.length>0&&(l="SELECT "+y.selectList.map(x=>{const v=Ne(x.expression);return x.alias?`${v} AS ${x.alias}`:v}).join(", "));break}case"aggregation":{const y=p.properties;y.aggregations&&y.aggregations.length>0&&(l="SELECT "+y.aggregations.map(v=>{const N=Ne(v.expression);return`${v.type}(${N}) AS ${v.alias}`}).join(", "));break}case"groupBy":{const y=p.properties;y.groupByAttributes&&y.groupByAttributes.length>0&&(c=`GROUP BY ${y.groupByAttributes.join(", ")}`),y.havingCondition&&(f=`HAVING ${Ne(y.havingCondition)}`);break}}if(!o)return null;const d=[`INSERT INTO ${t}`,l,`FROM ${o}${s?" "+s:""}`];return a&&d.push(a),c&&d.push(c),f&&d.push(f),d.join(`
`)+";"}function vj(e,t,n){const r=[];let i=e;for(;i;){const o=t.find(a=>a.id===i);if(!o)break;r.unshift(o);const s=n.find(a=>a.targetElementId===i);i=s?s.sourceElementId:null}return r}function xj(e){const{windowType:t,parameters:n}=e;switch(t){case"length":return`WINDOW('length', ${n.count})`;case"lengthBatch":return`WINDOW('lengthBatch', ${n.count})`;case"time":return`WINDOW('time', ${qt(n.duration)})`;case"timeBatch":return`WINDOW('timeBatch', ${qt(n.duration)})`;case"tumbling":return`WINDOW('tumbling', ${qt(n.duration)})`;case"sliding":return`WINDOW('sliding', ${qt(n.duration)}, ${qt(n.slideInterval)})`;case"session":return`WINDOW('session', ${qt(n.gapDuration)})`;case"externalTime":return`WINDOW('externalTime', ${n.timestampAttribute}, ${qt(n.duration)})`;case"externalTimeBatch":return`WINDOW('externalTimeBatch', ${n.timestampAttribute}, ${qt(n.duration)})`;case"sort":return`WINDOW('sort', ${n.count}, ${n.sortAttribute})`;default:return""}}function qt(e){return e?`${e.value} ${e.unit}`:"0 SECONDS"}function Ne(e){if(!e)return"*";if(typeof e!="object")return String(e);const t=e;switch(t.type){case"constant":return t.constantType==="string"?`'${t.constantValue}'`:t.constantType==="null"?"NULL":String(t.constantValue);case"variable":return t.streamId?`${t.streamId}.${t.variableName}`:String(t.variableName);case"function":const n=(t.parameters||[]).map(r=>Ne(r)).join(", ");return`${String(t.functionName).toUpperCase()}(${n})`;case"compare":return`${Ne(t.left)} ${t.operator} ${Ne(t.right)}`;case"and":return`(${Ne(t.left)} AND ${Ne(t.right)})`;case"or":return`(${Ne(t.left)} OR ${Ne(t.right)})`;case"not":return`NOT ${Ne(t.operand)}`;case"add":return`(${Ne(t.left)} + ${Ne(t.right)})`;case"subtract":return`(${Ne(t.left)} - ${Ne(t.right)})`;case"multiply":return`(${Ne(t.left)} * ${Ne(t.right)})`;case"divide":return`(${Ne(t.left)} / ${Ne(t.right)})`;default:return"*"}}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},f)=>I.createElement("svg",{ref:f,...wj,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Nj(e)}`,a].join(" "),...c},[...t.map(([d,p])=>I.createElement(d,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ne("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ne("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ne("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ne("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=ne("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ne("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ne("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=ne("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ne("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ne("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ne("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Lj({onOpenTemplates:e}){const{name:t,isDirty:n,save:r,generatedSQL:i,viewMode:o,setViewMode:s,nodes:a,setNodes:l,undo:c,redo:f,past:d,future:p,pushHistory:y}=Yn(),{fitView:x}=ca(),v=d.length>0,N=p.length>0,h=()=>{x({padding:.2,duration:300})},g=()=>{if(a.length===0)return;y();const E=200,k=100,b=80,P=60,L=50,A=50,O=a.filter(B=>B.type==="source"),F=a.filter(B=>B.type==="trigger"),j=a.filter(B=>B.type==="stream"),M=a.filter(B=>!["source","sink","stream","table","trigger"].includes(B.type||"")),_=a.filter(B=>B.type==="sink"),$=a.filter(B=>B.type==="table");let C=L,T=A;const R=[...a];O.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C,y:T+H*(k+P)}})});const D=O.length*(k+P);F.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C,y:T+D+H*(k+P)}})}),C+=E+b,j.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C,y:T+H*(k+P)}})}),C+=E+b,M.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C,y:T+H*(k+P)}})}),C+=E+b,_.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C,y:T+H*(k+P)}})}),C=L+E+b;const z=Math.max(O.length+F.length,j.length,M.length,_.length)*(k+P)+A;$.forEach((B,H)=>{const U=R.findIndex(Y=>Y.id===B.id);U!==-1&&(R[U]={...R[U],position:{x:C+H*(E+b),y:z+P}})}),l(R),setTimeout(()=>x({padding:.2,duration:300}),50)},m=()=>{r()},w=()=>{Vn.postMessage({type:"export",sql:i,nodes:a.map(E=>({type:E.type,data:E.data}))})},S=()=>{Vn.postMessage({type:"runSimulation",application:{}})};return u.jsxs("div",{className:"h-12 border-b border-vscode-border flex items-center px-4 gap-2 bg-gray-900/50",children:[u.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[u.jsx("span",{className:"font-medium",children:t}),n&&u.jsx("span",{className:"text-xs text-gray-500",children:"(unsaved)"})]}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:Pj,label:"Save",onClick:m,shortcut:"Ctrl+S"}),u.jsx(Zt,{icon:Cj,label:"Templates",onClick:e||(()=>{})}),u.jsx(Zt,{icon:Ej,label:"Export",onClick:w}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:Rj,label:"Undo",onClick:c,shortcut:"Ctrl+Z",disabled:!v}),u.jsx(Zt,{icon:_j,label:"Redo",onClick:f,shortcut:"Ctrl+Y",disabled:!N}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:jj,label:"Auto Layout",onClick:g}),u.jsx(Zt,{icon:Tj,label:"Fit View",onClick:h}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded p-1",children:[u.jsx(ol,{active:o==="visual",onClick:()=>s("visual"),label:"Visual"}),u.jsx(ol,{active:o==="split",onClick:()=>s("split"),label:"Split"}),u.jsx(ol,{active:o==="sql",onClick:()=>s("sql"),label:"SQL"})]}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-500 text-white rounded text-sm font-medium transition-colors",children:[u.jsx(Ij,{className:"w-4 h-4"}),"Run"]}),u.jsx(Zt,{icon:A0,label:"Settings",onClick:()=>{}})]})}function Zt({icon:e,label:t,onClick:n,shortcut:r,disabled:i}){return u.jsxs("button",{onClick:n,disabled:i,className:`
        flex items-center gap-1.5 px-2 py-1.5 rounded text-sm
        transition-colors
        ${i?"text-gray-600 cursor-not-allowed":"text-gray-300 hover:bg-vscode-list-hover hover:text-white"}
      `,title:r?`${t} (${r})`:t,children:[u.jsx(e,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden lg:inline",children:t})]})}function ol({active:e,onClick:t,label:n}){return u.jsx("button",{onClick:t,className:`
        px-3 py-1 rounded text-xs font-medium transition-colors
        ${e?"bg-vscode-button-bg text-white":"text-gray-400 hover:text-white"}
      `,children:n})}const $j=[{id:"input",name:"Input",description:"Data entry points",items:[{type:"source",name:"Source",description:"External data source (Kafka, HTTP, etc.)",icon:pa,color:"bg-source"},{type:"trigger",name:"Trigger",description:"Time-based event generator",icon:Vc,color:"bg-trigger"}]},{id:"data",name:"Data",description:"Event channels & storage",items:[{type:"stream",name:"Stream",description:"Event stream - central data channel",icon:ma,color:"bg-stream"},{type:"table",name:"Table",description:"Reference data table with state",icon:ga,color:"bg-table"}]},{id:"filtering",name:"Filtering",description:"Filter and route events",items:[{type:"filter",name:"Filter",description:"Filter events by condition",icon:Dc,color:"bg-filter"}]},{id:"partitioning",name:"Partitioning",description:"Parallel processing",items:[{type:"partition",name:"Partition",description:"Parallel partitioning by key",icon:Bc,color:"bg-partition"}]},{id:"processing",name:"Processing",description:"Transform & aggregate",items:[{type:"window",name:"Window",description:"Time or count-based windowing",icon:Lc,color:"bg-window"},{type:"aggregation",name:"Aggregation",description:"Aggregate functions (SUM, AVG, etc.)",icon:Ac,color:"bg-aggregation"},{type:"groupBy",name:"Group By",description:"Group events by attributes",icon:Fc,color:"bg-aggregation"},{type:"join",name:"Join",description:"Join streams or tables",icon:zc,color:"bg-join"},{type:"pattern",name:"Pattern",description:"CEP pattern matching",icon:Hc,color:"bg-pattern"}]},{id:"selection",name:"Selection",description:"Select output columns",items:[{type:"projection",name:"Projection",description:"Select and transform columns",icon:$c,color:"bg-projection"}]},{id:"output",name:"Output",description:"Data destinations",items:[{type:"sink",name:"Sink",description:"External data destination (Kafka, Log, etc.)",icon:ha,color:"bg-sink"}]}];function Dj(){const[e,t]=I.useState(new Set(["input","data","filtering","partitioning","processing","selection","output"])),n=i=>{t(o=>{const s=new Set(o);return s.has(i)?s.delete(i):s.add(i),s})},r=(i,o)=>{i.dataTransfer.setData("application/reactflow",o),i.dataTransfer.effectAllowed="move"};return u.jsxs("div",{className:"w-56 border-r border-vscode-border bg-gray-900/30 flex flex-col",children:[u.jsx("div",{className:"px-3 py-2 border-b border-vscode-border",children:u.jsx("h2",{className:"text-sm font-medium text-gray-300",children:"Elements"})}),u.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:$j.map(i=>u.jsxs("div",{className:"mb-2",children:[u.jsxs("button",{onClick:()=>n(i.id),className:"w-full flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-400 hover:text-gray-200 transition-colors",children:[e.has(i.id)?u.jsx(Oc,{className:"w-3 h-3"}):u.jsx(R0,{className:"w-3 h-3"}),i.name]}),e.has(i.id)&&u.jsx("div",{className:"px-2",children:i.items.map(o=>u.jsxs("div",{draggable:!0,onDragStart:s=>r(s,o.type),className:"palette-item",title:o.description,children:[u.jsx("div",{className:`palette-item-icon ${o.color}`,children:u.jsx(o.icon,{className:"w-3 h-3"})}),u.jsx("span",{children:o.name})]},o.type))})]},i.id))}),u.jsx("div",{className:"px-3 py-2 border-t border-vscode-border text-xs text-gray-500",children:"Drag elements to canvas"})]})}const zj={source:pa,sink:ha,stream:ma,table:ga,trigger:Vc,window:Lc,filter:Dc,projection:$c,aggregation:Ac,groupBy:Fc,join:zc,pattern:Hc,partition:Bc},Fj={source:"Source",sink:"Sink",stream:"Stream",table:"Table",trigger:"Trigger",window:"Window",filter:"Filter",projection:"Projection",aggregation:"Aggregation",groupBy:"Group By",join:"Join",pattern:"Pattern",partition:"Partition"},O0=["INT","LONG","DOUBLE","FLOAT","STRING","BOOL"];function Un({value:e,onChange:t,attributes:n,placeholder:r="Select attribute",className:i="",allowCustom:o=!0}){const s=n.length>0,a=n.some(l=>l.name===e||`${l.streamId}.${l.name}`===e);return s&&(a||!e)?u.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:`form-select ${i}`,children:[u.jsx("option",{value:"",children:r}),n.map((l,c)=>{const f=l.streamId?`${l.streamId}.${l.name}`:l.name;return u.jsxs("option",{value:l.name,children:[f," (",l.type,")"]},c)}),o&&u.jsx("option",{value:"__custom__",children:"Custom..."})]}):u.jsxs("div",{className:`flex items-center gap-1 ${i}`,children:[u.jsx("input",{type:"text",value:e==="__custom__"?"":e,onChange:l=>t(l.target.value),className:"form-input flex-1",placeholder:r}),s&&u.jsx("button",{onClick:()=>t(""),className:"p-1 text-gray-500 hover:text-gray-300",title:"Select from list",children:u.jsx(Oc,{className:"w-3 h-3"})})]})}function L0({show:e=!1}){const t=I.useMemo(()=>cj(),[]),n=I.useMemo(()=>uj(),[]);return e?u.jsxs("div",{className:"mt-2 p-2 bg-gray-800/30 rounded text-xs",children:[u.jsx("div",{className:"text-gray-400 mb-1",children:"Available functions:"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.slice(0,15).map(r=>u.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded text-gray-300 font-mono",children:r},r)),t.length>15&&u.jsxs("span",{className:"px-1.5 py-0.5 text-gray-500",children:["+",t.length-15," more"]})]}),u.jsx("div",{className:"text-gray-400 mt-2 mb-1",children:"Aggregators:"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:n.map(r=>u.jsx("span",{className:"px-1.5 py-0.5 bg-indigo-900/50 rounded text-indigo-300 font-mono",children:r},r))})]}):null}function Bj(){const{nodes:e,selectedElementIds:t,updateElement:n,removeElement:r,getUpstreamSchema:i,getAllStreams:o}=Yn(),s=I.useMemo(()=>t.length!==1?null:e.find(y=>y.id===t[0])||null,[e,t]),a=I.useMemo(()=>s?i(s.id):[],[s,i]),l=I.useMemo(()=>o(),[o]);if(!s)return u.jsx("div",{className:"flex-1 flex flex-col",children:u.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-gray-500 p-4 text-center",children:"Select an element to view and edit its properties"})});const c=zj[s.type]||ma,f=Fj[s.type]||s.type,d=y=>{n(s.id,{data:y})},p=()=>{r(s.id)};return u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-vscode-border flex items-center gap-2",children:[u.jsx(c,{className:"w-4 h-4 text-gray-400"}),u.jsx("h2",{className:"text-sm font-medium text-gray-300 flex-1",children:f}),u.jsx("button",{onClick:p,className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Delete element",children:u.jsx(Tt,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:u.jsx(Hj,{type:s.type,data:s.data,onChange:d,upstreamSchema:a,allStreams:l})})]})}function Hj({type:e,data:t,onChange:n,upstreamSchema:r,allStreams:i}){switch(e){case"source":return u.jsx(Wj,{data:t,onChange:n});case"sink":return u.jsx(Gj,{data:t,onChange:n});case"stream":return u.jsx(Yj,{data:t,onChange:n});case"table":return u.jsx(Kj,{data:t,onChange:n});case"trigger":return u.jsx(Qj,{data:t,onChange:n});case"window":return u.jsx(Xj,{data:t,onChange:n});case"filter":return u.jsx(qj,{data:t,onChange:n,upstreamSchema:r});case"projection":return u.jsx(Jj,{data:t,onChange:n,upstreamSchema:r});case"aggregation":return u.jsx(eT,{data:t,onChange:n,upstreamSchema:r});case"groupBy":return u.jsx(tT,{data:t,onChange:n,upstreamSchema:r});case"join":return u.jsx(nT,{data:t,onChange:n,allStreams:i});case"pattern":return u.jsx(rT,{data:t,onChange:n,allStreams:i});case"partition":return u.jsx(iT,{data:t,onChange:n,allStreams:i});default:return u.jsxs("div",{className:"text-sm text-gray-500",children:["Property editor for ",e," not yet implemented"]})}}function Vj(){return Pc().map(e=>{const t=Rs(e);return{id:e,label:e.charAt(0).toUpperCase()+e.slice(1),schema:t}})}function Uj(){return Rc().map(e=>{const t=As(e);return{id:e,label:e.charAt(0).toUpperCase()+e.slice(1),schema:t}})}function Wj({data:e,onChange:t}){const n=e.sourceName||"",r=e.sourceType||Pc()[0]||"rabbitmq",i=e.config||{},o=Vj(),s=Rs(r),a=s?_0(s):[],l=v=>{const N=Rs(v),h={};if(N)for(const g of N.requiredParameters||[])h[g]="";t({...e,sourceType:v,config:h})},c=(v,N)=>{t({...e,config:{...i,[v]:N}})},f=()=>{const v=`config${Object.keys(i).length}`;t({...e,config:{...i,[v]:""}})},d=v=>{const N={...i};delete N[v],t({...e,config:N})},p=new Set(a.map(v=>v.key)),y=Object.keys(i).filter(v=>!p.has(v)),x=!n.trim();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label form-label-required",children:"Source Name"}),u.jsx("input",{type:"text",value:n,onChange:v=>t({...e,sourceName:v.target.value}),className:`form-input ${x?"form-input-error":""}`,placeholder:"MySource"}),x&&u.jsx("div",{className:"form-error",children:"Source name is required"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Connector Type"}),u.jsx("select",{value:r,onChange:v=>l(v.target.value),className:"form-select",children:o.map(v=>u.jsx("option",{value:v.id,children:v.label},v.id))})]}),a.length>0&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Parameters"}),u.jsx("div",{className:"space-y-2",children:a.map(v=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"text-xs text-gray-400 w-28 truncate",title:v.key,children:[M0(v.key),v.required&&u.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),u.jsx("input",{type:"text",value:i[v.key]||"",onChange:N=>c(v.key,N.target.value),className:"form-input flex-1 text-xs",placeholder:v.key})]},v.key))})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Custom Config"}),u.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add config",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[y.map(v=>u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"text",value:v,onChange:N=>{const h={...i},g=h[v];delete h[v],h[N.target.value]=g,t({...e,config:h})},className:"form-input w-28 text-xs",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:i[v]||"",onChange:N=>c(v,N.target.value),className:"form-input flex-1 text-xs",placeholder:"value"}),u.jsx("button",{onClick:()=>d(v),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},v)),y.length===0&&u.jsx("div",{className:"text-xs text-gray-600 italic",children:"No custom config"})]})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Connect this Source to a Stream to define where events flow into the system."})]})}function Gj({data:e,onChange:t}){const n=e.sinkName||"",r=e.sinkType||Rc()[0]||"log",i=e.config||{},o=Uj(),s=As(r),a=s?_0(s):[],l=v=>{const N=As(v),h={};if(N)for(const g of N.requiredParameters||[])h[g]="";t({...e,sinkType:v,config:h})},c=(v,N)=>{t({...e,config:{...i,[v]:N}})},f=()=>{const v=`config${Object.keys(i).length}`;t({...e,config:{...i,[v]:""}})},d=v=>{const N={...i};delete N[v],t({...e,config:N})},p=new Set(a.map(v=>v.key)),y=Object.keys(i).filter(v=>!p.has(v)),x=!n.trim();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label form-label-required",children:"Sink Name"}),u.jsx("input",{type:"text",value:n,onChange:v=>t({...e,sinkName:v.target.value}),className:`form-input ${x?"form-input-error":""}`,placeholder:"MySink"}),x&&u.jsx("div",{className:"form-error",children:"Sink name is required"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Connector Type"}),u.jsx("select",{value:r,onChange:v=>l(v.target.value),className:"form-select",children:o.map(v=>u.jsx("option",{value:v.id,children:v.label},v.id))})]}),a.length>0&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Parameters"}),u.jsx("div",{className:"space-y-2",children:a.map(v=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"text-xs text-gray-400 w-28 truncate",title:v.key,children:[M0(v.key),v.required&&u.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),u.jsx("input",{type:"text",value:i[v.key]||"",onChange:N=>c(v.key,N.target.value),className:"form-input flex-1 text-xs",placeholder:v.key})]},v.key))})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Custom Config"}),u.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add config",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[y.map(v=>u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"text",value:v,onChange:N=>{const h={...i},g=h[v];delete h[v],h[N.target.value]=g,t({...e,config:h})},className:"form-input w-28 text-xs",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:i[v]||"",onChange:N=>c(v,N.target.value),className:"form-input flex-1 text-xs",placeholder:"value"}),u.jsx("button",{onClick:()=>d(v),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},v)),y.length===0&&u.jsx("div",{className:"text-xs text-gray-600 italic",children:"No custom config"})]})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Connect a Stream or Output to this Sink to define where events flow out of the system."})]})}function Yj({data:e,onChange:t}){const n=e.streamName||"",r=e.attributes||[],i=c=>{t({...e,streamName:c})},o=(c,f,d)=>{const p=[...r];p[c]={...p[c],[f]:d},t({...e,attributes:p})},s=()=>{t({...e,attributes:[...r,{name:`attr${r.length}`,type:"STRING"}]})},a=c=>{t({...e,attributes:r.filter((f,d)=>d!==c)})},l=!n.trim();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label form-label-required",children:"Stream Name"}),u.jsx("input",{type:"text",value:n,onChange:c=>i(c.target.value),className:`form-input ${l?"form-input-error":""}`,placeholder:"StreamName"}),l&&u.jsx("div",{className:"form-error",children:"Stream name is required"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Schema"}),u.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((c,f)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:c.name,onChange:d=>o(f,"name",d.target.value),className:"form-input flex-1",placeholder:"name"}),u.jsx("select",{value:c.type,onChange:d=>o(f,"type",d.target.value),className:"form-select w-24",children:O0.map(d=>u.jsx("option",{value:d,children:d},d))}),u.jsx("button",{onClick:()=>a(f),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},f))})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Streams are central data channels. Connect a Source to feed events in, or query results via INSERT INTO."})]})}function Kj({data:e,onChange:t}){const n=dj(),r=e.tableName||"",i=e.attributes||[],o=e.extension||"",s=e.primaryKey||[],a=e.withConfig||{},l={inMemory:"In-Memory",cache:"Cache (Redis)",jdbc:"JDBC Database"},c=m=>{t({...e,tableName:m})},f=(m,w,S)=>{const E=[...i];E[m]={...E[m],[w]:S},t({...e,attributes:E})},d=()=>{t({...e,attributes:[...i,{name:`attr${i.length}`,type:"STRING"}]})},p=m=>{t({...e,attributes:i.filter((w,S)=>S!==m)})},y=(m,w)=>{t(w?{...e,primaryKey:[...s,m]}:{...e,primaryKey:s.filter(S=>S!==m)})},x=m=>{let w={};m==="cache"?w={"cache.host":"localhost","cache.port":"6379"}:m==="jdbc"&&(w={"jdbc.url":"jdbc:mysql://localhost:3306/db","jdbc.driver":"com.mysql.cj.jdbc.Driver"}),t({...e,extension:m||void 0,withConfig:m&&m!=="inMemory"?w:void 0})},v=(m,w)=>{t({...e,withConfig:{...a,[m]:w}})},N=()=>{const m=`config${Object.keys(a).length}`;t({...e,withConfig:{...a,[m]:""}})},h=m=>{const w={...a};delete w[m],t({...e,withConfig:Object.keys(w).length>0?w:void 0})},g=!r.trim();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label form-label-required",children:"Table Name"}),u.jsx("input",{type:"text",value:r,onChange:m=>c(m.target.value),className:`form-input ${g?"form-input-error":""}`,placeholder:"TableName"}),g&&u.jsx("div",{className:"form-error",children:"Table name is required"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Extension (optional)"}),u.jsxs("select",{value:o,onChange:m=>x(m.target.value),className:"form-select",children:[u.jsx("option",{value:"",children:"In-Memory (default)"}),n.filter(m=>m!=="inMemory").map(m=>u.jsx("option",{value:m,children:l[m]||m},m))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Schema"}),u.jsx("button",{onClick:d,className:"p-1 text-gray-400 hover:text-white transition-colors",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:i.map((m,w)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:s.includes(m.name),onChange:S=>y(m.name,S.target.checked),className:"form-checkbox w-4 h-4",title:"Primary Key"}),u.jsx("input",{type:"text",value:m.name,onChange:S=>f(w,"name",S.target.value),className:"form-input flex-1",placeholder:"name"}),u.jsx("select",{value:m.type,onChange:S=>f(w,"type",S.target.value),className:"form-select w-24",children:O0.map(S=>u.jsx("option",{value:S,children:S},S))}),u.jsx("button",{onClick:()=>p(w),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},w))}),s.length>0&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Primary Key: ",s.join(", ")]})]}),o&&u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Configuration"}),u.jsx("button",{onClick:N,className:"p-1 text-gray-400 hover:text-white transition-colors",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(a).map(([m,w])=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:m,onChange:S=>{const E={...a};delete E[m],E[S.target.value]=w,t({...e,withConfig:E})},className:"form-input w-32",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:w,onChange:S=>v(m,S.target.value),className:"form-input flex-1",placeholder:"value"}),u.jsx("button",{onClick:()=>h(m),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},m))})]})]})}function Qj({data:e,onChange:t}){const n=e.triggerId||"",r=e.triggerType||"periodic",i=e.atEvery||1e3,o=e.cronExpression||"";return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Trigger Name"}),u.jsx("input",{type:"text",value:n,onChange:s=>t({...e,triggerId:s.target.value}),className:"form-input",placeholder:"TriggerName"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Type"}),u.jsxs("select",{value:r,onChange:s=>t({...e,triggerType:s.target.value}),className:"form-select",children:[u.jsx("option",{value:"start",children:"Start (Once)"}),u.jsx("option",{value:"periodic",children:"Periodic"}),u.jsx("option",{value:"cron",children:"Cron"})]})]}),r==="periodic"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Interval (ms)"}),u.jsx("input",{type:"number",value:i,onChange:s=>t({...e,atEvery:parseInt(s.target.value)||1e3}),className:"form-input",min:1})]}),r==="cron"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Cron Expression"}),u.jsx("input",{type:"text",value:o,onChange:s=>t({...e,cronExpression:s.target.value}),className:"form-input",placeholder:"*/5 * * * * *"})]})]})}function Xj({data:e,onChange:t}){const n=I0(),r=e.windowType||n[0]||"length",i=e.parameters||{},o=l=>{t({...e,windowType:l,parameters:Zj(l)})},s=(l,c)=>{t({...e,parameters:{...i,[l]:c}})},a=l=>l.replace(/([A-Z])/g," $1").replace(/^./,c=>c.toUpperCase()).trim();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Window Type"}),u.jsx("select",{value:r,onChange:l=>o(l.target.value),className:"form-select",children:n.map(l=>u.jsx("option",{value:l,children:a(l)},l))})]}),["length","lengthBatch","sort"].includes(r)&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Count"}),u.jsx("input",{type:"number",value:i.count||10,onChange:l=>s("count",parseInt(l.target.value)||10),className:"form-input",min:1})]}),["time","timeBatch","tumbling","session","externalTime","externalTimeBatch"].includes(r)&&u.jsx(sl,{label:"Duration",value:i.duration,onChange:l=>s("duration",l)}),r==="sliding"&&u.jsxs(u.Fragment,{children:[u.jsx(sl,{label:"Window Size",value:i.duration,onChange:l=>s("duration",l)}),u.jsx(sl,{label:"Slide Interval",value:i.slideInterval,onChange:l=>s("slideInterval",l)})]}),["externalTime","externalTimeBatch"].includes(r)&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Timestamp Attribute"}),u.jsx("input",{type:"text",value:i.timestampAttribute||"",onChange:l=>s("timestampAttribute",l.target.value),className:"form-input",placeholder:"timestamp"})]}),r==="sort"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Sort Attribute"}),u.jsx("input",{type:"text",value:i.sortAttribute||"",onChange:l=>s("sortAttribute",l.target.value),className:"form-input",placeholder:"price"})]})]})}function qj({data:e,onChange:t,upstreamSchema:n}){var c,f;const r=e.condition,i=((c=r==null?void 0:r.left)==null?void 0:c.variableName)||"",o=(r==null?void 0:r.operator)||">",s=(f=r==null?void 0:r.right)==null?void 0:f.constantValue,a=s!=null?String(s):"",l=(d,p,y)=>{const x=parseFloat(y);t({...e,condition:{type:"compare",operator:p,left:{type:"variable",variableName:d},right:{type:"constant",constantType:isNaN(x)?"string":"double",constantValue:isNaN(x)?y:x}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Condition"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Un,{value:i,onChange:d=>l(d,o,a),attributes:n,placeholder:"Select attribute",className:"w-full"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:o,onChange:d=>l(i,d.target.value,a),className:"form-select w-20",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="})]}),u.jsx("input",{type:"text",value:a,onChange:d=>l(i,o,d.target.value),className:"form-input flex-1",placeholder:"value to compare"})]})]}),i&&a&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-800/50 rounded text-xs text-gray-300 font-mono",children:[i," ",o," ",a]})]}),n.length>0&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Attributes: ",n.map(d=>d.name).join(", ")]}),u.jsx(L0,{show:!0})]})}function sl({label:e,value:t,onChange:n}){const r=t||{value:1,unit:"SECONDS"};return u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:e}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:r.value,onChange:i=>n({...r,value:parseInt(i.target.value)||1}),className:"form-input flex-1",min:1}),u.jsxs("select",{value:r.unit,onChange:i=>n({...r,unit:i.target.value}),className:"form-select w-28",children:[u.jsx("option",{value:"MILLISECONDS",children:"ms"}),u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"}),u.jsx("option",{value:"DAYS",children:"day"})]})]})]})}function Zj(e){switch(e){case"length":case"lengthBatch":return{count:10};case"time":case"timeBatch":case"tumbling":return{duration:{value:5,unit:"SECONDS"}};case"sliding":return{duration:{value:10,unit:"SECONDS"},slideInterval:{value:2,unit:"SECONDS"}};case"session":return{gapDuration:{value:30,unit:"SECONDS"}};case"externalTime":case"externalTimeBatch":return{timestampAttribute:"timestamp",duration:{value:5,unit:"SECONDS"}};case"sort":return{count:10,sortAttribute:"value"};default:return{}}}function Jj({data:e,onChange:t,upstreamSchema:n}){const r=e.selectList||[],i=e.distinct||!1,o=()=>{t({...e,selectList:[...r,{expression:{type:"variable",variableName:""},alias:""}]})},s=l=>{t({...e,selectList:r.filter((c,f)=>f!==l)})},a=(l,c,f)=>{const d=[...r];c==="attribute"?d[l]={...d[l],expression:{type:"variable",variableName:f}}:d[l]={...d[l],alias:f||void 0},t({...e,selectList:d})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:l=>t({...e,distinct:l.target.checked}),className:"form-checkbox"}),u.jsx("span",{className:"text-xs text-gray-400",children:"DISTINCT"})]})}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Select Columns"}),u.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add column",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[r.length===0&&u.jsx("div",{className:"text-xs text-gray-500 italic",children:"* (all columns)"}),r.map((l,c)=>{var f;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Un,{value:((f=l.expression)==null?void 0:f.variableName)||"",onChange:d=>a(c,"attribute",d),attributes:n,placeholder:"attribute",className:"flex-1"}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:l.alias||"",onChange:d=>a(c,"alias",d.target.value),className:"form-input flex-1",placeholder:"alias"}),u.jsx("button",{onClick:()=>s(c),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},c)})]})]})]})}function eT({data:e,onChange:t,upstreamSchema:n}){const r=e.aggregations||[],i=["COUNT","SUM","AVG","MIN","MAX","STDDEV","VARIANCE","FIRST","LAST","DISTINCTCOUNT"],o=[{name:"*",type:"ALL",source:""},...n],s=()=>{t({...e,aggregations:[...r,{type:"COUNT",expression:{type:"variable",variableName:"*"},alias:`agg${r.length}`}]})},a=c=>{t({...e,aggregations:r.filter((f,d)=>d!==c)})},l=(c,f,d)=>{const p=[...r];f==="attribute"?p[c]={...p[c],expression:{type:"variable",variableName:d}}:f==="type"?p[c]={...p[c],type:d}:p[c]={...p[c],alias:d},t({...e,aggregations:p})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Aggregations"}),u.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add aggregation",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-3",children:r.map((c,f)=>{var d;return u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("select",{value:c.type,onChange:p=>l(f,"type",p.target.value),className:"form-select flex-1",children:i.map(p=>u.jsx("option",{value:p,children:p},p))}),u.jsx("button",{onClick:()=>a(f),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Un,{value:((d=c.expression)==null?void 0:d.variableName)||"",onChange:p=>l(f,"attribute",p),attributes:o,placeholder:"attribute or *",className:"flex-1"}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:c.alias||"",onChange:p=>l(f,"alias",p.target.value),className:"form-input flex-1",placeholder:"alias"})]})]},f)})})]}),u.jsx(L0,{show:!0})]})}function tT({data:e,onChange:t,upstreamSchema:n}){var y,x;const r=e.groupByAttributes||[],i=e.havingCondition,o=()=>{t({...e,groupByAttributes:[...r,""]})},s=v=>{t({...e,groupByAttributes:r.filter((N,h)=>h!==v)})},a=(v,N)=>{const h=[...r];h[v]=N,t({...e,groupByAttributes:h})},l=((y=i==null?void 0:i.left)==null?void 0:y.variableName)||"",c=(i==null?void 0:i.operator)||">",f=(x=i==null?void 0:i.right)==null?void 0:x.constantValue,d=f!=null?String(f):"",p=(v,N,h)=>{if(!v&&!h){t({...e,havingCondition:void 0});return}const g=parseFloat(h);t({...e,havingCondition:{type:"compare",operator:N,left:{type:"variable",variableName:v},right:{type:"constant",constantType:isNaN(g)?"string":"double",constantValue:isNaN(g)?h:g}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Group By Attributes"}),u.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((v,N)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Un,{value:v,onChange:h=>a(N,h),attributes:n,placeholder:"attribute",className:"flex-1"}),u.jsx("button",{onClick:()=>s(N),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},N))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"HAVING Condition (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:l,onChange:v=>p(v.target.value,c,d),className:"form-input flex-1",placeholder:"agg alias"}),u.jsxs("select",{value:c,onChange:v=>p(l,v.target.value,d),className:"form-select w-16",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="})]}),u.jsx("input",{type:"text",value:d,onChange:v=>p(l,c,v.target.value),className:"form-input flex-1",placeholder:"value"})]})]})]})}function nT({data:e,onChange:t,allStreams:n}){var x,v,N,h,g,m;const r=e.joinType||"inner",i=e.onCondition,o=e.trigger||"all",s=e.within,a=((x=i==null?void 0:i.left)==null?void 0:x.streamId)||"",l=((v=i==null?void 0:i.left)==null?void 0:v.variableName)||"",c=((N=i==null?void 0:i.right)==null?void 0:N.streamId)||"",f=((h=i==null?void 0:i.right)==null?void 0:h.variableName)||"",d=((g=n.find(w=>w.name===a))==null?void 0:g.attributes)||[],p=((m=n.find(w=>w.name===c))==null?void 0:m.attributes)||[],y=(w,S,E,k)=>{if(!S&&!k){t({...e,onCondition:null});return}t({...e,onCondition:{type:"compare",operator:"=",left:{type:"variable",streamId:w||void 0,variableName:S},right:{type:"variable",streamId:E||void 0,variableName:k}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Join Type"}),u.jsxs("select",{value:r,onChange:w=>t({...e,joinType:w.target.value}),className:"form-select",children:[u.jsx("option",{value:"inner",children:"INNER JOIN"}),u.jsx("option",{value:"left_outer",children:"LEFT OUTER JOIN"}),u.jsx("option",{value:"right_outer",children:"RIGHT OUTER JOIN"}),u.jsx("option",{value:"full_outer",children:"FULL OUTER JOIN"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"ON Condition"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("select",{value:a,onChange:w=>y(w.target.value,l,c,f),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(w=>u.jsx("option",{value:w.name,children:w.name},w.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Un,{value:l,onChange:w=>y(a,w,c,f),attributes:d,placeholder:"attribute",className:"flex-1"})]}),u.jsx("div",{className:"text-center text-gray-500 text-xs",children:"="}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("select",{value:c,onChange:w=>y(a,l,w.target.value,f),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(w=>u.jsx("option",{value:w.name,children:w.name},w.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Un,{value:f,onChange:w=>y(a,l,c,w),attributes:p,placeholder:"attribute",className:"flex-1"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Trigger"}),u.jsxs("select",{value:o,onChange:w=>t({...e,trigger:w.target.value}),className:"form-select",children:[u.jsx("option",{value:"all",children:"All (both streams)"}),u.jsx("option",{value:"left",children:"Left stream only"}),u.jsx("option",{value:"right",children:"Right stream only"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"WITHIN (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:(s==null?void 0:s.value)||"",onChange:w=>{const S=parseInt(w.target.value);S>0?t({...e,within:{value:S,unit:(s==null?void 0:s.unit)||"SECONDS"}}):t({...e,within:void 0})},className:"form-input flex-1",min:0,placeholder:"duration"}),u.jsxs("select",{value:(s==null?void 0:s.unit)||"SECONDS",onChange:w=>t({...e,within:s?{...s,unit:w.target.value}:void 0}),className:"form-select w-24",disabled:!(s!=null&&s.value),children:[u.jsx("option",{value:"MILLISECONDS",children:"ms"}),u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"})]})]})]})]})}function rT({data:e,onChange:t,allStreams:n}){var d,p,y,x;const r=e.mode||"pattern",i=e.patternExpression||{},o=e.withinConstraint,s=((d=i==null?void 0:i.left)==null?void 0:d.streamName)||(i==null?void 0:i.streamName)||"",a=((p=i==null?void 0:i.left)==null?void 0:p.streamAlias)||(i==null?void 0:i.streamAlias)||"",l=((y=i==null?void 0:i.right)==null?void 0:y.streamName)||"",c=((x=i==null?void 0:i.right)==null?void 0:x.streamAlias)||"",f=(v,N,h,g)=>{t(h?{...e,patternExpression:{type:"next",operator:"next",left:{type:"stream",streamName:v,streamAlias:N||void 0},right:{type:"stream",streamName:h,streamAlias:g||void 0}}}:{...e,patternExpression:{type:"stream",streamName:v,streamAlias:N||void 0}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Mode"}),u.jsxs("select",{value:r,onChange:v=>t({...e,mode:v.target.value}),className:"form-select",children:[u.jsx("option",{value:"pattern",children:"PATTERN (any order)"}),u.jsx("option",{value:"sequence",children:"SEQUENCE (strict order)"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Pattern Expression"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"First event"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:s,onChange:v=>f(v.target.value,a,l,c),className:"form-select flex-1",children:[u.jsx("option",{value:"",children:"Select stream"}),n.map(v=>u.jsx("option",{value:v.name,children:v.name},v.id))]}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:a,onChange:v=>f(s,v.target.value,l,c),className:"form-input w-16",placeholder:"alias"})]})]}),u.jsx("div",{className:"text-center text-gray-400",children:" followed by "}),u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Second event (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:l,onChange:v=>f(s,a,v.target.value,c),className:"form-select flex-1",children:[u.jsx("option",{value:"",children:"Select stream"}),n.map(v=>u.jsx("option",{value:v.name,children:v.name},v.id))]}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:c,onChange:v=>f(s,a,l,v.target.value),className:"form-input w-16",placeholder:"alias"})]})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"WITHIN Constraint (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:(o==null?void 0:o.value)||"",onChange:v=>{const N=parseInt(v.target.value);N>0?t({...e,withinConstraint:{type:(o==null?void 0:o.type)||"time",value:N,unit:(o==null?void 0:o.unit)||"SECONDS"}}):t({...e,withinConstraint:void 0})},className:"form-input flex-1",min:0,placeholder:"value"}),u.jsxs("select",{value:(o==null?void 0:o.type)||"time",onChange:v=>t({...e,withinConstraint:o?{...o,type:v.target.value}:void 0}),className:"form-select w-24",disabled:!(o!=null&&o.value),children:[u.jsx("option",{value:"time",children:"Time"}),u.jsx("option",{value:"event_count",children:"Events"})]}),(o==null?void 0:o.type)==="time"&&u.jsxs("select",{value:(o==null?void 0:o.unit)||"SECONDS",onChange:v=>t({...e,withinConstraint:o?{...o,unit:v.target.value}:void 0}),className:"form-select w-20",disabled:!(o!=null&&o.value),children:[u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"})]})]})]}),u.jsx("div",{className:"text-xs text-gray-500 italic",children:"For complex patterns, use the SQL editor"})]})}function iT({data:e,onChange:t,allStreams:n}){const r=e.partitionBy||[],i=()=>{t({...e,partitionBy:[...r,{attribute:"",streamName:""}]})},o=l=>{t({...e,partitionBy:r.filter((c,f)=>f!==l)})},s=(l,c,f)=>{const d=[...r];d[l]={...d[l],[c]:f},t({...e,partitionBy:d})},a=l=>{var c;return((c=n.find(f=>f.name===l))==null?void 0:c.attributes)||[]};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Partition By"}),u.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add partition attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((l,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:l.streamName,onChange:f=>s(c,"streamName",f.target.value),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(f=>u.jsx("option",{value:f.name,children:f.name},f.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Un,{value:l.attribute,onChange:f=>s(c,"attribute",f),attributes:a(l.streamName),placeholder:"attribute",className:"flex-1"}),u.jsx("button",{onClick:()=>o(c),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},c))})]}),u.jsx("div",{className:"text-xs text-gray-500",children:"Partitioning creates independent processing instances for each unique combination of partition attribute values."})]})}function oT(){const{nodes:e,updateElement:t}=Yn(),[n,r]=I.useState(!1),[i,o]=I.useState(new Set(["sources","sinks","extensions"])),[s,a]=I.useState(null),l=I.useMemo(()=>{const h=[];for(const g of e){const m=g.data;g.type==="source"&&h.push({id:`source-${g.id}`,name:m.sourceName||"Unnamed Source",type:"source",connectorType:m.sourceType||"kafka",config:m.config||{},nodeId:g.id}),g.type==="sink"&&h.push({id:`sink-${g.id}`,name:m.sinkName||"Unnamed Sink",type:"sink",connectorType:m.sinkType||"log",config:m.config||{},nodeId:g.id}),g.type==="table"&&m.extension&&h.push({id:`extension-${g.id}`,name:m.tableName||"Unnamed Table",type:"extension",connectorType:m.extension,config:m.withConfig||{},nodeId:g.id})}return h},[e]),c=l.filter(h=>h.type==="source"),f=l.filter(h=>h.type==="sink"),d=l.filter(h=>h.type==="extension"),p=(h,g,m)=>{const w=e.find(b=>b.id===h.nodeId);if(!w)return;const S=w.data,E=h.type==="extension"?"withConfig":"config",k=S[E]||{};t(h.nodeId,{data:{...S,[E]:{...k,[g]:m}}})},y=()=>{const h=[];if(h.push("# EventFlux Application Configuration"),h.push("# Generated by EventFlux Studio"),h.push(""),h.push("[application]"),h.push('name = "EventFluxApp"'),h.push(""),c.length>0){h.push("# Source Connectors");for(const g of c){h.push(`[sources.${g.connectorType}.${g.name}]`),h.push(`stream = "${g.name}"`);for(const[m,w]of Object.entries(g.config)){const S=/^\d+$/.test(w)?w:`"${w}"`;h.push(`${m} = ${S}`)}h.push("")}}if(f.length>0){h.push("# Sink Connectors");for(const g of f){h.push(`[sinks.${g.connectorType}.${g.name}]`),h.push(`stream = "${g.name}"`);for(const[m,w]of Object.entries(g.config)){const S=/^\d+$/.test(w)?w:`"${w}"`;h.push(`${m} = ${S}`)}h.push("")}}if(d.length>0){h.push("# Table Extensions");for(const g of d){h.push(`[extensions.${g.connectorType}.${g.name}]`);for(const[m,w]of Object.entries(g.config)){const S=/^\d+$/.test(w)?w:`"${w}"`;h.push(`${m} = ${S}`)}h.push("")}}return h.join(`
`)},x=()=>{navigator.clipboard.writeText(y()),r(!0),setTimeout(()=>r(!1),2e3)},v=h=>{o(g=>{const m=new Set(g);return m.has(h)?m.delete(h):m.add(h),m})},N=c.length>0||f.length>0||d.length>0;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-vscode-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(A0,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Configuration"})]}),u.jsx("button",{onClick:x,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Copy TOML to clipboard",disabled:!N,children:n?u.jsx(P0,{className:"w-4 h-4 text-green-400"}):u.jsx(Sj,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:N?u.jsxs("div",{className:"p-2 space-y-2",children:[c.length>0&&u.jsx(al,{title:"Source Connectors",icon:u.jsx(pa,{className:"w-4 h-4 text-green-400"}),expanded:i.has("sources"),onToggle:()=>v("sources"),children:c.map(h=>u.jsx(ll,{element:h,isEditing:s===h.id,onToggleEdit:()=>a(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),f.length>0&&u.jsx(al,{title:"Sink Connectors",icon:u.jsx(ha,{className:"w-4 h-4 text-purple-400"}),expanded:i.has("sinks"),onToggle:()=>v("sinks"),children:f.map(h=>u.jsx(ll,{element:h,isEditing:s===h.id,onToggleEdit:()=>a(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),d.length>0&&u.jsx(al,{title:"Table Extensions",icon:u.jsx(ga,{className:"w-4 h-4 text-violet-400"}),expanded:i.has("extensions"),onToggle:()=>v("extensions"),children:d.map(h=>u.jsx(ll,{element:h,isEditing:s===h.id,onToggleEdit:()=>a(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 flex items-center justify-between",children:u.jsx("span",{children:"Generated TOML"})}),u.jsx("pre",{className:"text-xs bg-gray-900/70 p-2 rounded border border-gray-700 overflow-x-auto font-mono text-gray-400 whitespace-pre-wrap max-h-40",children:y()})]})]}):u.jsxs("div",{className:"p-4 text-sm text-gray-500 text-center",children:[u.jsx("p",{className:"mb-3",children:"No connectors configured yet."}),u.jsxs("div",{className:"text-xs space-y-2 text-left bg-gray-800/50 p-3 rounded",children:[u.jsx("p",{children:u.jsx("strong",{children:"To add configuration:"})}),u.jsxs("p",{children:["1. Select a ",u.jsx("span",{className:"text-blue-400",children:"Stream"})," and choose a Source Connector"]}),u.jsxs("p",{children:["2. Select a ",u.jsx("span",{className:"text-purple-400",children:"Table"})," and choose an Extension"]}),u.jsxs("p",{children:["3. Select an ",u.jsx("span",{className:"text-green-400",children:"Output"})," and choose a Sink Connector"]})]})]})})]})}function al({title:e,icon:t,expanded:n,onToggle:r,children:i}){return u.jsxs("div",{className:"bg-gray-800/30 rounded",children:[u.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-800/50 transition-colors text-left",children:[n?u.jsx(Oc,{className:"w-3 h-3 text-gray-500"}):u.jsx(R0,{className:"w-3 h-3 text-gray-500"}),t,u.jsx("span",{className:"text-xs font-medium text-gray-300",children:e})]}),n&&u.jsx("div",{className:"px-2 pb-2 space-y-2",children:i})]})}function ll({element:e,isEditing:t,onToggleEdit:n,onConfigChange:r}){const i={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",log:"Log",redis:"Redis",jdbc:"JDBC"};return u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-medium text-gray-200",children:e.name}),u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-700 rounded text-gray-400",children:i[e.connectorType]||e.connectorType})]}),u.jsx("button",{onClick:n,className:`p-1 transition-colors ${t?"text-indigo-400":"text-gray-500 hover:text-gray-300"}`,title:t?"Done editing":"Edit configuration",children:u.jsx(bj,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1",children:Object.entries(e.config).map(([o,s])=>u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsxs("span",{className:"text-gray-500 w-24 truncate",title:o,children:[o,":"]}),t?u.jsx("input",{type:"text",value:s,onChange:a=>r(o,a.target.value),className:"flex-1 px-1.5 py-0.5 bg-gray-900 border border-gray-600 rounded text-gray-300 text-xs"}):u.jsx("span",{className:"text-gray-300 truncate flex-1",title:s,children:s||"(empty)"})]},o))})]})}function mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sT(e){if(Array.isArray(e))return e}function aT(e,t,n){return(t=hT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function uT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){aT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cT(e,t){if(e==null)return{};var n,r,i=dT(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fT(e,t){return sT(e)||lT(e,t)||mT(e,t)||uT()}function pT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hT(e){var t=pT(e,"string");return typeof t=="symbol"?t:t+""}function mT(e,t){if(e){if(typeof e=="string")return mp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mp(e,t):void 0}}function gT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vp(Object(n),!0).forEach(function(r){gT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function si(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(n,[].concat(i,a))}}}function Ls(e){return{}.toString.call(e).includes("Object")}function vT(e){return!Object.keys(e).length}function Wi(e){return typeof e=="function"}function xT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wT(e,t){return Ls(t)||mn("changeType"),Object.keys(t).some(function(n){return!xT(e,n)})&&mn("changeField"),t}function NT(e){Wi(e)||mn("selectorType")}function ST(e){Wi(e)||Ls(e)||mn("handlerType"),Ls(e)&&Object.values(e).some(function(t){return!Wi(t)})&&mn("handlersType")}function ET(e){e||mn("initialIsRequired"),Ls(e)||mn("initialType"),vT(e)&&mn("initialContent")}function kT(e,t){throw new Error(e[t]||e.default)}var CT={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},mn=si(kT)(CT),Ro={changes:wT,selector:NT,handler:ST,initial:ET};function jT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ro.initial(e),Ro.handler(t);var n={current:e},r=si(IT)(n,t),i=si(bT)(n),o=si(Ro.changes)(e),s=si(TT)(n);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Ro.selector(c),c(n.current)}function l(c){yT(r,i,o,s)(c)}return[a,l]}function TT(e,t){return Wi(t)?t(e.current):t}function bT(e,t){return e.current=xp(xp({},e.current),t),t}function IT(e,t,n){return Wi(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var _T={create:jT},MT={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function PT(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(n,[].concat(i,a))}}}function RT(e){return{}.toString.call(e).includes("Object")}function AT(e){return e||wp("configIsRequired"),RT(e)||wp("configType"),e.urls?(OT(),{paths:{vs:e.urls.monacoBase}}):e}function OT(){console.warn($0.deprecation)}function LT(e,t){throw new Error(e[t]||e.default)}var $0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},wp=PT(LT)($0),$T={config:AT},DT=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function D0(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],D0(e[n],t[n]))}),yp(yp({},e),t)}var zT={type:"cancelation",msg:"operation is manually canceled"};function ul(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(zT):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var FT=["monaco"],BT=_T.create({config:MT,isInitialized:!1,resolve:null,reject:null,monaco:null}),z0=fT(BT,2),ro=z0[0],ya=z0[1];function HT(e){var t=$T.config(e),n=t.monaco,r=cT(t,FT);ya(function(i){return{config:D0(i.config,r),monaco:n}})}function VT(){var e=ro(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(ya({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ul(cl);if(window.monaco&&window.monaco.editor)return F0(window.monaco),e.resolve(window.monaco),ul(cl);DT(UT,GT)(YT)}return ul(cl)}function UT(e){return document.body.appendChild(e)}function WT(e){var t=document.createElement("script");return e&&(t.src=e),t}function GT(e){var t=ro(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=WT("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function YT(){var e=ro(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;F0(r),e.resolve(r)},function(n){e.reject(n)})}function F0(e){ro().monaco||ya({monaco:e})}function KT(){return ro(function(e){var t=e.monaco;return t})}var cl=new Promise(function(e,t){return ya({resolve:e,reject:t})}),B0={config:HT,init:VT,__getMonacoInstance:KT},QT={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},dl=QT,XT={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},qT=XT;function ZT({children:e}){return Lt.createElement("div",{style:qT.container},e)}var JT=ZT,eb=JT;function tb({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:s}){return Lt.createElement("section",{style:{...dl.wrapper,width:e,height:t},...s},!n&&Lt.createElement(eb,null,r),Lt.createElement("div",{ref:i,style:{...dl.fullWidth,...!n&&dl.hide},className:o}))}var nb=tb,H0=I.memo(nb);function rb(e){I.useEffect(e,[])}var V0=rb;function ib(e,t,n=!0){let r=I.useRef(!0);I.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Ye=ib;function vi(){}function fr(e,t,n,r){return ob(e,r)||sb(e,t,n,r)}function ob(e,t){return e.editor.getModel(U0(e,t))}function sb(e,t,n,r){return e.editor.createModel(t,n,r?U0(e,r):void 0)}function U0(e,t){return e.Uri.parse(t)}function ab({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:f="Loading...",options:d={},height:p="100%",width:y="100%",className:x,wrapperProps:v={},beforeMount:N=vi,onMount:h=vi}){let[g,m]=I.useState(!1),[w,S]=I.useState(!0),E=I.useRef(null),k=I.useRef(null),b=I.useRef(null),P=I.useRef(h),L=I.useRef(N),A=I.useRef(!1);V0(()=>{let M=B0.init();return M.then(_=>(k.current=_)&&S(!1)).catch(_=>(_==null?void 0:_.type)!=="cancelation"&&console.error("Monaco initialization: error:",_)),()=>E.current?j():M.cancel()}),Ye(()=>{if(E.current&&k.current){let M=E.current.getOriginalEditor(),_=fr(k.current,e||"",r||n||"text",o||"");_!==M.getModel()&&M.setModel(_)}},[o],g),Ye(()=>{if(E.current&&k.current){let M=E.current.getModifiedEditor(),_=fr(k.current,t||"",i||n||"text",s||"");_!==M.getModel()&&M.setModel(_)}},[s],g),Ye(()=>{let M=E.current.getModifiedEditor();M.getOption(k.current.editor.EditorOption.readOnly)?M.setValue(t||""):t!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[t],g),Ye(()=>{var M,_;(_=(M=E.current)==null?void 0:M.getModel())==null||_.original.setValue(e||"")},[e],g),Ye(()=>{let{original:M,modified:_}=E.current.getModel();k.current.editor.setModelLanguage(M,r||n||"text"),k.current.editor.setModelLanguage(_,i||n||"text")},[n,r,i],g),Ye(()=>{var M;(M=k.current)==null||M.editor.setTheme(c)},[c],g),Ye(()=>{var M;(M=E.current)==null||M.updateOptions(d)},[d],g);let O=I.useCallback(()=>{var $;if(!k.current)return;L.current(k.current);let M=fr(k.current,e||"",r||n||"text",o||""),_=fr(k.current,t||"",i||n||"text",s||"");($=E.current)==null||$.setModel({original:M,modified:_})},[n,t,i,e,r,o,s]),F=I.useCallback(()=>{var M;!A.current&&b.current&&(E.current=k.current.editor.createDiffEditor(b.current,{automaticLayout:!0,...d}),O(),(M=k.current)==null||M.editor.setTheme(c),m(!0),A.current=!0)},[d,c,O]);I.useEffect(()=>{g&&P.current(E.current,k.current)},[g]),I.useEffect(()=>{!w&&!g&&F()},[w,g,F]);function j(){var _,$,C,T;let M=(_=E.current)==null?void 0:_.getModel();a||(($=M==null?void 0:M.original)==null||$.dispose()),l||((C=M==null?void 0:M.modified)==null||C.dispose()),(T=E.current)==null||T.dispose()}return Lt.createElement(H0,{width:y,height:p,isEditorReady:g,loading:f,_ref:b,className:x,wrapperProps:v})}var lb=ab;I.memo(lb);function ub(e){let t=I.useRef();return I.useEffect(()=>{t.current=e},[e]),t.current}var cb=ub,Ao=new Map;function db({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:c={},overrideServices:f={},saveViewState:d=!0,keepCurrentModel:p=!1,width:y="100%",height:x="100%",className:v,wrapperProps:N={},beforeMount:h=vi,onMount:g=vi,onChange:m,onValidate:w=vi}){let[S,E]=I.useState(!1),[k,b]=I.useState(!0),P=I.useRef(null),L=I.useRef(null),A=I.useRef(null),O=I.useRef(g),F=I.useRef(h),j=I.useRef(),M=I.useRef(r),_=cb(o),$=I.useRef(!1),C=I.useRef(!1);V0(()=>{let D=B0.init();return D.then(z=>(P.current=z)&&b(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>L.current?R():D.cancel()}),Ye(()=>{var z,B,H,U;let D=fr(P.current,e||r||"",t||i||"",o||n||"");D!==((z=L.current)==null?void 0:z.getModel())&&(d&&Ao.set(_,(B=L.current)==null?void 0:B.saveViewState()),(H=L.current)==null||H.setModel(D),d&&((U=L.current)==null||U.restoreViewState(Ao.get(o))))},[o],S),Ye(()=>{var D;(D=L.current)==null||D.updateOptions(c)},[c],S),Ye(()=>{!L.current||r===void 0||(L.current.getOption(P.current.editor.EditorOption.readOnly)?L.current.setValue(r):r!==L.current.getValue()&&(C.current=!0,L.current.executeEdits("",[{range:L.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),L.current.pushUndoStop(),C.current=!1))},[r],S),Ye(()=>{var z,B;let D=(z=L.current)==null?void 0:z.getModel();D&&i&&((B=P.current)==null||B.editor.setModelLanguage(D,i))},[i],S),Ye(()=>{var D;a!==void 0&&((D=L.current)==null||D.revealLine(a))},[a],S),Ye(()=>{var D;(D=P.current)==null||D.editor.setTheme(s)},[s],S);let T=I.useCallback(()=>{var D;if(!(!A.current||!P.current)&&!$.current){F.current(P.current);let z=o||n,B=fr(P.current,r||e||"",t||i||"",z||"");L.current=(D=P.current)==null?void 0:D.editor.create(A.current,{model:B,automaticLayout:!0,...c},f),d&&L.current.restoreViewState(Ao.get(z)),P.current.editor.setTheme(s),a!==void 0&&L.current.revealLine(a),E(!0),$.current=!0}},[e,t,n,r,i,o,c,f,d,s,a]);I.useEffect(()=>{S&&O.current(L.current,P.current)},[S]),I.useEffect(()=>{!k&&!S&&T()},[k,S,T]),M.current=r,I.useEffect(()=>{var D,z;S&&m&&((D=j.current)==null||D.dispose(),j.current=(z=L.current)==null?void 0:z.onDidChangeModelContent(B=>{C.current||m(L.current.getValue(),B)}))},[S,m]),I.useEffect(()=>{if(S){let D=P.current.editor.onDidChangeMarkers(z=>{var H;let B=(H=L.current.getModel())==null?void 0:H.uri;if(B&&z.find(U=>U.path===B.path)){let U=P.current.editor.getModelMarkers({resource:B});w==null||w(U)}});return()=>{D==null||D.dispose()}}return()=>{}},[S,w]);function R(){var D,z;(D=j.current)==null||D.dispose(),p?d&&Ao.set(o,L.current.saveViewState()):(z=L.current.getModel())==null||z.dispose(),L.current.dispose()}return Lt.createElement(H0,{width:y,height:x,isEditorReady:S,loading:l,_ref:A,className:v,wrapperProps:N})}var fb=db,pb=I.memo(fb),hb=pb;function mb(){const{generatedSQL:e,viewMode:t,updateSQL:n,importSQL:r,getSQLValidation:i,regenerateSQL:o}=Yn(),s=I.useRef(null),[a,l]=I.useState(!1),[c,f]=I.useState([]),[d,p]=I.useState("idle"),y=I.useCallback((h,g)=>{s.current=h,g.languages.register({id:"eventflux-sql"}),g.languages.setMonarchTokensProvider("eventflux-sql",{defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,keywords:["CREATE","STREAM","TABLE","TRIGGER","DROP","ALTER","SELECT","FROM","WHERE","INSERT","INTO","UPDATE","DELETE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","WINDOW","PARTITION","JOIN","INNER","LEFT","RIGHT","FULL","OUTER","ON","AS","DISTINCT","ALL","AND","OR","NOT","IN","IS","NULL","BETWEEN","LIKE","CASE","WHEN","THEN","ELSE","END","CAST","PATTERN","SEQUENCE","EVERY","WITHIN","FOR","AT","START","CRON","CURRENT","EXPIRED","EVENTS","OUTPUT","PRIMARY","KEY","WITH","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","LENGTH","TIME","BATCH","TUMBLING","SLIDING","SESSION","SORT","COUNT","SUM","AVG","MIN","MAX","FIRST","LAST","STDDEV","VARIANCE"],typeKeywords:["INT","INTEGER","LONG","BIGINT","FLOAT","DOUBLE","REAL","STRING","VARCHAR","CHAR","TEXT","BOOL","BOOLEAN","TIMESTAMP","DATE","TIME","OBJECT"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/--.*$/,"comment"],[/\/\*/,"comment","@comment"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string_single"],[/"/,"string","@string_double"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"identifier"}}],[/[{}()\[\]]/,"@brackets"],[/[;,.]/,"delimiter"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}}),g.languages.registerCompletionItemProvider("eventflux-sql",{provideCompletionItems:(m,w)=>{const S=m.getWordUntilPosition(w),E={startLineNumber:w.lineNumber,endLineNumber:w.lineNumber,startColumn:S.startColumn,endColumn:S.endColumn};return{suggestions:[{label:"CREATE STREAM",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE STREAM ${1:StreamName} (\n  ${2:id} INT,\n  ${3:value} DOUBLE\n);",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a new stream",range:E},{label:"CREATE TABLE",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE TABLE ${1:TableName} (\n  ${2:key} STRING,\n  ${3:value} STRING\n) PRIMARY KEY (${2:key});",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a new table",range:E},{label:"CREATE TRIGGER",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE TRIGGER ${1:TriggerName} AT EVERY ${2:1000} MILLISECONDS;",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a periodic trigger",range:E},{label:"SELECT FROM",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName}\nINSERT INTO ${3:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Basic query",range:E},{label:"SELECT WITH WINDOW",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName} WINDOW('${3:length}', ${4:10})\nINSERT INTO ${5:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with window",range:E},{label:"SELECT WITH FILTER",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName}\nWHERE ${3:value} > ${4:100}\nINSERT INTO ${5:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with filter",range:E},{label:"SELECT WITH GROUP BY",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:symbol}, COUNT(*) AS total\nFROM ${2:StreamName} WINDOW('${3:timeBatch}', 5 SECONDS)\nGROUP BY ${1:symbol}\nINSERT INTO ${4:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with aggregation",range:E},...["SELECT","FROM","WHERE","GROUP BY","HAVING","ORDER BY","INSERT INTO","WINDOW","JOIN","ON","AND","OR","NOT","AS","DISTINCT"].map(b=>({label:b,kind:g.languages.CompletionItemKind.Keyword,insertText:b,range:E})),...["length","lengthBatch","time","timeBatch","tumbling","sliding","session","externalTime","sort"].map(b=>({label:`WINDOW('${b}')`,kind:g.languages.CompletionItemKind.Function,insertText:`WINDOW('${b}', \${1:params})`,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`${b} window`,range:E})),...["COUNT","SUM","AVG","MIN","MAX","FIRST","LAST","STDDEV","VARIANCE"].map(b=>({label:b,kind:g.languages.CompletionItemKind.Function,insertText:`${b}(\${1:*})`,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`${b} aggregation`,range:E})),...["INT","LONG","DOUBLE","FLOAT","STRING","BOOL"].map(b=>({label:b,kind:g.languages.CompletionItemKind.TypeParameter,insertText:b,range:E}))]}}}),h.updateOptions({fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, 'Courier New', monospace",minimap:{enabled:!1},lineNumbers:"on",renderLineHighlight:"line",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0})},[]),x=I.useCallback(h=>{if(h!==void 0){n(h),l(!0),p("idle");const{valid:g,errors:m}=i(h);f(g?[]:m)}},[n,i]),v=I.useCallback(()=>{const{success:h,errors:g}=r(e);h?(p("success"),l(!1),f([]),setTimeout(()=>p("idle"),2e3)):(p("error"),f(g))},[r,e]),N=I.useCallback(()=>{o(),l(!1),f([]),p("idle")},[o]);return t==="visual"?null:u.jsxs("div",{className:`flex flex-col ${t==="split"?"h-1/2 border-t border-vscode-border":"flex-1"}`,children:[u.jsxs("div",{className:"px-3 py-2 bg-gray-900/50 border-b border-vscode-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"EventFlux SQL"}),a&&u.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Modified"]}),c.length>0&&u.jsxs("span",{className:"text-xs text-red-400 flex items-center gap-1",children:[u.jsx(pp,{size:12}),c.length," error",c.length>1?"s":""]}),d==="success"&&u.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[u.jsx(P0,{size:12}),"Imported successfully"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[a&&u.jsxs("button",{onClick:N,className:"text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded flex items-center gap-1 text-gray-300",title:"Discard changes and regenerate from visual model",children:[u.jsx(Mj,{size:12}),"Reset"]}),u.jsxs("button",{onClick:v,disabled:c.length>0,className:`text-xs px-2 py-1 rounded flex items-center gap-1 ${c.length>0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,title:"Import SQL to visual model",children:[u.jsx(Aj,{size:12}),"Import to Visual"]})]})]}),c.length>0&&u.jsx("div",{className:"px-3 py-2 bg-red-900/20 border-b border-red-900/50",children:u.jsx("div",{className:"text-xs text-red-400 space-y-1",children:c.map((h,g)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(pp,{size:12,className:"mt-0.5 flex-shrink-0"}),u.jsx("span",{children:h})]},g))})}),u.jsx("div",{className:"flex-1",children:u.jsx(hb,{height:"100%",defaultLanguage:"eventflux-sql",value:e,theme:"vs-dark",onMount:y,onChange:x,options:{readOnly:!1}})})]})}function gb({isOpen:e,onClose:t}){const[n,r]=I.useState([]),[i,o]=I.useState(!0),[s,a]=I.useState(null),{loadApplication:l}=Yn();I.useEffect(()=>{if(!e)return;Vn.postMessage({type:"getTemplates"}),o(!0);const f=d=>{const p=d.data;p.type==="templates"?(r(p.templates||[]),o(!1)):p.type==="templateLoaded"&&(p.template&&(l(p.template),t()),a(null))};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[e,l,t]);const c=f=>{a(f),Vn.postMessage({type:"loadTemplate",templateId:f})};return e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),u.jsxs("div",{className:"relative bg-gray-900 rounded-lg shadow-xl border border-gray-700 w-full max-w-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700",children:[u.jsx("h2",{className:"text-lg font-medium text-white",children:"Template Gallery"}),u.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-white transition-colors",children:u.jsx(Oj,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(hp,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):n.length===0?u.jsx("div",{className:"text-center py-12 text-gray-500",children:"No templates available"}):u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsx("button",{onClick:()=>c(f.id),disabled:s!==null,className:"w-full text-left p-4 rounded-lg border border-gray-700 hover:border-indigo-500 hover:bg-gray-800/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg",children:u.jsx(kj,{className:"w-6 h-6 text-indigo-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-white",children:f.name}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f.description||"No description"})]}),s===f.id&&u.jsx(hp,{className:"w-5 h-5 text-indigo-500 animate-spin"})]})},f.id))})}),u.jsx("div",{className:"px-4 py-3 border-t border-gray-700 text-sm text-gray-500",children:"Click a template to load it into the canvas"})]})]}):null}const yb=I.memo(({data:e,selected:t})=>{const n=e,r={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",timer:"Timer",websocket:"WebSocket"};return u.jsxs("div",{className:`element-node source ${t?"selected ring-source":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(pa,{className:"w-4 h-4"}),u.jsx("span",{children:n.sourceName||"Source"})]}),u.jsxs("div",{className:"element-node-body",children:[u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{className:"px-2 py-0.5 bg-source/20 text-source rounded text-xs font-medium",children:r[n.sourceType||"kafka"]||n.sourceType})}),n.config&&Object.keys(n.config).length>0&&u.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-center",children:[Object.keys(n.config).length," config params"]})]}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-source"})]})}),vb=I.memo(({data:e,selected:t})=>{const n=e,r={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",log:"Log",websocket:"WebSocket"};return u.jsxs("div",{className:`element-node sink ${t?"selected ring-sink":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-sink"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(ha,{className:"w-4 h-4"}),u.jsx("span",{children:n.sinkName||"Sink"})]}),u.jsxs("div",{className:"element-node-body",children:[u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{className:"px-2 py-0.5 bg-sink/20 text-sink rounded text-xs font-medium",children:r[n.sinkType||"log"]||n.sinkType})}),n.config&&Object.keys(n.config).length>0&&u.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-center",children:[Object.keys(n.config).length," config params"]})]})]})}),xb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node stream ${t?"selected ring-stream":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-stream"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(ma,{className:"w-4 h-4"}),u.jsx("span",{children:n.streamName||"Stream"})]}),u.jsxs("div",{className:"element-node-body",children:[(r=n.attributes)==null?void 0:r.slice(0,4).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.name}),u.jsx("span",{className:"element-node-attribute-type",children:i.type})]},o)),n.attributes&&n.attributes.length>4&&u.jsxs("div",{className:"text-gray-500 text-center",children:["+",n.attributes.length-4," more"]})]}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-stream"})]})}),wb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node table ${t?"selected ring-table":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{children:n.tableName||"Table"})]}),u.jsx("div",{className:"element-node-body",children:(r=n.attributes)==null?void 0:r.slice(0,4).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.name}),u.jsx("span",{className:"element-node-attribute-type",children:i.type})]},o))}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-table"})]})}),Nb=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{switch(n.triggerType){case"start":return"AT START";case"periodic":return`EVERY ${n.atEvery||1e3}ms`;case"cron":return n.cronExpression||"CRON";default:return"Trigger"}};return u.jsxs("div",{className:`element-node trigger ${t?"selected ring-trigger":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(Vc,{className:"w-4 h-4"}),u.jsx("span",{children:n.triggerId||"Trigger"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r()})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-trigger"})]})}),Sb=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{const i=n.parameters||{};switch(n.windowType){case"length":return`length(${i.count||10})`;case"lengthBatch":return`lengthBatch(${i.count||10})`;case"time":case"timeBatch":case"tumbling":const o=i.duration;return`${n.windowType}(${(o==null?void 0:o.value)||5} ${(o==null?void 0:o.unit)||"SEC"})`;case"sliding":const s=i.duration,a=i.slideInterval;return`sliding(${(s==null?void 0:s.value)||10}, ${(a==null?void 0:a.value)||2})`;case"session":const l=i.gapDuration;return`session(${(l==null?void 0:l.value)||30} ${(l==null?void 0:l.unit)||"SEC"})`;default:return n.windowType||"window"}};return u.jsxs("div",{className:`element-node window ${t?"selected ring-window":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-window"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:"Window"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono",children:r()})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-window"})]})}),Eb=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{var l,c;const i=n.condition;if(!i)return"No condition";const o=((l=i.left)==null?void 0:l.variableName)||"?",s=i.operator||"=",a=(c=i.right)==null?void 0:c.constantValue;return`${o} ${s} ${a??"?"}`};return u.jsxs("div",{className:`element-node filter ${t?"selected ring-filter":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-filter"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Dc,{className:"w-4 h-4"}),u.jsx("span",{children:"Filter"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:r()})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-filter"})]})}),kb=I.memo(({data:e,selected:t})=>{var i;const r=((i=e.selectList)==null?void 0:i.length)||0;return u.jsxs("div",{className:`element-node projection ${t?"selected ring-projection":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-projection"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx($c,{className:"w-4 h-4"}),u.jsx("span",{children:"Projection"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r>0?`${r} columns`:"SELECT *"})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-projection"})]})}),Cb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node aggregation ${t?"selected ring-aggregation":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-aggregation"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Ac,{className:"w-4 h-4"}),u.jsx("span",{children:"Aggregation"})]}),u.jsxs("div",{className:"element-node-body",children:[(r=n.aggregations)==null?void 0:r.slice(0,3).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.type}),u.jsx("span",{className:"element-node-attribute-type",children:i.alias})]},o)),(!n.aggregations||n.aggregations.length===0)&&u.jsx("div",{className:"text-center text-gray-500",children:"No aggregations"})]}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-aggregation"})]})}),jb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node aggregation ${t?"selected ring-aggregation":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-aggregation"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Fc,{className:"w-4 h-4"}),u.jsx("span",{children:"Group By"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:((r=n.groupByAttributes)==null?void 0:r.join(", "))||"No columns"})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-aggregation"})]})}),Tb=I.memo(({data:e,selected:t})=>{const r={inner:"INNER JOIN",left_outer:"LEFT JOIN",right_outer:"RIGHT JOIN",full_outer:"FULL JOIN"}[e.joinType||"inner"]||"JOIN";return u.jsxs("div",{className:`element-node join ${t?"selected ring-join":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"left",style:{top:"30%"},className:"!bg-join"}),u.jsx(le,{type:"target",position:W.Left,id:"right",style:{top:"70%"},className:"!bg-join"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(zc,{className:"w-4 h-4"}),u.jsx("span",{children:"Join"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-join"})]})}),bb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node pattern ${t?"selected ring-pattern":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input-1",style:{top:"30%"},className:"!bg-pattern"}),u.jsx(le,{type:"target",position:W.Left,id:"input-2",style:{top:"70%"},className:"!bg-pattern"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Hc,{className:"w-4 h-4"}),u.jsx("span",{children:((r=n.mode)==null?void 0:r.toUpperCase())||"PATTERN"})]}),u.jsx("div",{className:"element-node-body",children:n.withinConstraint&&u.jsxs("div",{className:"text-center text-xs",children:["WITHIN ",n.withinConstraint.value," ",n.withinConstraint.unit||""]})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-pattern"})]})}),Ib=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node partition ${t?"selected ring-partition":""}`,children:[u.jsx(le,{type:"target",position:W.Left,id:"input",className:"!bg-partition"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Bc,{className:"w-4 h-4"}),u.jsx("span",{children:"Partition"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:((r=n.partitionBy)==null?void 0:r.map(i=>i.attribute).join(", "))||"No partition key"})}),u.jsx(le,{type:"source",position:W.Right,id:"output",className:"!bg-partition"})]})}),_b={source:yb,stream:xb,table:wb,trigger:Nb,window:Sb,filter:Eb,projection:kb,aggregation:Cb,groupBy:jb,join:Tb,pattern:bb,partition:Ib,sink:vb},Np={source:{maxInputs:0,maxOutputs:1,canBeSource:!0,canBeSink:!1,allowedTargets:["stream"]},sink:{maxInputs:1,maxOutputs:0,canBeSource:!1,canBeSink:!0,allowedSources:["stream"]},stream:{maxInputs:null,maxOutputs:null,canBeSource:!0,canBeSink:!0,allowedSources:["source","window","filter","projection","aggregation","groupBy","join","pattern","partition"],allowedTargets:["window","filter","projection","aggregation","groupBy","join","pattern","partition","sink","stream"]},trigger:{maxInputs:0,maxOutputs:null,canBeSource:!0,canBeSink:!1,allowedTargets:["window","filter","projection","aggregation","groupBy","stream"]},table:{maxInputs:null,maxOutputs:null,canBeSource:!0,canBeSink:!0,allowedTargets:["window","filter","projection","aggregation","groupBy","join","stream"]},window:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger"],allowedTargets:["filter","projection","aggregation","groupBy","stream"]},filter:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window"],allowedTargets:["window","filter","projection","aggregation","groupBy","join","stream"]},projection:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter","aggregation","groupBy","join"],allowedTargets:["filter","projection","stream"]},aggregation:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter","groupBy"],allowedTargets:["projection","filter","stream"]},groupBy:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter"],allowedTargets:["aggregation","projection","stream"]},join:{maxInputs:2,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","window","filter"],allowedTargets:["filter","projection","aggregation","groupBy","stream"]},pattern:{maxInputs:null,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream"],allowedTargets:["filter","projection","stream"]},partition:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","window","filter"],allowedTargets:["window","filter","projection","aggregation","groupBy","stream"]}};function Mb(e,t,n){const r=t.find(f=>f.id===e.source),i=t.find(f=>f.id===e.target);if(!r||!i)return{valid:!1,reason:"Source or target node not found"};const o=r.type,s=i.type,a=Np[o],l=Np[s];if(!a||!l)return{valid:!1,reason:"Unknown element type"};if(a.maxOutputs!==null&&n.filter(d=>d.source===e.source).length>=a.maxOutputs)return{valid:!1,reason:`${qn(o)} can only have ${a.maxOutputs} output connection${a.maxOutputs===1?"":"s"}`};if(l.maxInputs!==null&&n.filter(d=>d.target===e.target).length>=l.maxInputs)return{valid:!1,reason:`${qn(s)} can only have ${l.maxInputs} input connection${l.maxInputs===1?"":"s"}`};if(a.allowedTargets&&!a.allowedTargets.includes(s))return{valid:!1,reason:`${qn(o)} cannot connect to ${qn(s)}`};if(l.allowedSources&&!l.allowedSources.includes(o))return{valid:!1,reason:`${qn(s)} cannot receive connections from ${qn(o)}`};if(n.find(f=>f.source===e.source&&f.target===e.target))return{valid:!1,reason:"Connection already exists"};if(o==="source"&&s==="stream"){if(n.find(p=>{const y=t.find(x=>x.id===p.source);return(y==null?void 0:y.type)==="source"&&p.target===e.target}))return{valid:!1,reason:"Stream already has a Source connected."};if(n.find(p=>{const y=t.find(x=>x.id===p.target);return p.source===e.target&&(y==null?void 0:y.type)==="sink"}))return{valid:!1,reason:"Stream already connects to a Sink. A stream can have either a Source or a Sink, not both."}}if(o==="stream"&&s==="sink"){if(n.find(p=>{const y=t.find(x=>x.id===p.target);return p.source===e.source&&(y==null?void 0:y.type)==="sink"}))return{valid:!1,reason:"Stream already connects to a Sink."};if(n.find(p=>{const y=t.find(x=>x.id===p.source);return(y==null?void 0:y.type)==="source"&&p.target===e.source}))return{valid:!1,reason:"Stream already has a Source connected. A stream can have either a Source or a Sink, not both."}}return e.source===e.target?{valid:!1,reason:"Cannot connect element to itself"}:{valid:!0}}function qn(e){return{source:"Source",sink:"Sink",stream:"Stream",table:"Table",trigger:"Trigger",window:"Window",filter:"Filter",projection:"Projection",aggregation:"Aggregation",groupBy:"Group By",join:"Join",pattern:"Pattern",partition:"Partition"}[e]||e}function Pb({onConnectionError:e}){const{selectElement:t,setNodes:n,setEdges:r,nodes:i,edges:o}=Yn(),[s,a,l]=uC(i),[c,f,d]=cC(o),p=I.useRef(!1),y=I.useRef("");I.useEffect(()=>{const w=s.map(k=>`${k.id}:${k.position.x}:${k.position.y}`).join(","),S=c.map(k=>`${k.id}:${k.source}:${k.target}`).join(","),E=`${w}|${S}`;E!==y.current&&(p.current=!0,y.current=E,n(s),r(c),setTimeout(()=>{p.current=!1},0))},[s,c,n,r]),I.useEffect(()=>{p.current||i.length===0||a(w=>{let S=!1;const E=w.map(k=>{const b=i.find(P=>P.id===k.id);return b&&JSON.stringify(k.data)!==JSON.stringify(b.data)?(S=!0,{...k,data:b.data}):k});return S?E:w})},[i,a]);const x=I.useCallback(w=>{const S=Mb(w,s,c);if(!S.valid){e(S.reason||"Invalid connection");return}f(E=>bg({...w,animated:!0},E))},[f,s,c,e]),v=I.useCallback((w,S)=>{t(S.id)},[t]),N=I.useCallback(()=>{t(null)},[t]),h=I.useCallback((w,S)=>{t(null),f(E=>E.map(k=>({...k,selected:k.id===S.id})))},[t,f]),g=I.useCallback(w=>{w.preventDefault();const S=w.dataTransfer.getData("application/reactflow");if(!S)return;const E=w.currentTarget.getBoundingClientRect(),k={x:w.clientX-E.left,y:w.clientY-E.top},b={id:`${S}-${Date.now()}`,type:S,position:k,data:Lb(S,s)};a(P=>[...P,b])},[a,s]),m=I.useCallback(w=>{w.preventDefault(),w.dataTransfer.dropEffect="move"},[]);return u.jsx("div",{className:"w-full h-full",children:u.jsxs(lC,{nodes:s,edges:c,onNodesChange:l,onEdgesChange:d,onConnect:x,onNodeClick:v,onEdgeClick:h,onPaneClick:N,onDrop:g,onDragOver:m,nodeTypes:_b,fitView:!0,fitViewOptions:{maxZoom:.8,minZoom:.3,padding:.2},minZoom:.2,maxZoom:2,snapToGrid:!0,snapGrid:[20,20],deleteKeyCode:["Backspace","Delete"],defaultEdgeOptions:{animated:!0,style:{stroke:"#6366f1",strokeWidth:2}},children:[u.jsx(mC,{variant:Dt.Dots,gap:20,size:1,color:"#444"}),u.jsx(SC,{}),u.jsx(OC,{nodeStrokeWidth:3,pannable:!0,zoomable:!0,style:{backgroundColor:"#1e1e1e"}})]})})}function Rb(){const{loadApplication:e,setConfig:t,viewMode:n}=Yn(),[r,i]=I.useState("properties"),[o,s]=I.useState(null),[a,l]=I.useState(!1),c=I.useCallback((d,p="error")=>{s({message:d,type:p}),setTimeout(()=>s(null),3e3)},[]),f=I.useCallback(d=>{c(d,"error")},[c]);return I.useEffect(()=>{const d=p=>{const y=p.data;switch(y.type){case"load":y.data&&e(y.data);break;case"config":t(y.config);break;case"error":console.error("VS Code error:",y.message);break}};return window.addEventListener("message",d),Vn.postMessage({type:"ready"}),Vn.postMessage({type:"getConfig"}),()=>{window.removeEventListener("message",d)}},[e,t]),u.jsx(E0,{children:u.jsxs("div",{className:"h-screen flex flex-col bg-vscode-bg text-vscode-fg",children:[u.jsx(Lj,{onOpenTemplates:()=>l(!0)}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n!=="sql"&&u.jsx(Dj,{}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:`${n==="split"?"h-1/2":"flex-1"} relative`,style:{minHeight:"300px",display:n==="sql"?"none":"block"},children:[u.jsx(Pb,{onConnectionError:f}),o&&u.jsx("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg z-50 text-sm font-medium transition-opacity ${o.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:o.message})]}),n!=="visual"&&u.jsx(mb,{})]}),n!=="sql"&&u.jsxs("div",{className:"w-72 border-l border-vscode-border bg-gray-900/30 flex flex-col",children:[u.jsxs("div",{className:"flex border-b border-vscode-border",children:[u.jsx("button",{onClick:()=>i("properties"),className:`flex-1 px-3 py-2 text-xs font-medium transition-colors ${r==="properties"?"text-white bg-gray-800/50 border-b-2 border-indigo-500":"text-gray-400 hover:text-white hover:bg-gray-800/30"}`,children:"Properties"}),u.jsx("button",{onClick:()=>i("config"),className:`flex-1 px-3 py-2 text-xs font-medium transition-colors ${r==="config"?"text-white bg-gray-800/50 border-b-2 border-indigo-500":"text-gray-400 hover:text-white hover:bg-gray-800/30"}`,children:"Config"})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:r==="properties"?u.jsx(Ab,{}):u.jsx(oT,{})})]})]}),u.jsx(gb,{isOpen:a,onClose:()=>l(!1)})]})})}function Ab(){return u.jsx(Bj,{})}function Ob(e,t,n){const r=new RegExp(`^${t.charAt(0).toUpperCase()+t.slice(1)}(\\d+)$`);let i=0;for(const o of e)if(o.type===t){const s=o.data[n];if(s){const a=s.match(r);a&&(i=Math.max(i,parseInt(a[1],10)))}}return i+1}function Lb(e,t=[]){const n=r=>Ob(t,e,r);switch(e){case"source":return{sourceName:`Source${n("sourceName")}`,sourceType:"kafka",config:{"bootstrap.servers":"localhost:9092",topic:"events","group.id":"eventflux-consumer"}};case"sink":return{sinkName:`Sink${n("sinkName")}`,sinkType:"log",config:{}};case"stream":return{streamName:`Stream${n("streamName")}`,attributes:[{name:"id",type:"INT"},{name:"value",type:"DOUBLE"}]};case"table":return{tableName:`Table${n("tableName")}`,attributes:[{name:"key",type:"STRING"},{name:"value",type:"STRING"}]};case"trigger":return{triggerId:`Trigger${n("triggerId")}`,triggerType:"periodic",atEvery:1e3};case"window":return{windowType:"length",parameters:{count:10}};case"filter":return{condition:{type:"compare",operator:">",left:{type:"variable",variableName:"value"},right:{type:"constant",constantValue:0}}};case"projection":return{selectList:[]};case"aggregation":return{aggregations:[]};case"groupBy":return{groupByAttributes:[]};case"join":return{joinType:"inner",onCondition:null};case"pattern":return{mode:"pattern",patternExpression:{type:"stream",streamName:""}};case"partition":return{partitionBy:[]};default:return{}}}fl.createRoot(document.getElementById("root")).render(u.jsx(Lt.StrictMode,{children:u.jsx(Rb,{})}));
//# sourceMappingURL=index.js.map
