var Gy=Object.defineProperty;var Yy=(e,t,n)=>t in e?Gy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vl=(e,t,n)=>Yy(e,typeof t!="symbol"?t+"":t,n);function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Np={exports:{}},As={},Sp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),Qy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),qy=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),nv=Symbol.for("react.memo"),rv=Symbol.for("react.lazy"),Xc=Symbol.iterator;function iv(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,kp={};function Ar(e,t,n){this.props=e,this.context=t,this.refs=kp,this.updater=n||Ep}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jp(){}jp.prototype=Ar.prototype;function vu(e,t,n){this.props=e,this.context=t,this.refs=kp,this.updater=n||Ep}var xu=vu.prototype=new jp;xu.constructor=vu;Cp(xu,Ar.prototype);xu.isPureReactComponent=!0;var qc=Array.isArray,Tp=Object.prototype.hasOwnProperty,wu={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function Ip(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Tp.call(t,r)&&!bp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Wi,type:e,key:o,ref:s,props:i,_owner:wu.current}}function ov(e,t){return{$$typeof:Wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wi}function sv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zc=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sv(""+e.key):t.toString(36)}function Ao(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wi:case Ky:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+xl(s,0):r,qc(i)?(n="",e!=null&&(n=e.replace(Zc,"$&/")+"/"),Ao(i,t,n,"",function(c){return c})):i!=null&&(Nu(i)&&(i=ov(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",qc(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+xl(o,l);s+=Ao(o,t,n,a,i)}else if(a=iv(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+xl(o,l++),s+=Ao(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function oo(e,t,n){if(e==null)return e;var r=[],i=0;return Ao(e,r,"","",function(o){return t.call(n,o,i++)}),r}function lv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},Lo={transition:null},av={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:wu};function _p(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Ar;te.Fragment=Qy;te.Profiler=qy;te.PureComponent=vu;te.StrictMode=Xy;te.Suspense=tv;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=av;te.act=_p;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=wu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Tp.call(t,a)&&!bp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Wi,type:e.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(e){return e={$$typeof:Jy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zy,_context:e},e.Consumer=e};te.createElement=Ip;te.createFactory=function(e){var t=Ip.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:ev,render:e}};te.isValidElement=Nu;te.lazy=function(e){return{$$typeof:rv,_payload:{_status:-1,_result:e},_init:lv}};te.memo=function(e,t){return{$$typeof:nv,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};te.unstable_act=_p;te.useCallback=function(e,t){return De.current.useCallback(e,t)};te.useContext=function(e){return De.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return De.current.useDeferredValue(e)};te.useEffect=function(e,t){return De.current.useEffect(e,t)};te.useId=function(){return De.current.useId()};te.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return De.current.useMemo(e,t)};te.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};te.useRef=function(e){return De.current.useRef(e)};te.useState=function(e){return De.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return De.current.useTransition()};te.version="18.3.1";Sp.exports=te;var I=Sp.exports;const Ot=wp(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=I,cv=Symbol.for("react.element"),dv=Symbol.for("react.fragment"),fv=Object.prototype.hasOwnProperty,pv=uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hv={key:!0,ref:!0,__self:!0,__source:!0};function Mp(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)fv.call(t,r)&&!hv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cv,type:e,key:o,ref:s,props:i,_owner:pv.current}}As.Fragment=dv;As.jsx=Mp;As.jsxs=Mp;Np.exports=As;var u=Np.exports,ua={},Rp={exports:{}},Je={},Pp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,T){var L=k.length;k.push(T);e:for(;0<L;){var D=L-1>>>1,z=k[D];if(0<i(z,T))k[D]=T,k[L]=z,L=D;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var T=k[0],L=k.pop();if(L!==T){k[0]=L;e:for(var D=0,z=k.length,H=z>>>1;D<H;){var V=2*(D+1)-1,Y=k[V],K=V+1,Q=k[K];if(0>i(Y,L))K<z&&0>i(Q,Y)?(k[D]=Q,k[K]=L,D=K):(k[D]=Y,k[V]=L,D=V);else if(K<z&&0>i(Q,L))k[D]=Q,k[K]=L,D=K;else break e}}return T}function i(k,T){var L=k.sortIndex-T.sortIndex;return L!==0?L:k.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],f=1,d=null,p=3,v=!1,y=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=k)r(c),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(c)}}function x(k){if(w=!1,m(k),!y)if(n(a)!==null)y=!0,_(S);else{var T=n(c);T!==null&&$(x,T.startTime-k)}}function S(k,T){y=!1,w&&(w=!1,h(b),b=-1),v=!0;var L=p;try{for(m(T),d=n(a);d!==null&&(!(d.expirationTime>T)||k&&!P());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var z=D(d.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(a)&&r(a),m(T)}else r(a);d=n(a)}if(d!==null)var H=!0;else{var V=n(c);V!==null&&$(x,V.startTime-T),H=!1}return H}finally{d=null,p=L,v=!1}}var E=!1,C=null,b=-1,R=5,O=-1;function P(){return!(e.unstable_now()-O<R)}function A(){if(C!==null){var k=e.unstable_now();O=k;var T=!0;try{T=C(!0,k)}finally{T?F():(E=!1,C=null)}}else E=!1}var F;if(typeof g=="function")F=function(){g(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,M=j.port2;j.port1.onmessage=A,F=function(){M.postMessage(null)}}else F=function(){N(A,0)};function _(k){C=k,E||(E=!0,F())}function $(k,T){b=N(function(){k(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,_(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var L=p;p=T;try{return k()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,T){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=p;p=k;try{return T()}finally{p=L}},e.unstable_scheduleCallback=function(k,T,L){var D=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?D+L:D):L=D,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,k={id:f++,callback:T,priorityLevel:k,startTime:L,expirationTime:z,sortIndex:-1},L>D?(k.sortIndex=L,t(c,k),n(a)===null&&k===n(c)&&(w?(h(b),b=-1):w=!0,$(x,L-D))):(k.sortIndex=z,t(a,k),y||v||(y=!0,_(S))),k},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(k){var T=p;return function(){var L=p;p=T;try{return k.apply(this,arguments)}finally{p=L}}}})(Ap);Pp.exports=Ap;var mv=Pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=I,qe=mv;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lp=new Set,vi={};function Vn(e,t){xr(e,t),xr(e+"Capture",t)}function xr(e,t){for(vi[e]=t,e=0;e<t.length;e++)Lp.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=Object.prototype.hasOwnProperty,yv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jc={},ed={};function vv(e){return ca.call(ed,e)?!0:ca.call(Jc,e)?!1:yv.test(e)?ed[e]=!0:(Jc[e]=!0,!1)}function xv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wv(e,t,n,r){if(t===null||typeof t>"u"||xv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Su=/[\-:]([a-z])/g;function Eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Su,Eu);_e[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Su,Eu);_e[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Su,Eu);_e[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cu(e,t,n,r){var i=_e.hasOwnProperty(t)?_e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wv(t,n,i,r)&&(n=null),r||i===null?vv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),$p=Symbol.for("react.context"),ju=Symbol.for("react.forward_ref"),fa=Symbol.for("react.suspense"),pa=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Dp=Symbol.for("react.offscreen"),td=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=td&&e[td]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,wl;function Jr(e){if(wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var Nl=!1;function Sl(e,t){if(!e||Nl)return"";Nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Nl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jr(e):""}function Nv(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1),e;case 11:return e=Sl(e.type.render,!1),e;case 1:return e=Sl(e.type,!0),e;default:return""}}function ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Qn:return"Portal";case da:return"Profiler";case ku:return"StrictMode";case fa:return"Suspense";case pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $p:return(e.displayName||"Context")+".Consumer";case Op:return(e._context.displayName||"Context")+".Provider";case ju:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tu:return t=e.displayName||null,t!==null?t:ha(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return ha(e(t))}catch{}}return null}function Sv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ha(t);case 8:return t===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ev(e){var t=zp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=Ev(e))}function Fp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bp(e,t){t=t.checked,t!=null&&Cu(e,"checked",t,!1)}function ga(e,t){Bp(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ya(e,t.type,n):t.hasOwnProperty("defaultValue")&&ya(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ya(e,t,n){(t!=="number"||qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function cr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function id(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(ei(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function Hp(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,Up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cv=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(e){Cv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),si[t]=si[e]})});function Wp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||si.hasOwnProperty(e)&&si[e]?(""+t).trim():t+"px"}function Gp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kv=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(e,t){if(t){if(kv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Na(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,dr=null,fr=null;function sd(e){if(e=Ki(e)){if(typeof Ea!="function")throw Error(B(280));var t=e.stateNode;t&&(t=zs(t),Ea(e.stateNode,e.type,t))}}function Yp(e){dr?fr?fr.push(e):fr=[e]:dr=e}function Kp(){if(dr){var e=dr,t=fr;if(fr=dr=null,sd(e),t)for(e=0;e<t.length;e++)sd(t[e])}}function Qp(e,t){return e(t)}function Xp(){}var El=!1;function qp(e,t,n){if(El)return e(t,n);El=!0;try{return Qp(e,t,n)}finally{El=!1,(dr!==null||fr!==null)&&(Xp(),Kp())}}function wi(e,t){var n=e.stateNode;if(n===null)return null;var r=zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Ca=!1;if(zt)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Ca=!1}function jv(e,t,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var li=!1,Zo=null,Jo=!1,ka=null,Tv={onError:function(e){li=!0,Zo=e}};function bv(e,t,n,r,i,o,s,l,a){li=!1,Zo=null,jv.apply(Tv,arguments)}function Iv(e,t,n,r,i,o,s,l,a){if(bv.apply(this,arguments),li){if(li){var c=Zo;li=!1,Zo=null}else throw Error(B(198));Jo||(Jo=!0,ka=c)}}function Un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ld(e){if(Un(e)!==e)throw Error(B(188))}function _v(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ld(i),e;if(o===r)return ld(i),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Jp(e){return e=_v(e),e!==null?eh(e):null}function eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eh(e);if(t!==null)return t;e=e.sibling}return null}var th=qe.unstable_scheduleCallback,ad=qe.unstable_cancelCallback,Mv=qe.unstable_shouldYield,Rv=qe.unstable_requestPaint,we=qe.unstable_now,Pv=qe.unstable_getCurrentPriorityLevel,Iu=qe.unstable_ImmediatePriority,nh=qe.unstable_UserBlockingPriority,es=qe.unstable_NormalPriority,Av=qe.unstable_LowPriority,rh=qe.unstable_IdlePriority,Ls=null,Et=null;function Lv(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ls,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Dv,Ov=Math.log,$v=Math.LN2;function Dv(e){return e>>>=0,e===0?32:31-(Ov(e)/$v|0)|0}var uo=64,co=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ti(l):(o&=s,o!==0&&(r=ti(o)))}else s=n&~i,s!==0?r=ti(s):o!==0&&(r=ti(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),i=1<<n,r|=e[n],t&=~i;return r}function zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-mt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=zv(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function ja(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ih(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Bv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function _u(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function oh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sh,Mu,lh,ah,uh,Ta=!1,fo=[],ln=null,an=null,un=null,Ni=new Map,Si=new Map,tn=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Ur(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ki(t),t!==null&&Mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vv(e,t,n,r,i){switch(t){case"focusin":return ln=Ur(ln,e,t,n,r,i),!0;case"dragenter":return an=Ur(an,e,t,n,r,i),!0;case"mouseover":return un=Ur(un,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ni.set(o,Ur(Ni.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Si.set(o,Ur(Si.get(o)||null,e,t,n,r,i)),!0}return!1}function ch(e){var t=kn(e.target);if(t!==null){var n=Un(t);if(n!==null){if(t=n.tag,t===13){if(t=Zp(n),t!==null){e.blockedOn=t,uh(e.priority,function(){lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sa=r,n.target.dispatchEvent(r),Sa=null}else return t=Ki(n),t!==null&&Mu(t),e.blockedOn=n,!1;t.shift()}return!0}function cd(e,t,n){Oo(e)&&n.delete(t)}function Uv(){Ta=!1,ln!==null&&Oo(ln)&&(ln=null),an!==null&&Oo(an)&&(an=null),un!==null&&Oo(un)&&(un=null),Ni.forEach(cd),Si.forEach(cd)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ta||(Ta=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Uv)))}function Ei(e){function t(i){return Wr(i,e)}if(0<fo.length){Wr(fo[0],e);for(var n=1;n<fo.length;n++){var r=fo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Wr(ln,e),an!==null&&Wr(an,e),un!==null&&Wr(un,e),Ni.forEach(t),Si.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&tn.shift()}var pr=Wt.ReactCurrentBatchConfig,ns=!0;function Wv(e,t,n,r){var i=le,o=pr.transition;pr.transition=null;try{le=1,Ru(e,t,n,r)}finally{le=i,pr.transition=o}}function Gv(e,t,n,r){var i=le,o=pr.transition;pr.transition=null;try{le=4,Ru(e,t,n,r)}finally{le=i,pr.transition=o}}function Ru(e,t,n,r){if(ns){var i=ba(e,t,n,r);if(i===null)Al(e,t,r,rs,n),ud(e,r);else if(Vv(i,e,t,n,r))r.stopPropagation();else if(ud(e,r),t&4&&-1<Hv.indexOf(e)){for(;i!==null;){var o=Ki(i);if(o!==null&&sh(o),o=ba(e,t,n,r),o===null&&Al(e,t,r,rs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Al(e,t,r,null,n)}}var rs=null;function ba(e,t,n,r){if(rs=null,e=bu(r),e=kn(e),e!==null)if(t=Un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pv()){case Iu:return 1;case nh:return 4;case es:case Av:return 16;case rh:return 536870912;default:return 16}default:return 16}}var on=null,Pu=null,$o=null;function fh(){if($o)return $o;var e,t=Pu,n=t.length,r,i="value"in on?on.value:on.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $o=i.slice(e,1<r?1-r:void 0)}function Do(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function dd(){return!1}function et(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?po:dd,this.isPropagationStopped=dd,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=et(Lr),Yi=ve({},Lr,{view:0,detail:0}),Yv=et(Yi),kl,jl,Gr,Os=ve({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(kl=e.screenX-Gr.screenX,jl=e.screenY-Gr.screenY):jl=kl=0,Gr=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),fd=et(Os),Kv=ve({},Os,{dataTransfer:0}),Qv=et(Kv),Xv=ve({},Yi,{relatedTarget:0}),Tl=et(Xv),qv=ve({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zv=et(qv),Jv=ve({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ex=et(Jv),tx=ve({},Lr,{data:0}),pd=et(tx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ix[e])?!!t[e]:!1}function Lu(){return ox}var sx=ve({},Yi,{key:function(e){if(e.key){var t=nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lx=et(sx),ax=ve({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=et(ax),ux=ve({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),cx=et(ux),dx=ve({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fx=et(dx),px=ve({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hx=et(px),mx=[9,13,27,32],Ou=zt&&"CompositionEvent"in window,ai=null;zt&&"documentMode"in document&&(ai=document.documentMode);var gx=zt&&"TextEvent"in window&&!ai,ph=zt&&(!Ou||ai&&8<ai&&11>=ai),md=" ",gd=!1;function hh(e,t){switch(e){case"keyup":return mx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function yx(e,t){switch(e){case"compositionend":return mh(t);case"keypress":return t.which!==32?null:(gd=!0,md);case"textInput":return e=t.data,e===md&&gd?null:e;default:return null}}function vx(e,t){if(qn)return e==="compositionend"||!Ou&&hh(e,t)?(e=fh(),$o=Pu=on=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ph&&t.locale!=="ko"?null:t.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xx[e.type]:t==="textarea"}function gh(e,t,n,r){Yp(r),t=is(t,"onChange"),0<t.length&&(n=new Au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ui=null,Ci=null;function wx(e){Th(e,0)}function $s(e){var t=er(e);if(Fp(t))return e}function Nx(e,t){if(e==="change")return t}var yh=!1;if(zt){var bl;if(zt){var Il="oninput"in document;if(!Il){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Il=typeof vd.oninput=="function"}bl=Il}else bl=!1;yh=bl&&(!document.documentMode||9<document.documentMode)}function xd(){ui&&(ui.detachEvent("onpropertychange",vh),Ci=ui=null)}function vh(e){if(e.propertyName==="value"&&$s(Ci)){var t=[];gh(t,Ci,e,bu(e)),qp(wx,t)}}function Sx(e,t,n){e==="focusin"?(xd(),ui=t,Ci=n,ui.attachEvent("onpropertychange",vh)):e==="focusout"&&xd()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $s(Ci)}function Cx(e,t){if(e==="click")return $s(t)}function kx(e,t){if(e==="input"||e==="change")return $s(t)}function jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:jx;function ki(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ca.call(t,i)||!yt(e[i],t[i]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var n=wd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wd(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qo(e.document)}return t}function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tx(e){var t=wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xh(n.ownerDocument.documentElement,n)){if(r!==null&&$u(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Nd(n,o);var s=Nd(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bx=zt&&"documentMode"in document&&11>=document.documentMode,Zn=null,Ia=null,ci=null,_a=!1;function Sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_a||Zn==null||Zn!==qo(r)||(r=Zn,"selectionStart"in r&&$u(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ci&&ki(ci,r)||(ci=r,r=is(Ia,"onSelect"),0<r.length&&(t=new Au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},_l={},Nh={};zt&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ds(e){if(_l[e])return _l[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nh)return _l[e]=t[n];return e}var Sh=Ds("animationend"),Eh=Ds("animationiteration"),Ch=Ds("animationstart"),kh=Ds("transitionend"),jh=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){jh.set(e,t),Vn(t,[e])}for(var Ml=0;Ml<Ed.length;Ml++){var Rl=Ed[Ml],Ix=Rl.toLowerCase(),_x=Rl[0].toUpperCase()+Rl.slice(1);vn(Ix,"on"+_x)}vn(Sh,"onAnimationEnd");vn(Eh,"onAnimationIteration");vn(Ch,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(kh,"onTransitionEnd");xr("onMouseEnter",["mouseout","mouseover"]);xr("onMouseLeave",["mouseout","mouseover"]);xr("onPointerEnter",["pointerout","pointerover"]);xr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function Cd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Iv(r,t,void 0,e),e.currentTarget=null}function Th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Cd(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Cd(i,l,c),o=a}}}if(Jo)throw e=ka,Jo=!1,ka=null,e}function de(e,t){var n=t[La];n===void 0&&(n=t[La]=new Set);var r=e+"__bubble";n.has(r)||(bh(t,e,2,!1),n.add(r))}function Pl(e,t,n){var r=0;t&&(r|=4),bh(n,e,r,t)}var mo="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[mo]){e[mo]=!0,Lp.forEach(function(n){n!=="selectionchange"&&(Mx.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mo]||(t[mo]=!0,Pl("selectionchange",!1,t))}}function bh(e,t,n,r){switch(dh(t)){case 1:var i=Wv;break;case 4:i=Gv;break;default:i=Ru}n=i.bind(null,t,n,e),i=void 0,!Ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Al(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=kn(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}qp(function(){var c=o,f=bu(n),d=[];e:{var p=jh.get(e);if(p!==void 0){var v=Au,y=e;switch(e){case"keypress":if(Do(n)===0)break e;case"keydown":case"keyup":v=lx;break;case"focusin":y="focus",v=Tl;break;case"focusout":y="blur",v=Tl;break;case"beforeblur":case"afterblur":v=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=cx;break;case Sh:case Eh:case Ch:v=Zv;break;case kh:v=fx;break;case"scroll":v=Yv;break;case"wheel":v=hx;break;case"copy":case"cut":case"paste":v=ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hd}var w=(t&4)!==0,N=!w&&e==="scroll",h=w?p!==null?p+"Capture":null:p;w=[];for(var g=c,m;g!==null;){m=g;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,h!==null&&(x=wi(g,h),x!=null&&w.push(Ti(g,x,m)))),N)break;g=g.return}0<w.length&&(p=new v(p,y,null,n,f),d.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==Sa&&(y=n.relatedTarget||n.fromElement)&&(kn(y)||y[Ft]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?kn(y):null,y!==null&&(N=Un(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=fd,x="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=hd,x="onPointerLeave",h="onPointerEnter",g="pointer"),N=v==null?p:er(v),m=y==null?p:er(y),p=new w(x,g+"leave",v,n,f),p.target=N,p.relatedTarget=m,x=null,kn(f)===c&&(w=new w(h,g+"enter",y,n,f),w.target=m,w.relatedTarget=N,x=w),N=x,v&&y)t:{for(w=v,h=y,g=0,m=w;m;m=Gn(m))g++;for(m=0,x=h;x;x=Gn(x))m++;for(;0<g-m;)w=Gn(w),g--;for(;0<m-g;)h=Gn(h),m--;for(;g--;){if(w===h||h!==null&&w===h.alternate)break t;w=Gn(w),h=Gn(h)}w=null}else w=null;v!==null&&kd(d,p,v,w,!1),y!==null&&N!==null&&kd(d,N,y,w,!0)}}e:{if(p=c?er(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=Nx;else if(yd(p))if(yh)S=kx;else{S=Ex;var E=Sx}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Cx);if(S&&(S=S(e,c))){gh(d,S,n,f);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&ya(p,"number",p.value)}switch(E=c?er(c):window,e){case"focusin":(yd(E)||E.contentEditable==="true")&&(Zn=E,Ia=c,ci=null);break;case"focusout":ci=Ia=Zn=null;break;case"mousedown":_a=!0;break;case"contextmenu":case"mouseup":case"dragend":_a=!1,Sd(d,n,f);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":Sd(d,n,f)}var C;if(Ou)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?hh(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ph&&n.locale!=="ko"&&(qn||b!=="onCompositionStart"?b==="onCompositionEnd"&&qn&&(C=fh()):(on=f,Pu="value"in on?on.value:on.textContent,qn=!0)),E=is(c,b),0<E.length&&(b=new pd(b,e,null,n,f),d.push({event:b,listeners:E}),C?b.data=C:(C=mh(n),C!==null&&(b.data=C)))),(C=gx?yx(e,n):vx(e,n))&&(c=is(c,"onBeforeInput"),0<c.length&&(f=new pd("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=C))}Th(d,t)})}function Ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function is(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wi(e,n),o!=null&&r.unshift(Ti(e,o,i)),o=wi(e,t),o!=null&&r.push(Ti(e,o,i))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kd(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=wi(n,o),a!=null&&s.unshift(Ti(n,a,l))):i||(a=wi(n,o),a!=null&&s.push(Ti(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Rx=/\r\n?/g,Px=/\u0000|\uFFFD/g;function jd(e){return(typeof e=="string"?e:""+e).replace(Rx,`
`).replace(Px,"")}function go(e,t,n){if(t=jd(t),jd(e)!==t&&n)throw Error(B(425))}function os(){}var Ma=null,Ra=null;function Pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(e){return Td.resolve(null).then(e).catch(Ox)}:Aa;function Ox(e){setTimeout(function(){throw e})}function Ll(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ei(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ei(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),St="__reactFiber$"+Or,bi="__reactProps$"+Or,Ft="__reactContainer$"+Or,La="__reactEvents$"+Or,$x="__reactListeners$"+Or,Dx="__reactHandles$"+Or;function kn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bd(e);e!==null;){if(n=e[St])return n;e=bd(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[St]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function zs(e){return e[bi]||null}var Oa=[],tr=-1;function xn(e){return{current:e}}function fe(e){0>tr||(e.current=Oa[tr],Oa[tr]=null,tr--)}function ue(e,t){tr++,Oa[tr]=e.current,e.current=t}var yn={},Le=xn(yn),Ve=xn(!1),Pn=yn;function wr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(e){return e=e.childContextTypes,e!=null}function ss(){fe(Ve),fe(Le)}function Id(e,t,n){if(Le.current!==yn)throw Error(B(168));ue(Le,t),ue(Ve,n)}function Ih(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,Sv(e)||"Unknown",i));return ve({},n,r)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Pn=Le.current,ue(Le,e),ue(Ve,Ve.current),!0}function _d(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ih(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,fe(Ve),fe(Le),ue(Le,e)):fe(Ve),ue(Ve,n)}var Rt=null,Fs=!1,Ol=!1;function _h(e){Rt===null?Rt=[e]:Rt.push(e)}function zx(e){Fs=!0,_h(e)}function wn(){if(!Ol&&Rt!==null){Ol=!0;var e=0,t=le;try{var n=Rt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,Fs=!1}catch(i){throw Rt!==null&&(Rt=Rt.slice(e+1)),th(Iu,wn),i}finally{le=t,Ol=!1}}return null}var nr=[],rr=0,as=null,us=0,tt=[],nt=0,An=null,Pt=1,At="";function Sn(e,t){nr[rr++]=us,nr[rr++]=as,as=e,us=t}function Mh(e,t,n){tt[nt++]=Pt,tt[nt++]=At,tt[nt++]=An,An=e;var r=Pt;e=At;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var o=32-mt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Pt=1<<32-mt(t)+i|n<<i|r,At=o+e}else Pt=1<<o|n<<i|r,At=e}function Du(e){e.return!==null&&(Sn(e,1),Mh(e,1,0))}function zu(e){for(;e===as;)as=nr[--rr],nr[rr]=null,us=nr[--rr],nr[rr]=null;for(;e===An;)An=tt[--nt],tt[nt]=null,At=tt[--nt],tt[nt]=null,Pt=tt[--nt],tt[nt]=null}var Xe=null,Qe=null,pe=!1,dt=null;function Rh(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Md(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Pt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Qe=null,!0):!1;default:return!1}}function $a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Da(e){if(pe){var t=Qe;if(t){var n=t;if(!Md(e,t)){if($a(e))throw Error(B(418));t=cn(n.nextSibling);var r=Xe;t&&Md(e,t)?Rh(r,n):(e.flags=e.flags&-4097|2,pe=!1,Xe=e)}}else{if($a(e))throw Error(B(418));e.flags=e.flags&-4097|2,pe=!1,Xe=e}}}function Rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function yo(e){if(e!==Xe)return!1;if(!pe)return Rd(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pa(e.type,e.memoizedProps)),t&&(t=Qe)){if($a(e))throw Ph(),Error(B(418));for(;t;)Rh(e,t),t=cn(t.nextSibling)}if(Rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Xe?cn(e.stateNode.nextSibling):null;return!0}function Ph(){for(var e=Qe;e;)e=cn(e.nextSibling)}function Nr(){Qe=Xe=null,pe=!1}function Fu(e){dt===null?dt=[e]:dt.push(e)}var Fx=Wt.ReactCurrentBatchConfig;function Yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pd(e){var t=e._init;return t(e._payload)}function Ah(e){function t(h,g){if(e){var m=h.deletions;m===null?(h.deletions=[g],h.flags|=16):m.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=hn(h,g),h.index=0,h.sibling=null,h}function o(h,g,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<g?(h.flags|=2,g):m):(h.flags|=2,g)):(h.flags|=1048576,g)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,g,m,x){return g===null||g.tag!==6?(g=Vl(m,h.mode,x),g.return=h,g):(g=i(g,m),g.return=h,g)}function a(h,g,m,x){var S=m.type;return S===Xn?f(h,g,m.props.children,x,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Pd(S)===g.type)?(x=i(g,m.props),x.ref=Yr(h,g,m),x.return=h,x):(x=Wo(m.type,m.key,m.props,null,h.mode,x),x.ref=Yr(h,g,m),x.return=h,x)}function c(h,g,m,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ul(m,h.mode,x),g.return=h,g):(g=i(g,m.children||[]),g.return=h,g)}function f(h,g,m,x,S){return g===null||g.tag!==7?(g=_n(m,h.mode,x,S),g.return=h,g):(g=i(g,m),g.return=h,g)}function d(h,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vl(""+g,h.mode,m),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case so:return m=Wo(g.type,g.key,g.props,null,h.mode,m),m.ref=Yr(h,null,g),m.return=h,m;case Qn:return g=Ul(g,h.mode,m),g.return=h,g;case Jt:var x=g._init;return d(h,x(g._payload),m)}if(ei(g)||Hr(g))return g=_n(g,h.mode,m,null),g.return=h,g;vo(h,g)}return null}function p(h,g,m,x){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(h,g,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case so:return m.key===S?a(h,g,m,x):null;case Qn:return m.key===S?c(h,g,m,x):null;case Jt:return S=m._init,p(h,g,S(m._payload),x)}if(ei(m)||Hr(m))return S!==null?null:f(h,g,m,x,null);vo(h,m)}return null}function v(h,g,m,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(m)||null,l(g,h,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case so:return h=h.get(x.key===null?m:x.key)||null,a(g,h,x,S);case Qn:return h=h.get(x.key===null?m:x.key)||null,c(g,h,x,S);case Jt:var E=x._init;return v(h,g,m,E(x._payload),S)}if(ei(x)||Hr(x))return h=h.get(m)||null,f(g,h,x,S,null);vo(g,x)}return null}function y(h,g,m,x){for(var S=null,E=null,C=g,b=g=0,R=null;C!==null&&b<m.length;b++){C.index>b?(R=C,C=null):R=C.sibling;var O=p(h,C,m[b],x);if(O===null){C===null&&(C=R);break}e&&C&&O.alternate===null&&t(h,C),g=o(O,g,b),E===null?S=O:E.sibling=O,E=O,C=R}if(b===m.length)return n(h,C),pe&&Sn(h,b),S;if(C===null){for(;b<m.length;b++)C=d(h,m[b],x),C!==null&&(g=o(C,g,b),E===null?S=C:E.sibling=C,E=C);return pe&&Sn(h,b),S}for(C=r(h,C);b<m.length;b++)R=v(C,h,b,m[b],x),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?b:R.key),g=o(R,g,b),E===null?S=R:E.sibling=R,E=R);return e&&C.forEach(function(P){return t(h,P)}),pe&&Sn(h,b),S}function w(h,g,m,x){var S=Hr(m);if(typeof S!="function")throw Error(B(150));if(m=S.call(m),m==null)throw Error(B(151));for(var E=S=null,C=g,b=g=0,R=null,O=m.next();C!==null&&!O.done;b++,O=m.next()){C.index>b?(R=C,C=null):R=C.sibling;var P=p(h,C,O.value,x);if(P===null){C===null&&(C=R);break}e&&C&&P.alternate===null&&t(h,C),g=o(P,g,b),E===null?S=P:E.sibling=P,E=P,C=R}if(O.done)return n(h,C),pe&&Sn(h,b),S;if(C===null){for(;!O.done;b++,O=m.next())O=d(h,O.value,x),O!==null&&(g=o(O,g,b),E===null?S=O:E.sibling=O,E=O);return pe&&Sn(h,b),S}for(C=r(h,C);!O.done;b++,O=m.next())O=v(C,h,b,O.value,x),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?b:O.key),g=o(O,g,b),E===null?S=O:E.sibling=O,E=O);return e&&C.forEach(function(A){return t(h,A)}),pe&&Sn(h,b),S}function N(h,g,m,x){if(typeof m=="object"&&m!==null&&m.type===Xn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case so:e:{for(var S=m.key,E=g;E!==null;){if(E.key===S){if(S=m.type,S===Xn){if(E.tag===7){n(h,E.sibling),g=i(E,m.props.children),g.return=h,h=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Pd(S)===E.type){n(h,E.sibling),g=i(E,m.props),g.ref=Yr(h,E,m),g.return=h,h=g;break e}n(h,E);break}else t(h,E);E=E.sibling}m.type===Xn?(g=_n(m.props.children,h.mode,x,m.key),g.return=h,h=g):(x=Wo(m.type,m.key,m.props,null,h.mode,x),x.ref=Yr(h,g,m),x.return=h,h=x)}return s(h);case Qn:e:{for(E=m.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(h,g.sibling),g=i(g,m.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Ul(m,h.mode,x),g.return=h,h=g}return s(h);case Jt:return E=m._init,N(h,g,E(m._payload),x)}if(ei(m))return y(h,g,m,x);if(Hr(m))return w(h,g,m,x);vo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(h,g.sibling),g=i(g,m),g.return=h,h=g):(n(h,g),g=Vl(m,h.mode,x),g.return=h,h=g),s(h)):n(h,g)}return N}var Sr=Ah(!0),Lh=Ah(!1),cs=xn(null),ds=null,ir=null,Bu=null;function Hu(){Bu=ir=ds=null}function Vu(e){var t=cs.current;fe(cs),e._currentValue=t}function za(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){ds=e,Bu=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Bu!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(ds===null)throw Error(B(308));ir=e,ds.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var jn=null;function Uu(e){jn===null?jn=[e]:jn.push(e)}function Oh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Uu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bt(e,n)}return i=r.interleaved,i===null?(t.next=t,Uu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bt(e,n)}function zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_u(e,n)}}function Ad(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var i=e.updateQueue;en=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,f=c=a=null,l=o;do{var p=l.lane,v=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(v,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,d,p):y,p==null)break e;d=ve({},d,p);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,a=d):f=f.next=v,s|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);On|=s,e.lanes=s,e.memoizedState=d}}function Ld(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Qi={},Ct=xn(Qi),Ii=xn(Qi),_i=xn(Qi);function Tn(e){if(e===Qi)throw Error(B(174));return e}function Gu(e,t){switch(ue(_i,t),ue(Ii,e),ue(Ct,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}fe(Ct),ue(Ct,t)}function Er(){fe(Ct),fe(Ii),fe(_i)}function Dh(e){Tn(_i.current);var t=Tn(Ct.current),n=xa(t,e.type);t!==n&&(ue(Ii,e),ue(Ct,n))}function Yu(e){Ii.current===e&&(fe(Ct),fe(Ii))}var ge=xn(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function Ku(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Fo=Wt.ReactCurrentDispatcher,Dl=Wt.ReactCurrentBatchConfig,Ln=0,ye=null,Ce=null,je=null,hs=!1,di=!1,Mi=0,Bx=0;function Re(){throw Error(B(321))}function Qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Xu(e,t,n,r,i,o){if(Ln=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fo.current=e===null||e.memoizedState===null?Wx:Gx,e=n(r,i),di){o=0;do{if(di=!1,Mi=0,25<=o)throw Error(B(301));o+=1,je=Ce=null,t.updateQueue=null,Fo.current=Yx,e=n(r,i)}while(di)}if(Fo.current=ms,t=Ce!==null&&Ce.next!==null,Ln=0,je=Ce=ye=null,hs=!1,t)throw Error(B(300));return e}function qu(){var e=Mi!==0;return Mi=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ye.memoizedState=je=e:je=je.next=e,je}function st(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=je===null?ye.memoizedState:je.next;if(t!==null)je=t,Ce=e;else{if(e===null)throw Error(B(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},je===null?ye.memoizedState=je=e:je=je.next=e}return je}function Ri(e,t){return typeof t=="function"?t(e):t}function zl(e){var t=st(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ce,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var f=c.lane;if((Ln&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,ye.lanes|=f,On|=f}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,yt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ye.lanes|=o,On|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fl(e){var t=st(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);yt(o,t.memoizedState)||(Be=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zh(){}function Fh(e,t){var n=ye,r=st(),i=t(),o=!yt(r.memoizedState,i);if(o&&(r.memoizedState=i,Be=!0),r=r.queue,Zu(Vh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Pi(9,Hh.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(B(349));Ln&30||Bh(n,t,i)}return i}function Bh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hh(e,t,n,r){t.value=n,t.getSnapshot=r,Uh(t)&&Wh(e)}function Vh(e,t,n){return n(function(){Uh(t)&&Wh(e)})}function Uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Wh(e){var t=Bt(e,1);t!==null&&gt(t,e,1,-1)}function Od(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=Ux.bind(null,ye,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gh(){return st().memoizedState}function Bo(e,t,n,r){var i=wt();ye.flags|=e,i.memoizedState=Pi(1|t,n,void 0,r===void 0?null:r)}function Bs(e,t,n,r){var i=st();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var s=Ce.memoizedState;if(o=s.destroy,r!==null&&Qu(r,s.deps)){i.memoizedState=Pi(t,n,o,r);return}}ye.flags|=e,i.memoizedState=Pi(1|t,n,o,r)}function $d(e,t){return Bo(8390656,8,e,t)}function Zu(e,t){return Bs(2048,8,e,t)}function Yh(e,t){return Bs(4,2,e,t)}function Kh(e,t){return Bs(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4,4,Qh.bind(null,t,e),n)}function Ju(){}function qh(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zh(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jh(e,t,n){return Ln&21?(yt(n,t)||(n=ih(),ye.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function Hx(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Dl.transition;Dl.transition={};try{e(!1),t()}finally{le=n,Dl.transition=r}}function em(){return st().memoizedState}function Vx(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tm(e))nm(t,n);else if(n=Oh(e,t,n,r),n!==null){var i=$e();gt(n,e,r,i),rm(n,t,r)}}function Ux(e,t,n){var r=pn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tm(e))nm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,yt(l,s)){var a=t.interleaved;a===null?(i.next=i,Uu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Oh(e,t,i,r),n!==null&&(i=$e(),gt(n,e,r,i),rm(n,t,r))}}function tm(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function nm(e,t){di=hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_u(e,n)}}var ms={readContext:ot,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Wx={readContext:ot,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:$d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vx.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Od,useDebugValue:Ju,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Od(!1),t=e[0];return e=Hx.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,i=wt();if(pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Te===null)throw Error(B(349));Ln&30||Bh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$d(Vh.bind(null,r,o,e),[e]),r.flags|=2048,Pi(9,Hh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wt(),t=Te.identifierPrefix;if(pe){var n=At,r=Pt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gx={readContext:ot,useCallback:qh,useContext:ot,useEffect:Zu,useImperativeHandle:Xh,useInsertionEffect:Yh,useLayoutEffect:Kh,useMemo:Zh,useReducer:zl,useRef:Gh,useState:function(){return zl(Ri)},useDebugValue:Ju,useDeferredValue:function(e){var t=st();return Jh(t,Ce.memoizedState,e)},useTransition:function(){var e=zl(Ri)[0],t=st().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Fh,useId:em,unstable_isNewReconciler:!1},Yx={readContext:ot,useCallback:qh,useContext:ot,useEffect:Zu,useImperativeHandle:Xh,useInsertionEffect:Yh,useLayoutEffect:Kh,useMemo:Zh,useReducer:Fl,useRef:Gh,useState:function(){return Fl(Ri)},useDebugValue:Ju,useDeferredValue:function(e){var t=st();return Ce===null?t.memoizedState=e:Jh(t,Ce.memoizedState,e)},useTransition:function(){var e=Fl(Ri)[0],t=st().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Fh,useId:em,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=pn(e),o=$t(r,i);o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,i),t!==null&&(gt(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=pn(e),o=$t(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=dn(e,o,i),t!==null&&(gt(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=pn(e),i=$t(n,r);i.tag=2,t!=null&&(i.callback=t),t=dn(e,i,r),t!==null&&(gt(t,e,r,n),zo(t,e,r))}};function Dd(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ki(n,r)||!ki(i,o):!0}function im(e,t,n){var r=!1,i=yn,o=t.contextType;return typeof o=="object"&&o!==null?o=ot(o):(i=Ue(t)?Pn:Le.current,r=t.contextTypes,o=(r=r!=null)?wr(e,i):yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Wu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ot(o):(o=Ue(t)?Pn:Le.current,i.context=wr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fa(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),fs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,t){try{var n="",r=t;do n+=Nv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kx=typeof WeakMap=="function"?WeakMap:Map;function om(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ys||(ys=!0,Za=r),Ha(e,t)},n}function sm(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ha(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ha(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Fd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=a1.bind(null,e,t,n),t.then(e,e))}function Bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var Qx=Wt.ReactCurrentOwner,Be=!1;function Oe(e,t,n,r){t.child=e===null?Lh(t,null,n,r):Sr(t,e.child,n,r)}function Vd(e,t,n,r,i){n=n.render;var o=t.ref;return hr(t,i),r=Xu(e,t,n,r,o,i),n=qu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&n&&Du(t),t.flags|=1,Oe(e,t,r,i),t.child)}function Ud(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!lc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lm(e,t,o,r,i)):(e=Wo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(s,r)&&e.ref===t.ref)return Ht(e,t,i)}return t.flags|=1,e=hn(o,r),e.ref=t.ref,e.return=t,t.child=e}function lm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ki(o,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ht(e,t,i)}return Va(e,t,n,r,i)}function am(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(sr,Ge),Ge|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(sr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(sr,Ge),Ge|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(sr,Ge),Ge|=r;return Oe(e,t,i,n),t.child}function um(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Va(e,t,n,r,i){var o=Ue(n)?Pn:Le.current;return o=wr(t,o),hr(t,i),n=Xu(e,t,n,r,o,i),r=qu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ht(e,t,i)):(pe&&r&&Du(t),t.flags|=1,Oe(e,t,n,i),t.child)}function Wd(e,t,n,r,i){if(Ue(n)){var o=!0;ls(t)}else o=!1;if(hr(t,i),t.stateNode===null)Ho(e,t),im(t,n,r),Ba(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ot(c):(c=Ue(n)?Pn:Le.current,c=wr(t,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&zd(t,s,r,c),en=!1;var p=t.memoizedState;s.state=p,fs(t,r,s,i),a=t.memoizedState,l!==r||p!==a||Ve.current||en?(typeof f=="function"&&(Fa(t,n,f,r),a=t.memoizedState),(l=en||Dd(t,n,l,r,p,a,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$h(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:at(t.type,l),s.props=c,d=t.pendingProps,p=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Ue(n)?Pn:Le.current,a=wr(t,a));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||p!==a)&&zd(t,s,r,a),en=!1,p=t.memoizedState,s.state=p,fs(t,r,s,i);var y=t.memoizedState;l!==d||p!==y||Ve.current||en?(typeof v=="function"&&(Fa(t,n,v,r),y=t.memoizedState),(c=en||Dd(t,n,c,r,p,y,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){um(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&_d(t,n,!1),Ht(e,t,o);r=t.stateNode,Qx.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Sr(t,e.child,null,o),t.child=Sr(t,null,l,o)):Oe(e,t,l,o),t.memoizedState=r.state,i&&_d(t,n,!0),t.child}function cm(e){var t=e.stateNode;t.pendingContext?Id(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Id(e,t.context,!1),Gu(e,t.containerInfo)}function Gd(e,t,n,r,i){return Nr(),Fu(i),t.flags|=256,Oe(e,t,n,r),t.child}var Wa={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function dm(e,t,n){var r=t.pendingProps,i=ge.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(ge,i&1),e===null)return Da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ws(s,r,0,null),e=_n(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ga(n),t.memoizedState=Wa,e):ec(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Xx(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=hn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=hn(l,o):(o=_n(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ga(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Wa,r}return o=e.child,e=o.sibling,r=hn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ec(e,t){return t=Ws({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xo(e,t,n,r){return r!==null&&Fu(r),Sr(t,e.child,null,n),e=ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xx(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Bl(Error(B(422))),xo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ws({mode:"visible",children:r.children},i,0,null),o=_n(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Sr(t,e.child,null,s),t.child.memoizedState=Ga(s),t.memoizedState=Wa,o);if(!(t.mode&1))return xo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=Bl(o,r,void 0),xo(e,t,s,r)}if(l=(s&e.childLanes)!==0,Be||l){if(r=Te,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Bt(e,i),gt(r,e,i,-1))}return sc(),r=Bl(Error(B(421))),xo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=u1.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Qe=cn(i.nextSibling),Xe=t,pe=!0,dt=null,e!==null&&(tt[nt++]=Pt,tt[nt++]=At,tt[nt++]=An,Pt=e.id,At=e.overflow,An=t),t=ec(t,r.children),t.flags|=4096,t)}function Yd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),za(e.return,t,n)}function Hl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,n,t);else if(e.tag===19)Yd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ps(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qx(e,t,n){switch(t.tag){case 3:cm(t),Nr();break;case 5:Dh(t);break;case 1:Ue(t.type)&&ls(t);break;case 4:Gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(cs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?dm(e,t,n):(ue(ge,ge.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,am(e,t,n)}return Ht(e,t,n)}var pm,Ya,hm,mm;pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ya=function(){};hm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Tn(Ct.current);var o=null;switch(n){case"input":i=ma(e,i),r=ma(e,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=va(e,i),r=va(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=os)}wa(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&de("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Kr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zx(e,t,n){var r=t.pendingProps;switch(zu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ue(t.type)&&ss(),Pe(t),null;case 3:return r=t.stateNode,Er(),fe(Ve),fe(Le),Ku(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(tu(dt),dt=null))),Ya(e,t),Pe(t),null;case 5:Yu(t);var i=Tn(_i.current);if(n=t.type,e!==null&&t.stateNode!=null)hm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Pe(t),null}if(e=Tn(Ct.current),yo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[St]=t,r[bi]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<ni.length;i++)de(ni[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":nd(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":id(r,o),de("invalid",r)}wa(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&go(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&go(r.textContent,l,e),i=["children",""+l]):vi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&de("scroll",r)}switch(n){case"input":lo(r),rd(r,o,!0);break;case"textarea":lo(r),od(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=os)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[St]=t,e[bi]=r,pm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Na(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<ni.length;i++)de(ni[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":nd(e,r),i=ma(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":id(e,r),i=va(e,r),de("invalid",e);break;default:i=r}wa(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Gp(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Up(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&xi(e,a):typeof a=="number"&&xi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&de("scroll",e):a!=null&&Cu(e,o,a,s))}switch(n){case"input":lo(e),rd(e,r,!1);break;case"textarea":lo(e),od(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?cr(e,!!r.multiple,o,!1):r.defaultValue!=null&&cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=os)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Tn(_i.current),Tn(Ct.current),yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(o=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:go(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Pe(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Qe!==null&&t.mode&1&&!(t.flags&128))Ph(),Nr(),t.flags|=98560,o=!1;else if(o=yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[St]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),o=!1}else dt!==null&&(tu(dt),dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?ke===0&&(ke=3):sc())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return Er(),Ya(e,t),e===null&&ji(t.stateNode.containerInfo),Pe(t),null;case 10:return Vu(t.type._context),Pe(t),null;case 17:return Ue(t.type)&&ss(),Pe(t),null;case 19:if(fe(ge),o=t.memoizedState,o===null)return Pe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Kr(o,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ps(e),s!==null){for(t.flags|=128,Kr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>kr&&(t.flags|=128,r=!0,Kr(o,!1),t.lanes=4194304)}else{if(!r)if(e=ps(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!pe)return Pe(t),null}else 2*we()-o.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,Kr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return oc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Jx(e,t){switch(zu(t),t.tag){case 1:return Ue(t.type)&&ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),fe(Ve),fe(Le),Ku(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yu(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return Er(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var wo=!1,Ae=!1,e1=typeof WeakSet=="function"?WeakSet:Set,G=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ka(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Kd=!1;function t1(e,t){if(Ma=ns,e=wh(),$u(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===n&&++c===i&&(l=s),p===o&&++f===r&&(a=s),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:e,selectionRange:n},ns=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,N=y.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:at(t.type,w),N);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=Kd,Kd=!1,y}function fi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ka(t,n,o)}i=i.next}while(i!==r)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gm(e){var t=e.alternate;t!==null&&(e.alternate=null,gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[bi],delete t[La],delete t[$x],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ym(e){return e.tag===5||e.tag===3||e.tag===4}function Qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=os));else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}function qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}var be=null,ut=!1;function Kt(e,t,n){for(n=n.child;n!==null;)vm(e,t,n),n=n.sibling}function vm(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ls,n)}catch{}switch(n.tag){case 5:Ae||or(n,t);case 6:var r=be,i=ut;be=null,Kt(e,t,n),be=r,ut=i,be!==null&&(ut?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ut?(e=be,n=n.stateNode,e.nodeType===8?Ll(e.parentNode,n):e.nodeType===1&&Ll(e,n),Ei(e)):Ll(be,n.stateNode));break;case 4:r=be,i=ut,be=n.stateNode.containerInfo,ut=!0,Kt(e,t,n),be=r,ut=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ka(n,t,s),i=i.next}while(i!==r)}Kt(e,t,n);break;case 1:if(!Ae&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,t,l)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Kt(e,t,n),Ae=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function Xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new e1),t.forEach(function(r){var i=c1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,ut=!1;break e;case 3:be=l.stateNode.containerInfo,ut=!0;break e;case 4:be=l.stateNode.containerInfo,ut=!0;break e}l=l.return}if(be===null)throw Error(B(160));vm(o,s,i),be=null,ut=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){xe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}function xm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),xt(e),r&4){try{fi(3,e,e.return),Vs(3,e)}catch(w){xe(e,e.return,w)}try{fi(5,e,e.return)}catch(w){xe(e,e.return,w)}}break;case 1:lt(t,e),xt(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(lt(t,e),xt(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var i=e.stateNode;try{xi(i,"")}catch(w){xe(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Bp(i,o),Na(l,s);var c=Na(l,o);for(s=0;s<a.length;s+=2){var f=a[s],d=a[s+1];f==="style"?Gp(i,d):f==="dangerouslySetInnerHTML"?Up(i,d):f==="children"?xi(i,d):Cu(i,f,d,c)}switch(l){case"input":ga(i,o);break;case"textarea":Hp(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?cr(i,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?cr(i,!!o.multiple,o.defaultValue,!0):cr(i,!!o.multiple,o.multiple?[]:"",!1))}i[bi]=o}catch(w){xe(e,e.return,w)}}break;case 6:if(lt(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){xe(e,e.return,w)}}break;case 3:if(lt(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(w){xe(e,e.return,w)}break;case 4:lt(t,e),xt(e);break;case 13:lt(t,e),xt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rc=we())),r&4&&Xd(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(c=Ae)||f,lt(t,e),Ae=c):lt(t,e),xt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(d=G=f;G!==null;){switch(p=G,v=p.child,p.tag){case 0:case 11:case 14:case 15:fi(4,p,p.return);break;case 1:or(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){xe(r,n,w)}}break;case 5:or(p,p.return);break;case 22:if(p.memoizedState!==null){Zd(d);continue}}v!==null?(v.return=p,G=v):Zd(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Wp("display",s))}catch(w){xe(e,e.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){xe(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(t,e),xt(e),r&4&&Xd(e);break;case 21:break;default:lt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ym(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xi(i,""),r.flags&=-33);var o=Qd(e);qa(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Qd(e);Xa(e,l,s);break;default:throw Error(B(161))}}catch(a){xe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n1(e,t,n){G=e,wm(e)}function wm(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||wo;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=wo;var c=Ae;if(wo=s,(Ae=a)&&!c)for(G=i;G!==null;)s=G,a=s.child,s.tag===22&&s.memoizedState!==null?Jd(i):a!==null?(a.return=s,G=a):Jd(i);for(;o!==null;)G=o,wm(o),o=o.sibling;G=i,wo=l,Ae=c}qd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):qd(e)}}function qd(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Vs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ld(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ld(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ei(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ae||t.flags&512&&Qa(t)}catch(p){xe(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Zd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Jd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(a){xe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){xe(t,i,a)}}var o=t.return;try{Qa(t)}catch(a){xe(t,o,a)}break;case 5:var s=t.return;try{Qa(t)}catch(a){xe(t,s,a)}}}catch(a){xe(t,t.return,a)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var r1=Math.ceil,gs=Wt.ReactCurrentDispatcher,tc=Wt.ReactCurrentOwner,it=Wt.ReactCurrentBatchConfig,re=0,Te=null,Se=null,Ie=0,Ge=0,sr=xn(0),ke=0,Ai=null,On=0,Us=0,nc=0,pi=null,Fe=null,rc=0,kr=1/0,Mt=null,ys=!1,Za=null,fn=null,No=!1,sn=null,vs=0,hi=0,Ja=null,Vo=-1,Uo=0;function $e(){return re&6?we():Vo!==-1?Vo:Vo=we()}function pn(e){return e.mode&1?re&2&&Ie!==0?Ie&-Ie:Fx.transition!==null?(Uo===0&&(Uo=ih()),Uo):(e=le,e!==0||(e=window.event,e=e===void 0?16:dh(e.type)),e):1}function gt(e,t,n,r){if(50<hi)throw hi=0,Ja=null,Error(B(185));Gi(e,n,r),(!(re&2)||e!==Te)&&(e===Te&&(!(re&2)&&(Us|=n),ke===4&&nn(e,Ie)),We(e,r),n===1&&re===0&&!(t.mode&1)&&(kr=we()+500,Fs&&wn()))}function We(e,t){var n=e.callbackNode;Fv(e,t);var r=ts(e,e===Te?Ie:0);if(r===0)n!==null&&ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ad(n),t===1)e.tag===0?zx(ef.bind(null,e)):_h(ef.bind(null,e)),Lx(function(){!(re&6)&&wn()}),n=null;else{switch(oh(r)){case 1:n=Iu;break;case 4:n=nh;break;case 16:n=es;break;case 536870912:n=rh;break;default:n=es}n=bm(n,Nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nm(e,t){if(Vo=-1,Uo=0,re&6)throw Error(B(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var r=ts(e,e===Te?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xs(e,r);else{t=r;var i=re;re|=2;var o=Em();(Te!==e||Ie!==t)&&(Mt=null,kr=we()+500,In(e,t));do try{s1();break}catch(l){Sm(e,l)}while(!0);Hu(),gs.current=o,re=i,Se!==null?t=0:(Te=null,Ie=0,t=ke)}if(t!==0){if(t===2&&(i=ja(e),i!==0&&(r=i,t=eu(e,i))),t===1)throw n=Ai,In(e,0),nn(e,r),We(e,we()),n;if(t===6)nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!i1(i)&&(t=xs(e,r),t===2&&(o=ja(e),o!==0&&(r=o,t=eu(e,o))),t===1))throw n=Ai,In(e,0),nn(e,r),We(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:En(e,Fe,Mt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=rc+500-we(),10<t)){if(ts(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Aa(En.bind(null,e,Fe,Mt),t);break}En(e,Fe,Mt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-mt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r1(r/1960))-r,10<r){e.timeoutHandle=Aa(En.bind(null,e,Fe,Mt),r);break}En(e,Fe,Mt);break;case 5:En(e,Fe,Mt);break;default:throw Error(B(329))}}}return We(e,we()),e.callbackNode===n?Nm.bind(null,e):null}function eu(e,t){var n=pi;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=xs(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&tu(t)),e}function tu(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function i1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~nc,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function ef(e){if(re&6)throw Error(B(327));mr();var t=ts(e,0);if(!(t&1))return We(e,we()),null;var n=xs(e,t);if(e.tag!==0&&n===2){var r=ja(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=Ai,In(e,0),nn(e,t),We(e,we()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,Fe,Mt),We(e,we()),null}function ic(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(kr=we()+500,Fs&&wn())}}function $n(e){sn!==null&&sn.tag===0&&!(re&6)&&mr();var t=re;re|=1;var n=it.transition,r=le;try{if(it.transition=null,le=1,e)return e()}finally{le=r,it.transition=n,re=t,!(re&6)&&wn()}}function oc(){Ge=sr.current,fe(sr)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ax(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(zu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ss();break;case 3:Er(),fe(Ve),fe(Le),Ku();break;case 5:Yu(r);break;case 4:Er();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Vu(r.type._context);break;case 22:case 23:oc()}n=n.return}if(Te=e,Se=e=hn(e.current,null),Ie=Ge=t,ke=0,Ai=null,nc=Us=On=0,Fe=pi=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}jn=null}return e}function Sm(e,t){do{var n=Se;try{if(Hu(),Fo.current=ms,hs){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hs=!1}if(Ln=0,je=Ce=ye=null,di=!1,Mi=0,tc.current=null,n===null||n.return===null){ke=1,Ai=t,Se=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Bd(s);if(v!==null){v.flags&=-257,Hd(v,s,l,o,t),v.mode&1&&Fd(o,c,t),t=v,a=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){Fd(o,c,t),sc();break e}a=Error(B(426))}}else if(pe&&l.mode&1){var N=Bd(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Hd(N,s,l,o,t),Fu(Cr(a,l));break e}}o=a=Cr(a,l),ke!==4&&(ke=2),pi===null?pi=[o]:pi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=om(o,a,t);Ad(o,h);break e;case 1:l=a;var g=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fn===null||!fn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=sm(o,l,t);Ad(o,x);break e}}o=o.return}while(o!==null)}km(n)}catch(S){t=S,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Em(){var e=gs.current;return gs.current=ms,e===null?ms:e}function sc(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(On&268435455)&&!(Us&268435455)||nn(Te,Ie)}function xs(e,t){var n=re;re|=2;var r=Em();(Te!==e||Ie!==t)&&(Mt=null,In(e,t));do try{o1();break}catch(i){Sm(e,i)}while(!0);if(Hu(),re=n,gs.current=r,Se!==null)throw Error(B(261));return Te=null,Ie=0,ke}function o1(){for(;Se!==null;)Cm(Se)}function s1(){for(;Se!==null&&!Mv();)Cm(Se)}function Cm(e){var t=Tm(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?km(e):Se=t,tc.current=null}function km(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jx(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Se=null;return}}else if(n=Zx(n,t,Ge),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);ke===0&&(ke=5)}function En(e,t,n){var r=le,i=it.transition;try{it.transition=null,le=1,l1(e,t,n,r)}finally{it.transition=i,le=r}return null}function l1(e,t,n,r){do mr();while(sn!==null);if(re&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bv(e,o),e===Te&&(Se=Te=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,bm(es,function(){return mr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=it.transition,it.transition=null;var s=le;le=1;var l=re;re|=4,tc.current=null,t1(e,n),xm(n,e),Tx(Ra),ns=!!Ma,Ra=Ma=null,e.current=n,n1(n),Rv(),re=l,le=s,it.transition=o}else e.current=n;if(No&&(No=!1,sn=e,vs=i),o=e.pendingLanes,o===0&&(fn=null),Lv(n.stateNode),We(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ys)throw ys=!1,e=Za,Za=null,e;return vs&1&&e.tag!==0&&mr(),o=e.pendingLanes,o&1?e===Ja?hi++:(hi=0,Ja=e):hi=0,wn(),null}function mr(){if(sn!==null){var e=oh(vs),t=it.transition,n=le;try{if(it.transition=null,le=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,vs=0,re&6)throw Error(B(331));var i=re;for(re|=4,G=e.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(G=c;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:fi(8,f,o)}var d=f.child;if(d!==null)d.return=f,G=d;else for(;G!==null;){f=G;var p=f.sibling,v=f.return;if(gm(f),f===c){G=null;break}if(p!==null){p.return=v,G=p;break}G=v}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fi(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,G=h;break e}G=o.return}}var g=e.current;for(G=g;G!==null;){s=G;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,G=m;else e:for(s=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vs(9,l)}}catch(S){xe(l,l.return,S)}if(l===s){G=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,G=x;break e}G=l.return}}if(re=i,wn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ls,e)}catch{}r=!0}return r}finally{le=n,it.transition=t}}return!1}function tf(e,t,n){t=Cr(n,t),t=om(e,t,1),e=dn(e,t,1),t=$e(),e!==null&&(Gi(e,1,t),We(e,t))}function xe(e,t,n){if(e.tag===3)tf(e,e,n);else for(;t!==null;){if(t.tag===3){tf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=Cr(n,e),e=sm(t,e,1),t=dn(t,e,1),e=$e(),t!==null&&(Gi(t,1,e),We(t,e));break}}t=t.return}}function a1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ie&n)===n&&(ke===4||ke===3&&(Ie&130023424)===Ie&&500>we()-rc?In(e,0):nc|=n),We(e,t)}function jm(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var n=$e();e=Bt(e,t),e!==null&&(Gi(e,t,n),We(e,n))}function u1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jm(e,n)}function c1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),jm(e,n)}var Tm;Tm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,qx(e,t,n);Be=!!(e.flags&131072)}else Be=!1,pe&&t.flags&1048576&&Mh(t,us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=wr(t,Le.current);hr(t,n),i=Xu(null,t,r,e,i,n);var o=qu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(o=!0,ls(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wu(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,Ba(t,r,e,n),t=Ua(null,t,r,!0,o,n)):(t.tag=0,pe&&o&&Du(t),Oe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=f1(r),e=at(r,e),i){case 0:t=Va(null,t,r,e,n);break e;case 1:t=Wd(null,t,r,e,n);break e;case 11:t=Vd(null,t,r,e,n);break e;case 14:t=Ud(null,t,r,at(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:at(r,i),Va(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:at(r,i),Wd(e,t,r,i,n);case 3:e:{if(cm(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,i=o.element,$h(e,t),fs(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Cr(Error(B(423)),t),t=Gd(e,t,r,n,i);break e}else if(r!==i){i=Cr(Error(B(424)),t),t=Gd(e,t,r,n,i);break e}else for(Qe=cn(t.stateNode.containerInfo.firstChild),Xe=t,pe=!0,dt=null,n=Lh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===i){t=Ht(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Dh(t),e===null&&Da(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Pa(r,i)?s=null:o!==null&&Pa(r,o)&&(t.flags|=32),um(e,t),Oe(e,t,s,n),t.child;case 6:return e===null&&Da(t),null;case 13:return dm(e,t,n);case 4:return Gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:at(r,i),Vd(e,t,r,i,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ue(cs,r._currentValue),r._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===i.children&&!Ve.current){t=Ht(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=$t(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),za(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),za(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hr(t,n),i=ot(i),r=r(i),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,i=at(r,t.pendingProps),i=at(r.type,i),Ud(e,t,r,i,n);case 15:return lm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:at(r,i),Ho(e,t),t.tag=1,Ue(r)?(e=!0,ls(t)):e=!1,hr(t,n),im(t,r,i),Ba(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return fm(e,t,n);case 22:return am(e,t,n)}throw Error(B(156,t.tag))};function bm(e,t){return th(e,t)}function d1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new d1(e,t,n,r)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f1(e){if(typeof e=="function")return lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ju)return 11;if(e===Tu)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wo(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")lc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Xn:return _n(n.children,i,o,t);case ku:s=8,i|=8;break;case da:return e=rt(12,n,t,i|2),e.elementType=da,e.lanes=o,e;case fa:return e=rt(13,n,t,i),e.elementType=fa,e.lanes=o,e;case pa:return e=rt(19,n,t,i),e.elementType=pa,e.lanes=o,e;case Dp:return Ws(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Op:s=10;break e;case $p:s=9;break e;case ju:s=11;break e;case Tu:s=14;break e;case Jt:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=rt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _n(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Ws(e,t,n,r){return e=rt(22,e,r,t),e.elementType=Dp,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function Ul(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ac(e,t,n,r,i,o,s,l,a){return e=new p1(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(o),e}function h1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Im(e){if(!e)return yn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Ih(e,n,t)}return t}function _m(e,t,n,r,i,o,s,l,a){return e=ac(n,r,!0,e,i,o,s,l,a),e.context=Im(null),n=e.current,r=$e(),i=pn(n),o=$t(r,i),o.callback=t??null,dn(n,o,i),e.current.lanes=i,Gi(e,i,r),We(e,r),e}function Gs(e,t,n,r){var i=t.current,o=$e(),s=pn(i);return n=Im(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(i,t,s),e!==null&&(gt(e,i,s,o),zo(e,i,s)),s}function ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uc(e,t){nf(e,t),(e=e.alternate)&&nf(e,t)}function m1(){return null}var Mm=typeof reportError=="function"?reportError:function(e){console.error(e)};function cc(e){this._internalRoot=e}Ys.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Gs(e,t,null,null)};Ys.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Gs(null,e,null,null)}),t[Ft]=null}};function Ys(e){this._internalRoot=e}Ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&ch(e)}};function dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rf(){}function g1(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ws(s);o.call(c)}}var s=_m(t,r,e,0,null,!1,!1,"",rf);return e._reactRootContainer=s,e[Ft]=s.current,ji(e.nodeType===8?e.parentNode:e),$n(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=ws(a);l.call(c)}}var a=ac(e,0,!1,null,null,!1,!1,"",rf);return e._reactRootContainer=a,e[Ft]=a.current,ji(e.nodeType===8?e.parentNode:e),$n(function(){Gs(t,a,n,r)}),a}function Qs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=ws(s);l.call(a)}}Gs(t,s,e,i)}else s=g1(n,t,e,i,r);return ws(s)}sh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ti(t.pendingLanes);n!==0&&(_u(t,n|1),We(t,we()),!(re&6)&&(kr=we()+500,wn()))}break;case 13:$n(function(){var r=Bt(e,1);if(r!==null){var i=$e();gt(r,e,1,i)}}),uc(e,1)}};Mu=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=$e();gt(t,e,134217728,n)}uc(e,134217728)}};lh=function(e){if(e.tag===13){var t=pn(e),n=Bt(e,t);if(n!==null){var r=$e();gt(n,e,t,r)}uc(e,t)}};ah=function(){return le};uh=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Ea=function(e,t,n){switch(t){case"input":if(ga(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zs(r);if(!i)throw Error(B(90));Fp(r),ga(r,i)}}}break;case"textarea":Hp(e,n);break;case"select":t=n.value,t!=null&&cr(e,!!n.multiple,t,!1)}};Qp=ic;Xp=$n;var y1={usingClientEntryPoint:!1,Events:[Ki,er,zs,Yp,Kp,ic]},Qr={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v1={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jp(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Ls=So.inject(v1),Et=So}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(t))throw Error(B(200));return h1(e,t,null,n)};Je.createRoot=function(e,t){if(!dc(e))throw Error(B(299));var n=!1,r="",i=Mm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ac(e,1,!1,null,null,n,!1,r,i),e[Ft]=t.current,ji(e.nodeType===8?e.parentNode:e),new cc(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Jp(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return $n(e)};Je.hydrate=function(e,t,n){if(!Ks(t))throw Error(B(200));return Qs(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!dc(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Mm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=_m(t,null,e,1,n??null,i,!1,o,s),e[Ft]=t.current,ji(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ys(t)};Je.render=function(e,t,n){if(!Ks(t))throw Error(B(200));return Qs(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Ks(e))throw Error(B(40));return e._reactRootContainer?($n(function(){Qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};Je.unstable_batchedUpdates=ic;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ks(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Qs(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(e){console.error(e)}}Rm(),Rp.exports=Je;var x1=Rp.exports,of=x1;ua.createRoot=of.createRoot,ua.hydrateRoot=of.hydrateRoot;function Ee(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ee(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var w1={value:()=>{}};function Xs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Go(n)}function Go(e){this._=e}function N1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Go.prototype=Xs.prototype={constructor:Go,on:function(e,t){var n=this._,r=N1(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=S1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=sf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=sf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Go(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function S1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function sf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=w1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var nu="http://www.w3.org/1999/xhtml";const lf={svg:"http://www.w3.org/2000/svg",xhtml:nu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lf.hasOwnProperty(t)?{space:lf[t],local:e}:e}function E1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nu&&t.documentElement.namespaceURI===nu?t.createElement(e):t.createElementNS(n,e)}}function C1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pm(e){var t=qs(e);return(t.local?C1:E1)(t)}function k1(){}function fc(e){return e==null?k1:function(){return this.querySelector(e)}}function j1(e){typeof e!="function"&&(e=fc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,c,f=0;f<s;++f)(a=o[f])&&(c=e.call(a,a.__data__,f,o))&&("__data__"in a&&(c.__data__=a.__data__),l[f]=c);return new Ze(r,this._parents)}function T1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function b1(){return[]}function Am(e){return e==null?b1:function(){return this.querySelectorAll(e)}}function I1(e){return function(){return T1(e.apply(this,arguments))}}function _1(e){typeof e=="function"?e=I1(e):e=Am(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new Ze(r,i)}function Lm(e){return function(){return this.matches(e)}}function Om(e){return function(t){return t.matches(e)}}var M1=Array.prototype.find;function R1(e){return function(){return M1.call(this.children,e)}}function P1(){return this.firstElementChild}function A1(e){return this.select(e==null?P1:R1(typeof e=="function"?e:Om(e)))}var L1=Array.prototype.filter;function O1(){return Array.from(this.children)}function $1(e){return function(){return L1.call(this.children,e)}}function D1(e){return this.selectAll(e==null?O1:$1(typeof e=="function"?e:Om(e)))}function z1(e){typeof e!="function"&&(e=Lm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Ze(r,this._parents)}function $m(e){return new Array(e.length)}function F1(){return new Ze(this._enter||this._groups.map($m),this._parents)}function Ns(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ns.prototype={constructor:Ns,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function B1(e){return function(){return e}}function H1(e,t,n,r,i,o){for(var s=0,l,a=t.length,c=o.length;s<c;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new Ns(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function V1(e,t,n,r,i,o,s){var l,a,c=new Map,f=t.length,d=o.length,p=new Array(f),v;for(l=0;l<f;++l)(a=t[l])&&(p[l]=v=s.call(a,a.__data__,l,t)+"",c.has(v)?i[l]=a:c.set(v,a));for(l=0;l<d;++l)v=s.call(e,o[l],l,o)+"",(a=c.get(v))?(r[l]=a,a.__data__=o[l],c.delete(v)):n[l]=new Ns(e,o[l]);for(l=0;l<f;++l)(a=t[l])&&c.get(p[l])===a&&(i[l]=a)}function U1(e){return e.__data__}function W1(e,t){if(!arguments.length)return Array.from(this,U1);var n=t?V1:H1,r=this._parents,i=this._groups;typeof e!="function"&&(e=B1(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),c=0;c<o;++c){var f=r[c],d=i[c],p=d.length,v=G1(e.call(f,f&&f.__data__,c,r)),y=v.length,w=l[c]=new Array(y),N=s[c]=new Array(y),h=a[c]=new Array(p);n(f,d,w,N,h,v,t);for(var g=0,m=0,x,S;g<y;++g)if(x=w[g]){for(g>=m&&(m=g+1);!(S=N[m])&&++m<y;);x._next=S||null}}return s=new Ze(s,r),s._enter=l,s._exit=a,s}function G1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y1(){return new Ze(this._exit||this._groups.map($m),this._parents)}function K1(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Q1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var c=n[a],f=r[a],d=c.length,p=l[a]=new Array(d),v,y=0;y<d;++y)(v=c[y]||f[y])&&(p[y]=v);for(;a<i;++a)l[a]=n[a];return new Ze(l,this._parents)}function X1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function q1(e){e||(e=Z1);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),c,f=0;f<l;++f)(c=s[f])&&(a[f]=c);a.sort(t)}return new Ze(i,this._parents).order()}function Z1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function J1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ew(){return Array.from(this)}function tw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function nw(){let e=0;for(const t of this)++e;return e}function rw(){return!this.node()}function iw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function ow(e){return function(){this.removeAttribute(e)}}function sw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lw(e,t){return function(){this.setAttribute(e,t)}}function aw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dw(e,t){var n=qs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?sw:ow:typeof t=="function"?n.local?cw:uw:n.local?aw:lw)(n,t))}function Dm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fw(e){return function(){this.style.removeProperty(e)}}function pw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function mw(e,t,n){return arguments.length>1?this.each((t==null?fw:typeof t=="function"?hw:pw)(e,t,n??"")):jr(this.node(),e)}function jr(e,t){return e.style.getPropertyValue(t)||Dm(e).getComputedStyle(e,null).getPropertyValue(t)}function gw(e){return function(){delete this[e]}}function yw(e,t){return function(){this[e]=t}}function vw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function xw(e,t){return arguments.length>1?this.each((t==null?gw:typeof t=="function"?vw:yw)(e,t)):this.node()[e]}function zm(e){return e.trim().split(/^|\s+/)}function pc(e){return e.classList||new Fm(e)}function Fm(e){this._node=e,this._names=zm(e.getAttribute("class")||"")}Fm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bm(e,t){for(var n=pc(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Hm(e,t){for(var n=pc(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function ww(e){return function(){Bm(this,e)}}function Nw(e){return function(){Hm(this,e)}}function Sw(e,t){return function(){(t.apply(this,arguments)?Bm:Hm)(this,e)}}function Ew(e,t){var n=zm(e+"");if(arguments.length<2){for(var r=pc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Sw:t?ww:Nw)(n,t))}function Cw(){this.textContent=""}function kw(e){return function(){this.textContent=e}}function jw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tw(e){return arguments.length?this.each(e==null?Cw:(typeof e=="function"?jw:kw)(e)):this.node().textContent}function bw(){this.innerHTML=""}function Iw(e){return function(){this.innerHTML=e}}function _w(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Mw(e){return arguments.length?this.each(e==null?bw:(typeof e=="function"?_w:Iw)(e)):this.node().innerHTML}function Rw(){this.nextSibling&&this.parentNode.appendChild(this)}function Pw(){return this.each(Rw)}function Aw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lw(){return this.each(Aw)}function Ow(e){var t=typeof e=="function"?e:Pm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $w(){return null}function Dw(e,t){var n=typeof e=="function"?e:Pm(e),r=t==null?$w:typeof t=="function"?t:fc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zw(){var e=this.parentNode;e&&e.removeChild(this)}function Fw(){return this.each(zw)}function Bw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Vw(e){return this.select(e?Hw:Bw)}function Uw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ww(e){return function(t){e.call(this,t,this.__data__)}}function Gw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Yw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Kw(e,t,n){return function(){var r=this.__on,i,o=Ww(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Qw(e,t,n){var r=Gw(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,f;a<c;++a)for(i=0,f=l[a];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?Kw:Yw,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function Vm(e,t,n){var r=Dm(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Xw(e,t){return function(){return Vm(this,e,t)}}function qw(e,t){return function(){return Vm(this,e,t.apply(this,arguments))}}function Zw(e,t){return this.each((typeof t=="function"?qw:Xw)(e,t))}function*Jw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Um=[null];function Ze(e,t){this._groups=e,this._parents=t}function Xi(){return new Ze([[document.documentElement]],Um)}function eN(){return this}Ze.prototype=Xi.prototype={constructor:Ze,select:j1,selectAll:_1,selectChild:A1,selectChildren:D1,filter:z1,data:W1,enter:F1,exit:Y1,join:K1,merge:Q1,selection:eN,order:X1,sort:q1,call:J1,nodes:ew,node:tw,size:nw,empty:rw,each:iw,attr:dw,style:mw,property:xw,classed:Ew,text:Tw,html:Mw,raise:Pw,lower:Lw,append:Ow,insert:Dw,remove:Fw,clone:Vw,datum:Uw,on:Qw,dispatch:Zw,[Symbol.iterator]:Jw};function Ke(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],Um)}function tN(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ct(e,t){if(e=tN(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const nN={passive:!1},Li={capture:!0,passive:!1};function Wl(e){e.stopImmediatePropagation()}function gr(e){e.preventDefault(),e.stopImmediatePropagation()}function Wm(e){var t=e.document.documentElement,n=Ke(e).on("dragstart.drag",gr,Li);"onselectstart"in t?n.on("selectstart.drag",gr,Li):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Gm(e,t){var n=e.document.documentElement,r=Ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",gr,Li),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Eo=e=>()=>e;function ru(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}ru.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function rN(e){return!e.ctrlKey&&!e.button}function iN(){return this.parentNode}function oN(e,t){return t??{x:e.x,y:e.y}}function sN(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ym(){var e=rN,t=iN,n=oN,r=sN,i={},o=Xs("start","drag","end"),s=0,l,a,c,f,d=0;function p(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",N).on("touchmove.drag",h,nN).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,S){if(!(f||!e.call(this,x,S))){var E=m(this,t.call(this,x,S),x,S,"mouse");E&&(Ke(x.view).on("mousemove.drag",y,Li).on("mouseup.drag",w,Li),Wm(x.view),Wl(x),c=!1,l=x.clientX,a=x.clientY,E("start",x))}}function y(x){if(gr(x),!c){var S=x.clientX-l,E=x.clientY-a;c=S*S+E*E>d}i.mouse("drag",x)}function w(x){Ke(x.view).on("mousemove.drag mouseup.drag",null),Gm(x.view,c),gr(x),i.mouse("end",x)}function N(x,S){if(e.call(this,x,S)){var E=x.changedTouches,C=t.call(this,x,S),b=E.length,R,O;for(R=0;R<b;++R)(O=m(this,C,x,S,E[R].identifier,E[R]))&&(Wl(x),O("start",x,E[R]))}}function h(x){var S=x.changedTouches,E=S.length,C,b;for(C=0;C<E;++C)(b=i[S[C].identifier])&&(gr(x),b("drag",x,S[C]))}function g(x){var S=x.changedTouches,E=S.length,C,b;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),C=0;C<E;++C)(b=i[S[C].identifier])&&(Wl(x),b("end",x,S[C]))}function m(x,S,E,C,b,R){var O=o.copy(),P=ct(R||E,S),A,F,j;if((j=n.call(x,new ru("beforestart",{sourceEvent:E,target:p,identifier:b,active:s,x:P[0],y:P[1],dx:0,dy:0,dispatch:O}),C))!=null)return A=j.x-P[0]||0,F=j.y-P[1]||0,function M(_,$,k){var T=P,L;switch(_){case"start":i[b]=M,L=s++;break;case"end":delete i[b],--s;case"drag":P=ct(k||$,S),L=s;break}O.call(_,x,new ru(_,{sourceEvent:$,subject:j,target:p,identifier:b,active:L,x:P[0]+A,y:P[1]+F,dx:P[0]-T[0],dy:P[1]-T[1],dispatch:O}),C)}}return p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Eo(!!x),p):e},p.container=function(x){return arguments.length?(t=typeof x=="function"?x:Eo(x),p):t},p.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Eo(x),p):n},p.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Eo(!!x),p):r},p.on=function(){var x=o.on.apply(o,arguments);return x===o?p:x},p.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,p):Math.sqrt(d)},p}function hc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Km(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qi(){}var Oi=.7,Ss=1/Oi,yr="\\s*([+-]?\\d+)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lN=/^#([0-9a-f]{3,8})$/,aN=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),uN=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),cN=new RegExp(`^rgba\\(${yr},${yr},${yr},${$i}\\)$`),dN=new RegExp(`^rgba\\(${kt},${kt},${kt},${$i}\\)$`),fN=new RegExp(`^hsl\\(${$i},${kt},${kt}\\)$`),pN=new RegExp(`^hsla\\(${$i},${kt},${kt},${$i}\\)$`),af={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hc(qi,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uf,formatHex:uf,formatHex8:hN,formatHsl:mN,formatRgb:cf,toString:cf});function uf(){return this.rgb().formatHex()}function hN(){return this.rgb().formatHex8()}function mN(){return Qm(this).formatHsl()}function cf(){return this.rgb().formatRgb()}function Dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?df(t):n===3?new He(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Co(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Co(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aN.exec(e))?new He(t[1],t[2],t[3],1):(t=uN.exec(e))?new He(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cN.exec(e))?Co(t[1],t[2],t[3],t[4]):(t=dN.exec(e))?Co(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fN.exec(e))?hf(t[1],t[2]/100,t[3]/100,1):(t=pN.exec(e))?hf(t[1],t[2]/100,t[3]/100,t[4]):af.hasOwnProperty(e)?df(af[e]):e==="transparent"?new He(NaN,NaN,NaN,0):null}function df(e){return new He(e>>16&255,e>>8&255,e&255,1)}function Co(e,t,n,r){return r<=0&&(e=t=n=NaN),new He(e,t,n,r)}function gN(e){return e instanceof qi||(e=Dn(e)),e?(e=e.rgb(),new He(e.r,e.g,e.b,e.opacity)):new He}function iu(e,t,n,r){return arguments.length===1?gN(e):new He(e,t,n,r??1)}function He(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hc(He,iu,Km(qi,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oi:Math.pow(Oi,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new He(Mn(this.r),Mn(this.g),Mn(this.b),Es(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ff,formatHex:ff,formatHex8:yN,formatRgb:pf,toString:pf}));function ff(){return`#${bn(this.r)}${bn(this.g)}${bn(this.b)}`}function yN(){return`#${bn(this.r)}${bn(this.g)}${bn(this.b)}${bn((isNaN(this.opacity)?1:this.opacity)*255)}`}function pf(){const e=Es(this.opacity);return`${e===1?"rgb(":"rgba("}${Mn(this.r)}, ${Mn(this.g)}, ${Mn(this.b)}${e===1?")":`, ${e})`}`}function Es(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bn(e){return e=Mn(e),(e<16?"0":"")+e.toString(16)}function hf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ft(e,t,n,r)}function Qm(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);if(e instanceof qi||(e=Dn(e)),!e)return new ft;if(e instanceof ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new ft(s,l,a,e.opacity)}function vN(e,t,n,r){return arguments.length===1?Qm(e):new ft(e,t,n,r??1)}function ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hc(ft,vN,Km(qi,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oi:Math.pow(Oi,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new He(Gl(e>=240?e-240:e+120,i,r),Gl(e,i,r),Gl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ft(mf(this.h),ko(this.s),ko(this.l),Es(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Es(this.opacity);return`${e===1?"hsl(":"hsla("}${mf(this.h)}, ${ko(this.s)*100}%, ${ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mf(e){return e=(e||0)%360,e<0?e+360:e}function ko(e){return Math.max(0,Math.min(1,e||0))}function Gl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mc=e=>()=>e;function xN(e,t){return function(n){return e+n*t}}function wN(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function NN(e){return(e=+e)==1?Xm:function(t,n){return n-t?wN(t,n,e):mc(isNaN(t)?n:t)}}function Xm(e,t){var n=t-e;return n?xN(e,n):mc(isNaN(e)?t:e)}const Cs=function e(t){var n=NN(t);function r(i,o){var s=n((i=iu(i)).r,(o=iu(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),c=Xm(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=a(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function SN(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function EN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CN(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=mi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function kN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jN(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(ou.source,"g");function TN(e){return function(){return e}}function bN(e){return function(t){return e(t)+""}}function qm(e,t){var n=ou.lastIndex=Yl.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=ou.exec(e))&&(i=Yl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:Nt(r,i)})),n=Yl.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?bN(a[0].x):TN(t):(t=a.length,function(c){for(var f=0,d;f<t;++f)l[(d=a[f]).i]=d.x(c);return l.join("")})}function mi(e,t){var n=typeof t,r;return t==null||n==="boolean"?mc(t):(n==="number"?Nt:n==="string"?(r=Dn(t))?(t=r,Cs):qm:t instanceof Dn?Cs:t instanceof Date?kN:EN(t)?SN:Array.isArray(t)?CN:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jN:Nt)(e,t)}var gf=180/Math.PI,su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zm(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*gf,skewX:Math.atan(a)*gf,scaleX:s,scaleY:l}}var jo;function IN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?su:Zm(t.a,t.b,t.c,t.d,t.e,t.f)}function _N(e){return e==null||(jo||(jo=document.createElementNS("http://www.w3.org/2000/svg","g")),jo.setAttribute("transform",e),!(e=jo.transform.baseVal.consolidate()))?su:(e=e.matrix,Zm(e.a,e.b,e.c,e.d,e.e,e.f))}function Jm(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,d,p,v,y){if(c!==d||f!==p){var w=v.push("translate(",null,t,null,n);y.push({i:w-4,x:Nt(c,d)},{i:w-2,x:Nt(f,p)})}else(d||p)&&v.push("translate("+d+t+p+n)}function s(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Nt(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function l(c,f,d,p){c!==f?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Nt(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function a(c,f,d,p,v,y){if(c!==d||f!==p){var w=v.push(i(v)+"scale(",null,",",null,")");y.push({i:w-4,x:Nt(c,d)},{i:w-2,x:Nt(f,p)})}else(d!==1||p!==1)&&v.push(i(v)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,d,p),s(c.rotate,f.rotate,d,p),l(c.skewX,f.skewX,d,p),a(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(v){for(var y=-1,w=p.length,N;++y<w;)d[(N=p[y]).i]=N.x(v);return d.join("")}}}var MN=Jm(IN,"px, ","px)","deg)"),RN=Jm(_N,", ",")",")"),PN=1e-12;function yf(e){return((e=Math.exp(e))+1/e)/2}function AN(e){return((e=Math.exp(e))-1/e)/2}function LN(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yo=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],c=o[2],f=s[0],d=s[1],p=s[2],v=f-l,y=d-a,w=v*v+y*y,N,h;if(w<PN)h=Math.log(p/c)/t,N=function(C){return[l+C*v,a+C*y,c*Math.exp(t*C*h)]};else{var g=Math.sqrt(w),m=(p*p-c*c+r*w)/(2*c*n*g),x=(p*p-c*c-r*w)/(2*p*n*g),S=Math.log(Math.sqrt(m*m+1)-m),E=Math.log(Math.sqrt(x*x+1)-x);h=(E-S)/t,N=function(C){var b=C*h,R=yf(S),O=c/(n*g)*(R*LN(t*b+S)-AN(S));return[l+O*v,a+O*y,c*R/yf(t*b+S)]}}return N.duration=h*1e3*t/Math.SQRT2,N}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Tr=0,ri=0,Xr=0,eg=1e3,ks,ii,js=0,zn=0,Zs=0,Di=typeof performance=="object"&&performance.now?performance:Date,tg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gc(){return zn||(tg(ON),zn=Di.now()+Zs)}function ON(){zn=0}function Ts(){this._call=this._time=this._next=null}Ts.prototype=ng.prototype={constructor:Ts,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gc():+n)+(t==null?0:+t),!this._next&&ii!==this&&(ii?ii._next=this:ks=this,ii=this),this._call=e,this._time=n,lu()},stop:function(){this._call&&(this._call=null,this._time=1/0,lu())}};function ng(e,t,n){var r=new Ts;return r.restart(e,t,n),r}function $N(){gc(),++Tr;for(var e=ks,t;e;)(t=zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tr}function vf(){zn=(js=Di.now())+Zs,Tr=ri=0;try{$N()}finally{Tr=0,zN(),zn=0}}function DN(){var e=Di.now(),t=e-js;t>eg&&(Zs-=t,js=e)}function zN(){for(var e,t=ks,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ks=n);ii=e,lu(r)}function lu(e){if(!Tr){ri&&(ri=clearTimeout(ri));var t=e-zn;t>24?(e<1/0&&(ri=setTimeout(vf,e-Di.now()-Zs)),Xr&&(Xr=clearInterval(Xr))):(Xr||(js=Di.now(),Xr=setInterval(DN,eg)),Tr=1,tg(vf))}}function xf(e,t,n){var r=new Ts;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var FN=Xs("start","end","cancel","interrupt"),BN=[],rg=0,wf=1,au=2,Ko=3,Nf=4,uu=5,Qo=6;function Js(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;HN(e,n,{name:t,index:r,group:i,on:FN,tween:BN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:rg})}function yc(e,t){var n=vt(e,t);if(n.state>rg)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=vt(e,t);if(n.state>Ko)throw new Error("too late; already running");return n}function vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HN(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ng(o,0,n.time);function o(c){n.state=wf,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,d,p,v;if(n.state!==wf)return a();for(f in r)if(v=r[f],v.name===n.name){if(v.state===Ko)return xf(s);v.state===Nf?(v.state=Qo,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[f]):+f<t&&(v.state=Qo,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[f])}if(xf(function(){n.state===Ko&&(n.state=Nf,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=au,n.on.call("start",e,e.__data__,n.index,n.group),n.state===au){for(n.state=Ko,i=new Array(p=n.tween.length),f=0,d=-1;f<p;++f)(v=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=v);i.length=d+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=uu,1),d=-1,p=i.length;++d<p;)i[d].call(e,f);n.state===uu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Qo,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Xo(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>au&&r.state<uu,r.state=Qo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function VN(e){return this.each(function(){Xo(this,e)})}function UN(e,t){var n,r;return function(){var i=bt(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function WN(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=bt(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===t){i[a]=l;break}a===c&&i.push(l)}o.tween=i}}function GN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=vt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?UN:WN)(n,e,t))}function vc(e,t,n){var r=e._id;return e.each(function(){var i=bt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return vt(i,r).value[t]}}function ig(e,t){var n;return(typeof t=="number"?Nt:t instanceof Dn?Cs:(n=Dn(t))?(t=n,Cs):qm)(e,t)}function YN(e){return function(){this.removeAttribute(e)}}function KN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QN(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function XN(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function qN(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function ZN(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function JN(e,t){var n=qs(e),r=n==="transform"?RN:ig;return this.attrTween(e,typeof t=="function"?(n.local?ZN:qN)(n,r,vc(this,"attr."+e,t)):t==null?(n.local?KN:YN)(n):(n.local?XN:QN)(n,r,t))}function eS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tS(e,o)),n}return i._value=t,i}function rS(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&eS(e,o)),n}return i._value=t,i}function iS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=qs(e);return this.tween(n,(r.local?nS:rS)(r,t))}function oS(e,t){return function(){yc(this,e).delay=+t.apply(this,arguments)}}function sS(e,t){return t=+t,function(){yc(this,e).delay=t}}function lS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oS:sS)(t,e)):vt(this.node(),t).delay}function aS(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function uS(e,t){return t=+t,function(){bt(this,e).duration=t}}function cS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aS:uS)(t,e)):vt(this.node(),t).duration}function dS(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function fS(e){var t=this._id;return arguments.length?this.each(dS(t,e)):vt(this.node(),t).ease}function pS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function hS(e){if(typeof e!="function")throw new Error;return this.each(pS(this._id,e))}function mS(e){typeof e!="function"&&(e=Lm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Vt(r,this._parents,this._name,this._id)}function gS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],c=n[l],f=a.length,d=s[l]=new Array(f),p,v=0;v<f;++v)(p=a[v]||c[v])&&(d[v]=p);for(;l<r;++l)s[l]=t[l];return new Vt(s,this._parents,this._name,this._id)}function yS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vS(e,t,n){var r,i,o=yS(t)?yc:bt;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function xS(e,t){var n=this._id;return arguments.length<2?vt(this.node(),n).on.on(e):this.each(vS(n,e,t))}function wS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NS(){return this.on("end.remove",wS(this._id))}function SS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=fc(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,c=o[s]=new Array(a),f,d,p=0;p<a;++p)(f=l[p])&&(d=e.call(f,f.__data__,p,l))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d,Js(c[p],t,n,p,c,vt(f,n)));return new Vt(o,this._parents,t,n)}function ES(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Am(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],c=a.length,f,d=0;d<c;++d)if(f=a[d]){for(var p=e.call(f,f.__data__,d,a),v,y=vt(f,n),w=0,N=p.length;w<N;++w)(v=p[w])&&Js(v,t,n,w,p,y);o.push(p),s.push(f)}return new Vt(o,s,t,n)}var CS=Xi.prototype.constructor;function kS(){return new CS(this._groups,this._parents)}function jS(e,t){var n,r,i;return function(){var o=jr(this,e),s=(this.style.removeProperty(e),jr(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function og(e){return function(){this.style.removeProperty(e)}}function TS(e,t,n){var r,i=n+"",o;return function(){var s=jr(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function bS(e,t,n){var r,i,o;return function(){var s=jr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),jr(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function IS(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=bt(this,e),c=a.on,f=a.value[o]==null?l||(l=og(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),a.on=r}}function _S(e,t,n){var r=(e+="")=="transform"?MN:ig;return t==null?this.styleTween(e,jS(e,r)).on("end.style."+e,og(e)):typeof t=="function"?this.styleTween(e,bS(e,r,vc(this,"style."+e,t))).each(IS(this._id,e)):this.styleTween(e,TS(e,r,t),n).on("end.style."+e,null)}function MS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function RS(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&MS(e,s,n)),r}return o._value=t,o}function PS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,RS(e,t,n??""))}function AS(e){return function(){this.textContent=e}}function LS(e){return function(){var t=e(this);this.textContent=t??""}}function OS(e){return this.tween("text",typeof e=="function"?LS(vc(this,"text",e)):AS(e==null?"":e+""))}function $S(e){return function(t){this.textContent=e.call(this,t)}}function DS(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$S(i)),t}return r._value=e,r}function zS(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DS(e))}function FS(){for(var e=this._name,t=this._id,n=sg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,c=0;c<l;++c)if(a=s[c]){var f=vt(a,t);Js(a,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vt(r,this._parents,e,n)}function BS(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var c=bt(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),c.on=t}),i===0&&o()})}var HS=0;function Vt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function sg(){return++HS}var _t=Xi.prototype;Vt.prototype={constructor:Vt,select:SS,selectAll:ES,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:mS,merge:gS,selection:kS,transition:FS,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:xS,attr:JN,attrTween:iS,style:_S,styleTween:PS,text:OS,textTween:zS,remove:NS,tween:GN,delay:lS,duration:cS,ease:fS,easeVarying:hS,end:BS,[Symbol.iterator]:_t[Symbol.iterator]};function VS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var US={time:null,delay:0,duration:250,ease:VS};function WS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function GS(e){var t,n;e instanceof Vt?(t=e._id,e=e._name):(t=sg(),(n=US).time=gc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,c=0;c<l;++c)(a=s[c])&&Js(a,e,t,c,s,n||WS(a,t));return new Vt(r,this._parents,e,t)}Xi.prototype.interrupt=VN;Xi.prototype.transition=GS;const To=e=>()=>e;function YS(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Lt(e,t,n){this.k=e,this.x=t,this.y=n}Lt.prototype={constructor:Lt,scale:function(e){return e===1?this:new Lt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Lt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var el=new Lt(1,0,0);lg.prototype=Lt.prototype;function lg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return el;return e.__zoom}function Kl(e){e.stopImmediatePropagation()}function qr(e){e.preventDefault(),e.stopImmediatePropagation()}function KS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function QS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Sf(){return this.__zoom||el}function XS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function qS(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ag(){var e=KS,t=QS,n=ZS,r=XS,i=qS,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Yo,c=Xs("start","zoom","end"),f,d,p,v=500,y=150,w=0,N=10;function h(j){j.property("__zoom",Sf).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(j,M,_,$){var k=j.selection?j.selection():j;k.property("__zoom",Sf),j!==k?S(j,M,_,$):k.interrupt().each(function(){E(this,arguments).event($).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},h.scaleBy=function(j,M,_,$){h.scaleTo(j,function(){var k=this.__zoom.k,T=typeof M=="function"?M.apply(this,arguments):M;return k*T},_,$)},h.scaleTo=function(j,M,_,$){h.transform(j,function(){var k=t.apply(this,arguments),T=this.__zoom,L=_==null?x(k):typeof _=="function"?_.apply(this,arguments):_,D=T.invert(L),z=typeof M=="function"?M.apply(this,arguments):M;return n(m(g(T,z),L,D),k,s)},_,$)},h.translateBy=function(j,M,_,$){h.transform(j,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof _=="function"?_.apply(this,arguments):_),t.apply(this,arguments),s)},null,$)},h.translateTo=function(j,M,_,$,k){h.transform(j,function(){var T=t.apply(this,arguments),L=this.__zoom,D=$==null?x(T):typeof $=="function"?$.apply(this,arguments):$;return n(el.translate(D[0],D[1]).scale(L.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof _=="function"?-_.apply(this,arguments):-_),T,s)},$,k)};function g(j,M){return M=Math.max(o[0],Math.min(o[1],M)),M===j.k?j:new Lt(M,j.x,j.y)}function m(j,M,_){var $=M[0]-_[0]*j.k,k=M[1]-_[1]*j.k;return $===j.x&&k===j.y?j:new Lt(j.k,$,k)}function x(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function S(j,M,_,$){j.on("start.zoom",function(){E(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event($).end()}).tween("zoom",function(){var k=this,T=arguments,L=E(k,T).event($),D=t.apply(k,T),z=_==null?x(D):typeof _=="function"?_.apply(k,T):_,H=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=k.__zoom,Y=typeof M=="function"?M.apply(k,T):M,K=a(V.invert(z).concat(H/V.k),Y.invert(z).concat(H/Y.k));return function(Q){if(Q===1)Q=Y;else{var W=K(Q),X=H/W[2];Q=new Lt(X,z[0]-W[0]*X,z[1]-W[1]*X)}L.zoom(null,Q)}})}function E(j,M,_){return!_&&j.__zooming||new C(j,M)}function C(j,M){this.that=j,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,M),this.taps=0}C.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,M){return this.mouse&&j!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var M=Ke(this.that).datum();c.call(j,this.that,new YS(j,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:c}),M)}};function b(j,...M){if(!e.apply(this,arguments))return;var _=E(this,M).event(j),$=this.__zoom,k=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),T=ct(j);if(_.wheel)(_.mouse[0][0]!==T[0]||_.mouse[0][1]!==T[1])&&(_.mouse[1]=$.invert(_.mouse[0]=T)),clearTimeout(_.wheel);else{if($.k===k)return;_.mouse=[T,$.invert(T)],Xo(this),_.start()}qr(j),_.wheel=setTimeout(L,y),_.zoom("mouse",n(m(g($,k),_.mouse[0],_.mouse[1]),_.extent,s));function L(){_.wheel=null,_.end()}}function R(j,...M){if(p||!e.apply(this,arguments))return;var _=j.currentTarget,$=E(this,M,!0).event(j),k=Ke(j.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",H,!0),T=ct(j,_),L=j.clientX,D=j.clientY;Wm(j.view),Kl(j),$.mouse=[T,this.__zoom.invert(T)],Xo(this),$.start();function z(V){if(qr(V),!$.moved){var Y=V.clientX-L,K=V.clientY-D;$.moved=Y*Y+K*K>w}$.event(V).zoom("mouse",n(m($.that.__zoom,$.mouse[0]=ct(V,_),$.mouse[1]),$.extent,s))}function H(V){k.on("mousemove.zoom mouseup.zoom",null),Gm(V.view,$.moved),qr(V),$.event(V).end()}}function O(j,...M){if(e.apply(this,arguments)){var _=this.__zoom,$=ct(j.changedTouches?j.changedTouches[0]:j,this),k=_.invert($),T=_.k*(j.shiftKey?.5:2),L=n(m(g(_,T),$,k),t.apply(this,M),s);qr(j),l>0?Ke(this).transition().duration(l).call(S,L,$,j):Ke(this).call(h.transform,L,$,j)}}function P(j,...M){if(e.apply(this,arguments)){var _=j.touches,$=_.length,k=E(this,M,j.changedTouches.length===$).event(j),T,L,D,z;for(Kl(j),L=0;L<$;++L)D=_[L],z=ct(D,this),z=[z,this.__zoom.invert(z),D.identifier],k.touch0?!k.touch1&&k.touch0[2]!==z[2]&&(k.touch1=z,k.taps=0):(k.touch0=z,T=!0,k.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(k.taps<2&&(d=z[0],f=setTimeout(function(){f=null},v)),Xo(this),k.start())}}function A(j,...M){if(this.__zooming){var _=E(this,M).event(j),$=j.changedTouches,k=$.length,T,L,D,z;for(qr(j),T=0;T<k;++T)L=$[T],D=ct(L,this),_.touch0&&_.touch0[2]===L.identifier?_.touch0[0]=D:_.touch1&&_.touch1[2]===L.identifier&&(_.touch1[0]=D);if(L=_.that.__zoom,_.touch1){var H=_.touch0[0],V=_.touch0[1],Y=_.touch1[0],K=_.touch1[1],Q=(Q=Y[0]-H[0])*Q+(Q=Y[1]-H[1])*Q,W=(W=K[0]-V[0])*W+(W=K[1]-V[1])*W;L=g(L,Math.sqrt(Q/W)),D=[(H[0]+Y[0])/2,(H[1]+Y[1])/2],z=[(V[0]+K[0])/2,(V[1]+K[1])/2]}else if(_.touch0)D=_.touch0[0],z=_.touch0[1];else return;_.zoom("touch",n(m(L,D,z),_.extent,s))}}function F(j,...M){if(this.__zooming){var _=E(this,M).event(j),$=j.changedTouches,k=$.length,T,L;for(Kl(j),p&&clearTimeout(p),p=setTimeout(function(){p=null},v),T=0;T<k;++T)L=$[T],_.touch0&&_.touch0[2]===L.identifier?delete _.touch0:_.touch1&&_.touch1[2]===L.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(L=ct(L,this),Math.hypot(d[0]-L[0],d[1]-L[1])<N)){var D=Ke(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return h.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:To(+j),h):r},h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:To(!!j),h):e},h.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:To(!!j),h):i},h.extent=function(j){return arguments.length?(t=typeof j=="function"?j:To([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),h):t},h.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],h):[o[0],o[1]]},h.translateExtent=function(j){return arguments.length?(s[0][0]=+j[0][0],s[1][0]=+j[1][0],s[0][1]=+j[0][1],s[1][1]=+j[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(j){return arguments.length?(n=j,h):n},h.duration=function(j){return arguments.length?(l=+j,h):l},h.interpolate=function(j){return arguments.length?(a=j,h):a},h.on=function(){var j=c.on.apply(c,arguments);return j===c?h:j},h.clickDistance=function(j){return arguments.length?(w=(j=+j)*j,h):Math.sqrt(w)},h.tapDistance=function(j){return arguments.length?(N=+j,h):N},h}const jt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},zi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ug=["Enter"," ","Escape"],cg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var br;(function(e){e.Strict="strict",e.Loose="loose"})(br||(br={}));var Rn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rn||(Rn={}));var Fi;(function(e){e.Partial="partial",e.Full="full"})(Fi||(Fi={}));const dg={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(rn||(rn={}));var bs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bs||(bs={}));var U;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(U||(U={}));const Ef={[U.Left]:U.Right,[U.Right]:U.Left,[U.Top]:U.Bottom,[U.Bottom]:U.Top};function fg(e){return e===null?null:e?"valid":"invalid"}const pg=e=>"id"in e&&"source"in e&&"target"in e,JS=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),xc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Zi=(e,t=[0,0])=>{const{width:n,height:r}=Gt(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},eE=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):xc(i)?i:t.nodeLookup.get(i.id));const l=s?Is(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return tl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nl(n)},Ji=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=tl(n,Is(i)),r=!0)}),r?nl(n):{x:0,y:0,width:0,height:0}},wc=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const l={...to(t,[n,r,i]),width:t.width/i,height:t.height/i},a=[];for(const c of e.values()){const{measured:f,selectable:d=!0,hidden:p=!1}=c;if(s&&!d||p)continue;const v=f.width??c.width??c.initialWidth??null,y=f.height??c.height??c.initialHeight??null,w=Bi(l,_r(c)),N=(v??0)*(y??0),h=o&&w>0;(!c.internals.handleBounds||h||w>=N||c.dragging)&&a.push(c)}return a},tE=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function nE(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function rE({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const l=nE(e,s),a=Ji(l),c=Nc(a,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function hg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let d=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!l)o==null||o("005",jt.error005());else{const v=l.measured.width,y=l.measured.height;v&&y&&(d=[[a,c],[a+v,c+y]])}else l&&Mr(s.extent)&&(d=[[s.extent[0][0]+a,s.extent[0][1]+c],[s.extent[1][0]+a,s.extent[1][1]+c]]);const p=Mr(d)?Fn(t,d,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",jt.error015())),{position:{x:p.x-a+(s.measured.width??0)*f[0],y:p.y-c+(s.measured.height??0)*f[1]},positionAbsolute:p}}async function iE({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(p=>p.id)),s=[];for(const p of n){if(p.deletable===!1)continue;const v=o.has(p.id),y=!v&&p.parentId&&s.find(w=>w.id===p.parentId);(v||y)&&s.push(p)}const l=new Set(t.map(p=>p.id)),a=r.filter(p=>p.deletable!==!1),f=tE(s,a);for(const p of a)l.has(p.id)&&!f.find(y=>y.id===p.id)&&f.push(p);if(!i)return{edges:f,nodes:s};const d=await i({nodes:s,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const Ir=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Fn=(e={x:0,y:0},t,n)=>({x:Ir(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ir(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function mg(e,t,n){const{width:r,height:i}=Gt(n),{x:o,y:s}=n.internals.positionAbsolute;return Fn(e,[[o,s],[o+r,s+i]],t)}const Cf=(e,t,n)=>e<t?Ir(Math.abs(e-t),1,t)/t:e>n?-Ir(Math.abs(e-n),1,t)/t:0,gg=(e,t,n=15,r=40)=>{const i=Cf(e.x,r,t.width-r)*n,o=Cf(e.y,r,t.height-r)*n;return[i,o]},tl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),cu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),nl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),_r=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=xc(e)?e.internals.positionAbsolute:Zi(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Is=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=xc(e)?e.internals.positionAbsolute:Zi(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},yg=(e,t)=>nl(tl(cu(e),cu(t))),Bi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kf=e=>pt(e.width)&&pt(e.height)&&pt(e.x)&&pt(e.y),pt=e=>!isNaN(e)&&isFinite(e),oE=(e,t)=>{},eo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),to=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?eo(l,s):l},_s=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Yn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function sE(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Yn(e,n),i=Yn(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Yn(e.top??e.y??0,n),i=Yn(e.bottom??e.y??0,n),o=Yn(e.left??e.x??0,t),s=Yn(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function lE(e,t,n,r,i,o){const{x:s,y:l}=_s(e,[t,n,r]),{x:a,y:c}=_s({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=i-a,d=o-c;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(d)}}const Nc=(e,t,n,r,i,o)=>{const s=sE(o,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,c=Math.min(l,a),f=Ir(c,r,i),d=e.x+e.width/2,p=e.y+e.height/2,v=t/2-d*f,y=n/2-p*f,w=lE(e,v,y,f,t,n),N={left:Math.min(w.left-s.left,0),top:Math.min(w.top-s.top,0),right:Math.min(w.right-s.right,0),bottom:Math.min(w.bottom-s.bottom,0)};return{x:v-N.left+N.right,y:y-N.top+N.bottom,zoom:f}},Hi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Mr(e){return e!=null&&e!=="parent"}function Gt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function vg(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function xg(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const l=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return o}function jf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function aE(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function uE(e){return{...cg,...e||{}}}function gi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=ht(e),l=to({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:a,y:c}=n?eo(l,t):l;return{xSnapped:a,ySnapped:c,...l}}const Sc=e=>({width:e.offsetWidth,height:e.offsetHeight}),wg=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},cE=["INPUT","SELECT","TEXTAREA"];function Ng(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:cE.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Sg=e=>"clientX"in e,ht=(e,t)=>{var o,s;const n=Sg(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Tf=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Sc(s)}})};function Eg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+l*.375+r*.125,f=Math.abs(a-e),d=Math.abs(c-t);return[a,c,f,d]}function bo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bf({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case U.Left:return[t-bo(t-r,o),n];case U.Right:return[t+bo(r-t,o),n];case U.Top:return[t,n-bo(n-i,o)];case U.Bottom:return[t,n+bo(i-n,o)]}}function Cg({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top,curvature:s=.25}){const[l,a]=bf({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,f]=bf({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,p,v,y]=Eg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:f});return[`M${e},${t} C${l},${a} ${c},${f} ${r},${i}`,d,p,v,y]}function kg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function dE({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,l=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+l}function fE({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=tl(Is(e),Is(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Bi(s,nl(o))>0}const pE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,hE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),jg=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||pE;let i;return pg(e)?i={...e}:i={...e,id:r(e)},hE(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Tg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=kg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const If={[U.Left]:{x:-1,y:0},[U.Right]:{x:1,y:0},[U.Top]:{x:0,y:-1},[U.Bottom]:{x:0,y:1}},mE=({source:e,sourcePosition:t=U.Bottom,target:n})=>t===U.Left||t===U.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_f=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function gE({source:e,sourcePosition:t=U.Bottom,target:n,targetPosition:r=U.Top,center:i,offset:o,stepPosition:s}){const l=If[t],a=If[r],c={x:e.x+l.x*o,y:e.y+l.y*o},f={x:n.x+a.x*o,y:n.y+a.y*o},d=mE({source:c,sourcePosition:t,target:f}),p=d.x!==0?"x":"y",v=d[p];let y=[],w,N;const h={x:0,y:0},g={x:0,y:0},[,,m,x]=kg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[p]*a[p]===-1){p==="x"?(w=i.x??c.x+(f.x-c.x)*s,N=i.y??(c.y+f.y)/2):(w=i.x??(c.x+f.x)/2,N=i.y??c.y+(f.y-c.y)*s);const E=[{x:w,y:c.y},{x:w,y:f.y}],C=[{x:c.x,y:N},{x:f.x,y:N}];l[p]===v?y=p==="x"?E:C:y=p==="x"?C:E}else{const E=[{x:c.x,y:f.y}],C=[{x:f.x,y:c.y}];if(p==="x"?y=l.x===v?C:E:y=l.y===v?E:C,t===r){const A=Math.abs(e[p]-n[p]);if(A<=o){const F=Math.min(o-1,o-A);l[p]===v?h[p]=(c[p]>e[p]?-1:1)*F:g[p]=(f[p]>n[p]?-1:1)*F}}if(t!==r){const A=p==="x"?"y":"x",F=l[p]===a[A],j=c[A]>f[A],M=c[A]<f[A];(l[p]===1&&(!F&&j||F&&M)||l[p]!==1&&(!F&&M||F&&j))&&(y=p==="x"?E:C)}const b={x:c.x+h.x,y:c.y+h.y},R={x:f.x+g.x,y:f.y+g.y},O=Math.max(Math.abs(b.x-y[0].x),Math.abs(R.x-y[0].x)),P=Math.max(Math.abs(b.y-y[0].y),Math.abs(R.y-y[0].y));O>=P?(w=(b.x+R.x)/2,N=y[0].y):(w=y[0].x,N=(b.y+R.y)/2)}return[[e,{x:c.x+h.x,y:c.y+h.y},...y,{x:f.x+g.x,y:f.y+g.y},n],w,N,m,x]}function yE(e,t,n,r){const i=Math.min(_f(e,t)/2,_f(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function du({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top,borderRadius:s=5,centerX:l,centerY:a,offset:c=20,stepPosition:f=.5}){const[d,p,v,y,w]=gE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:c,stepPosition:f});return[d.reduce((h,g,m)=>{let x="";return m>0&&m<d.length-1?x=yE(d[m-1],g,d[m+1],s):x=`${m===0?"M":"L"}${g.x} ${g.y}`,h+=x,h},""),p,v,y,w]}function Mf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function vE(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Mf(t)||!Mf(n))return null;const r=t.internals.handleBounds||Rf(t.handles),i=n.internals.handleBounds||Rf(n.handles),o=Pf((r==null?void 0:r.source)??[],e.sourceHandle),s=Pf(e.connectionMode===br.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(d=e.onError)==null||d.call(e,"008",jt.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(o==null?void 0:o.position)||U.Bottom,a=(s==null?void 0:s.position)||U.Top,c=Bn(t,o,l),f=Bn(n,s,a);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Rf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Bn(e,t,n=U.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Gt(e);if(r)return{x:i+s/2,y:o+l/2};switch((t==null?void 0:t.position)??n){case U.Top:return{x:i+s/2,y:o};case U.Right:return{x:i+s,y:o+l/2};case U.Bottom:return{x:i+s/2,y:o+l};case U.Left:return{x:i,y:o+l/2}}}function Pf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function fu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function xE(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||i].forEach(a=>{if(a&&typeof a=="object"){const c=fu(a,t);o.has(c)||(s.push({id:c,color:a.color||n,...a}),o.add(c))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const bg=1e3,wE=10,Ec={nodeOrigin:[0,0],nodeExtent:zi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},NE={...Ec,checkEquality:!0};function Cc(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function SE(e,t,n){const r=Cc(Ec,n);for(const i of e.values())if(i.parentId)jc(i,e,t,r);else{const o=Zi(i,r.nodeOrigin),s=Mr(i.extent)?i.extent:r.nodeExtent,l=Fn(o,s,Gt(i));i.internals.positionAbsolute=l}}function EE(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function kc(e){return e==="manual"}function pu(e,t,n,r={}){var c,f;const i=Cc(NE,r),o={i:0},s=new Map(t),l=i!=null&&i.elevateNodesOnSelect&&!kc(i.zIndexMode)?bg:0;let a=e.length>0;t.clear(),n.clear();for(const d of e){let p=s.get(d.id);if(i.checkEquality&&d===(p==null?void 0:p.internals.userNode))t.set(d.id,p);else{const v=Zi(d,i.nodeOrigin),y=Mr(d.extent)?d.extent:i.nodeExtent,w=Fn(v,y,Gt(d));p={...i.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:w,handleBounds:EE(d,p),z:Ig(d,l,i.zIndexMode),userNode:d}},t.set(d.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(a=!1),d.parentId&&jc(p,t,n,r,o)}return a}function CE(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function jc(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Cc(Ec,r),c=e.parentId,f=t.get(c);if(!f){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}CE(e,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*wE),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const d=o&&!kc(a)?bg:0,{x:p,y:v,z:y}=kE(e,f,s,l,d,a),{positionAbsolute:w}=e.internals,N=p!==w.x||v!==w.y;(N||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:N?{x:p,y:v}:w,z:y}})}function Ig(e,t,n){const r=pt(e.zIndex)?e.zIndex:0;return kc(n)?r:r+(e.selected?t:0)}function kE(e,t,n,r,i,o){const{x:s,y:l}=t.internals.positionAbsolute,a=Gt(e),c=Zi(e,n),f=Mr(e.extent)?Fn(c,e.extent,a):c;let d=Fn({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(d=mg(d,a,t));const p=Ig(e,i,o),v=t.internals.z??0;return{x:d.x,y:d.y,z:v>=p?v+1:p}}function Tc(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const c=((s=o.get(l.parentId))==null?void 0:s.expandedRect)??_r(a),f=yg(c,l.rect);o.set(l.parentId,{expandedRect:f,parent:a})}return o.size>0&&o.forEach(({expandedRect:l,parent:a},c)=>{var m;const f=a.internals.positionAbsolute,d=Gt(a),p=a.origin??r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(d.width,Math.round(l.width)),N=Math.max(d.height,Math.round(l.height)),h=(w-d.width)*p[0],g=(N-d.height)*p[1];(v>0||y>0||h||g)&&(i.push({id:c,type:"position",position:{x:a.position.x-v+h,y:a.position.y-y+g}}),(m=n.get(c))==null||m.forEach(x=>{e.some(S=>S.id===x.id)||i.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+y}})})),(d.width<l.width||d.height<l.height||v||y)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?p[0]*v-h:0),height:N+(y?p[1]*y-g:0)}})}),i}function jE(e,t,n,r,i,o,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const c=[],f=window.getComputedStyle(l),{m22:d}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const v of e.values()){const y=t.get(v.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const w=Sc(v.nodeElement),N=y.measured.width!==w.width||y.measured.height!==w.height;if(!!(w.width&&w.height&&(N||!y.internals.handleBounds||v.force))){const g=v.nodeElement.getBoundingClientRect(),m=Mr(y.extent)?y.extent:o;let{positionAbsolute:x}=y.internals;y.parentId&&y.extent==="parent"?x=mg(x,w,t.get(y.parentId)):m&&(x=Fn(x,m,w));const S={...y,measured:w,internals:{...y.internals,positionAbsolute:x,handleBounds:{source:Tf("source",v.nodeElement,g,d,y.id),target:Tf("target",v.nodeElement,g,d,y.id)}}};t.set(y.id,S),y.parentId&&jc(S,t,n,{nodeOrigin:i,zIndexMode:s}),a=!0,N&&(c.push({id:y.id,type:"dimensions",dimensions:w}),y.expandParent&&y.parentId&&p.push({id:y.id,parentId:y.parentId,rect:_r(S,i)}))}}if(p.length>0){const v=Tc(p,t,n,i);c.push(...v)}return{changes:c,updatedInternals:a}}async function TE({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Af(e,t,n,r,i,o){let s=i;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${i}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function _g(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:l},c=`${i}-${s}--${o}-${l}`,f=`${o}-${l}--${i}-${s}`;Af("source",a,f,e,i,s),Af("target",a,c,e,o,l),t.set(r.id,r)}}function Mg(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Mg(n,t):!1}function Lf(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function bE(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Mg(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(o);l&&i.set(o,{id:o,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function Ql({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const i=[];for(const[c,f]of t){const d=(s=n.get(c))==null?void 0:s.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!e)return[i[0],i];const o=(l=n.get(e))==null?void 0:l.internals.userNode;return[o?{...o,position:((a=t.get(e))==null?void 0:a.position)||o.position,dragging:r}:i[0],i]}function IE({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=eo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function _E({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,l=new Map,a=!1,c={x:0,y:0},f=null,d=!1,p=null,v=!1,y=!1,w=null;function N({noDragClassName:g,handleSelector:m,domNode:x,isSelectable:S,nodeId:E,nodeClickDistance:C=0}){p=Ke(x);function b({x:A,y:F}){const{nodeLookup:j,nodeExtent:M,snapGrid:_,snapToGrid:$,nodeOrigin:k,onNodeDrag:T,onSelectionDrag:L,onError:D,updateNodePositions:z}=t();o={x:A,y:F};let H=!1;const V=l.size>1,Y=V&&M?cu(Ji(l)):null,K=V&&$?IE({dragItems:l,snapGrid:_,x:A,y:F}):null;for(const[Q,W]of l){if(!j.has(Q))continue;let X={x:A-W.distance.x,y:F-W.distance.y};$&&(X=K?{x:Math.round(X.x+K.x),y:Math.round(X.y+K.y)}:eo(X,_));let ee=null;if(V&&M&&!W.extent&&Y){const{positionAbsolute:q}=W.internals,oe=q.x-Y.x+M[0][0],ce=q.x+W.measured.width-Y.x2+M[1][0],ie=q.y-Y.y+M[0][1],Me=q.y+W.measured.height-Y.y2+M[1][1];ee=[[oe,ie],[ce,Me]]}const{position:J,positionAbsolute:Z}=hg({nodeId:Q,nextPosition:X,nodeLookup:j,nodeExtent:ee||M,nodeOrigin:k,onError:D});H=H||W.position.x!==J.x||W.position.y!==J.y,W.position=J,W.internals.positionAbsolute=Z}if(y=y||H,!!H&&(z(l,!0),w&&(r||T||!E&&L))){const[Q,W]=Ql({nodeId:E,dragItems:l,nodeLookup:j});r==null||r(w,l,Q,W),T==null||T(w,Q,W),E||L==null||L(w,W)}}async function R(){if(!f)return;const{transform:A,panBy:F,autoPanSpeed:j,autoPanOnNodeDrag:M}=t();if(!M){a=!1,cancelAnimationFrame(s);return}const[_,$]=gg(c,f,j);(_!==0||$!==0)&&(o.x=(o.x??0)-_/A[2],o.y=(o.y??0)-$/A[2],await F({x:_,y:$})&&b(o)),s=requestAnimationFrame(R)}function O(A){var V;const{nodeLookup:F,multiSelectionActive:j,nodesDraggable:M,transform:_,snapGrid:$,snapToGrid:k,selectNodesOnDrag:T,onNodeDragStart:L,onSelectionDragStart:D,unselectNodesAndEdges:z}=t();d=!0,(!T||!S)&&!j&&E&&((V=F.get(E))!=null&&V.selected||z()),S&&T&&E&&(e==null||e(E));const H=gi(A.sourceEvent,{transform:_,snapGrid:$,snapToGrid:k,containerBounds:f});if(o=H,l=bE(F,M,H,E),l.size>0&&(n||L||!E&&D)){const[Y,K]=Ql({nodeId:E,dragItems:l,nodeLookup:F});n==null||n(A.sourceEvent,l,Y,K),L==null||L(A.sourceEvent,Y,K),E||D==null||D(A.sourceEvent,K)}}const P=Ym().clickDistance(C).on("start",A=>{const{domNode:F,nodeDragThreshold:j,transform:M,snapGrid:_,snapToGrid:$}=t();f=(F==null?void 0:F.getBoundingClientRect())||null,v=!1,y=!1,w=A.sourceEvent,j===0&&O(A),o=gi(A.sourceEvent,{transform:M,snapGrid:_,snapToGrid:$,containerBounds:f}),c=ht(A.sourceEvent,f)}).on("drag",A=>{const{autoPanOnNodeDrag:F,transform:j,snapGrid:M,snapToGrid:_,nodeDragThreshold:$,nodeLookup:k}=t(),T=gi(A.sourceEvent,{transform:j,snapGrid:M,snapToGrid:_,containerBounds:f});if(w=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||E&&!k.has(E))&&(v=!0),!v){if(!a&&F&&d&&(a=!0,R()),!d){const L=ht(A.sourceEvent,f),D=L.x-c.x,z=L.y-c.y;Math.sqrt(D*D+z*z)>$&&O(A)}(o.x!==T.xSnapped||o.y!==T.ySnapped)&&l&&d&&(c=ht(A.sourceEvent,f),b(T))}}).on("end",A=>{if(!(!d||v)&&(a=!1,d=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:F,updateNodePositions:j,onNodeDragStop:M,onSelectionDragStop:_}=t();if(y&&(j(l,!1),y=!1),i||M||!E&&_){const[$,k]=Ql({nodeId:E,dragItems:l,nodeLookup:F,dragging:!1});i==null||i(A.sourceEvent,l,$,k),M==null||M(A.sourceEvent,$,k),E||_==null||_(A.sourceEvent,k)}}}).filter(A=>{const F=A.target;return!A.button&&(!g||!Lf(F,`.${g}`,x))&&(!m||Lf(F,m,x))});p.call(P)}function h(){p==null||p.on(".drag",null)}return{update:N,destroy:h}}function ME(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Bi(i,_r(o))>0&&r.push(o);return r}const RE=250;function PE(e,t,n,r){var l,a;let i=[],o=1/0;const s=ME(e,n,t+RE);for(const c of s){const f=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((a=c.internals.handleBounds)==null?void 0:a.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:p,y:v}=Bn(c,d,d.position,!0),y=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(v-e.y,2));y>t||(y<o?(i=[{...d,x:p,y:v}],o=y):y===o&&i.push({...d,x:p,y:v}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(f=>f.type===c)??i[0]}return i[0]}function Rg(e,t,n,r,i,o=!1){var c,f,d;const s=r.get(e);if(!s)return null;const l=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],a=(n?l==null?void 0:l.find(p=>p.id===n):l==null?void 0:l[0])??null;return a&&o?{...a,...Bn(s,a,a.position,!0)}:a}function Pg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function AE(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ag=()=>!0;function LE(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:l,nodeLookup:a,lib:c,autoPanOnConnect:f,flowId:d,panBy:p,cancelConnection:v,onConnectStart:y,onConnect:w,onConnectEnd:N,isValidConnection:h=Ag,onReconnectEnd:g,updateConnection:m,getTransform:x,getFromHandle:S,autoPanSpeed:E,dragThreshold:C=1,handleDomNode:b}){const R=wg(e.target);let O=0,P;const{x:A,y:F}=ht(e),j=Pg(o,b),M=l==null?void 0:l.getBoundingClientRect();let _=!1;if(!M||!j)return;const $=Rg(i,j,r,a,t);if(!$)return;let k=ht(e,M),T=!1,L=null,D=!1,z=null;function H(){if(!f||!M)return;const[J,Z]=gg(k,M,E);p({x:J,y:Z}),O=requestAnimationFrame(H)}const V={...$,nodeId:i,type:j,position:$.position},Y=a.get(i);let Q={inProgress:!0,isValid:null,from:Bn(Y,V,U.Left,!0),fromHandle:V,fromPosition:V.position,fromNode:Y,to:k,toHandle:null,toPosition:Ef[V.position],toNode:null,pointer:k};function W(){_=!0,m(Q),y==null||y(e,{nodeId:i,handleId:r,handleType:j})}C===0&&W();function X(J){if(!_){const{x:Me,y:Yt}=ht(J),It=Me-A,Nn=Yt-F;if(!(It*It+Nn*Nn>C*C))return;W()}if(!S()||!V){ee(J);return}const Z=x();k=ht(J,M),P=PE(to(k,Z,!1,[1,1]),n,a,V),T||(H(),T=!0);const q=Lg(J,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:h,doc:R,lib:c,flowId:d,nodeLookup:a});z=q.handleDomNode,L=q.connection,D=AE(!!P,q.isValid);const oe=a.get(i),ce=oe?Bn(oe,V,U.Left,!0):Q.from,ie={...Q,from:ce,isValid:D,to:q.toHandle&&D?_s({x:q.toHandle.x,y:q.toHandle.y},Z):k,toHandle:q.toHandle,toPosition:D&&q.toHandle?q.toHandle.position:Ef[V.position],toNode:q.toHandle?a.get(q.toHandle.nodeId):null,pointer:k};m(ie),Q=ie}function ee(J){if(!("touches"in J&&J.touches.length>0)){if(_){(P||z)&&L&&D&&(w==null||w(L));const{inProgress:Z,...q}=Q,oe={...q,toPosition:Q.toHandle?Q.toPosition:null};N==null||N(J,oe),o&&(g==null||g(J,oe))}v(),cancelAnimationFrame(O),T=!1,D=!1,L=null,z=null,R.removeEventListener("mousemove",X),R.removeEventListener("mouseup",ee),R.removeEventListener("touchmove",X),R.removeEventListener("touchend",ee)}}R.addEventListener("mousemove",X),R.addEventListener("mouseup",ee),R.addEventListener("touchmove",X),R.addEventListener("touchend",ee)}function Lg(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:l,flowId:a,isValidConnection:c=Ag,nodeLookup:f}){const d=o==="target",p=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y}=ht(e),w=s.elementFromPoint(v,y),N=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:p,h={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const g=Pg(void 0,N),m=N.getAttribute("data-nodeid"),x=N.getAttribute("data-handleid"),S=N.classList.contains("connectable"),E=N.classList.contains("connectableend");if(!m||!g)return h;const C={source:d?m:r,sourceHandle:d?x:i,target:d?r:m,targetHandle:d?i:x};h.connection=C;const R=S&&E&&(n===br.Strict?d&&g==="source"||!d&&g==="target":m!==r||x!==i);h.isValid=R&&c(C),h.toHandle=Rg(m,g,x,f,n,!0)}return h}const hu={onPointerDown:LE,isValid:Lg};function OE({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Ke(e);function o({translateExtent:l,width:a,height:c,zoomStep:f=1,pannable:d=!0,zoomable:p=!0,inversePan:v=!1}){const y=m=>{if(m.sourceEvent.type!=="wheel"||!t)return;const x=n(),S=m.sourceEvent.ctrlKey&&Hi()?10:1,E=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*f,C=x[2]*Math.pow(2,E*S);t.scaleTo(C)};let w=[0,0];const N=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(w=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},h=m=>{const x=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const S=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],E=[S[0]-w[0],S[1]-w[1]];w=S;const C=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),b={x:x[0]-E[0]*C,y:x[1]-E[1]*C},R=[[0,0],[a,c]];t.setViewportConstrained({x:b.x,y:b.y,zoom:x[2]},R,l)},g=ag().on("start",N).on("zoom",d?h:null).on("zoom.wheel",p?y:null);i.call(g,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:ct}}const rl=e=>({x:e.x,y:e.y,zoom:e.k}),Xl=({x:e,y:t,zoom:n})=>el.translate(e,t).scale(n),lr=(e,t)=>e.target.closest(`.${t}`),Og=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$E=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ql=(e,t=0,n=$E,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},$g=e=>{const t=e.ctrlKey&&Hi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function DE({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:c}){return f=>{if(lr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&s){const N=ct(f),h=$g(f),g=d*Math.pow(2,h);r.scaleTo(n,g,N,f);return}const p=f.deltaMode===1?20:1;let v=i===Rn.Vertical?0:f.deltaX*p,y=i===Rn.Horizontal?0:f.deltaY*p;!Hi()&&f.shiftKey&&i!==Rn.Vertical&&(v=f.deltaY*p,y=0),r.translateBy(n,-(v/d)*o,-(y/d)*o,{internal:!0});const w=rl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,w),e.panScrollTimeout=setTimeout(()=>{c==null||c(f,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,w))}}function zE({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,l=lr(r,e);if(r.ctrlKey&&o&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,i)}}function FE({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,l;if((o=r.sourceEvent)!=null&&o.internal)return;const i=rl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function BE({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,l;e.usedRightMouseButton=!!(n&&Og(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((l=o.sourceEvent)!=null&&l.internal)&&(i==null||i(o.sourceEvent,rl(o.transform)))}}function HE({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,o&&Og(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const a=rl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,a)},n?150:0)}}}function VE({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:c,connectionInProgress:f}){return d=>{var N;const p=e||t,v=n&&d.ctrlKey,y=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(lr(d,`${c}-flow__node`)||lr(d,`${c}-flow__edge`)))return!0;if(!r&&!p&&!i&&!o&&!n||s||f&&!y||lr(d,l)&&y||lr(d,a)&&(!y||i&&y&&!e)||!n&&d.ctrlKey&&y)return!1;if(!n&&d.type==="touchstart"&&((N=d.touches)==null?void 0:N.length)>1)return d.preventDefault(),!1;if(!p&&!i&&!v&&y||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||y)&&w}}function UE({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=ag().scaleExtent([t,n]).translateExtent(r),p=Ke(e).call(d);g({x:i.x,y:i.y,zoom:Ir(i.zoom,t,n)},[[0,0],[f.width,f.height]],r);const v=p.on("wheel.zoom"),y=p.on("dblclick.zoom");d.wheelDelta($g);function w(P,A){return p?new Promise(F=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?mi:Yo).transform(ql(p,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function N({noWheelClassName:P,noPanClassName:A,onPaneContextMenu:F,userSelectionActive:j,panOnScroll:M,panOnDrag:_,panOnScrollMode:$,panOnScrollSpeed:k,preventScrolling:T,zoomOnPinch:L,zoomOnScroll:D,zoomOnDoubleClick:z,zoomActivationKeyPressed:H,lib:V,onTransformChange:Y,connectionInProgress:K,paneClickDistance:Q,selectionOnDrag:W}){j&&!c.isZoomingOrPanning&&h();const X=M&&!H&&!j;d.clickDistance(W?1/0:!pt(Q)||Q<0?0:Q);const ee=X?DE({zoomPanValues:c,noWheelClassName:P,d3Selection:p,d3Zoom:d,panOnScrollMode:$,panOnScrollSpeed:k,zoomOnPinch:L,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:l}):zE({noWheelClassName:P,preventScrolling:T,d3ZoomHandler:v});if(p.on("wheel.zoom",ee,{passive:!1}),!j){const Z=FE({zoomPanValues:c,onDraggingChange:a,onPanZoomStart:s});d.on("start",Z);const q=BE({zoomPanValues:c,panOnDrag:_,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:Y});d.on("zoom",q);const oe=HE({zoomPanValues:c,panOnDrag:_,panOnScroll:M,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:a});d.on("end",oe)}const J=VE({zoomActivationKeyPressed:H,panOnDrag:_,zoomOnScroll:D,panOnScroll:M,zoomOnDoubleClick:z,zoomOnPinch:L,userSelectionActive:j,noPanClassName:A,noWheelClassName:P,lib:V,connectionInProgress:K});d.filter(J),z?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function h(){d.on("zoom",null)}async function g(P,A,F){const j=Xl(P),M=d==null?void 0:d.constrain()(j,A,F);return M&&await w(M),new Promise(_=>_(M))}async function m(P,A){const F=Xl(P);return await w(F,A),new Promise(j=>j(F))}function x(P){if(p){const A=Xl(P),F=p.property("__zoom");(F.k!==P.zoom||F.x!==P.x||F.y!==P.y)&&(d==null||d.transform(p,A,null,{sync:!0}))}}function S(){const P=p?lg(p.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function E(P,A){return p?new Promise(F=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?mi:Yo).scaleTo(ql(p,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function C(P,A){return p?new Promise(F=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?mi:Yo).scaleBy(ql(p,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function b(P){d==null||d.scaleExtent(P)}function R(P){d==null||d.translateExtent(P)}function O(P){const A=!pt(P)||P<0?0:P;d==null||d.clickDistance(A)}return{update:N,destroy:h,setViewport:m,setViewportConstrained:g,getViewport:S,scaleTo:E,scaleBy:C,setScaleExtent:b,setTranslateExtent:R,syncViewport:x,setClickDistance:O}}var Rr;(function(e){e.Line="line",e.Handle="handle"})(Rr||(Rr={}));function WE({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&i&&(a[0]=a[0]*-1),l&&o&&(a[1]=a[1]*-1),a}function Of(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Qt(e,t){return Math.max(0,t-e)}function Xt(e,t){return Math.max(0,e-t)}function Io(e,t,n){return Math.max(0,t-e,e-n)}function $f(e,t){return e?!t:t}function GE(e,t,n,r,i,o,s,l){let{affectsX:a,affectsY:c}=t;const{isHorizontal:f,isVertical:d}=t,p=f&&d,{xSnapped:v,ySnapped:y}=n,{minWidth:w,maxWidth:N,minHeight:h,maxHeight:g}=r,{x:m,y:x,width:S,height:E,aspectRatio:C}=e;let b=Math.floor(f?v-e.pointerX:0),R=Math.floor(d?y-e.pointerY:0);const O=S+(a?-b:b),P=E+(c?-R:R),A=-o[0]*S,F=-o[1]*E;let j=Io(O,w,N),M=Io(P,h,g);if(s){let k=0,T=0;a&&b<0?k=Qt(m+b+A,s[0][0]):!a&&b>0&&(k=Xt(m+O+A,s[1][0])),c&&R<0?T=Qt(x+R+F,s[0][1]):!c&&R>0&&(T=Xt(x+P+F,s[1][1])),j=Math.max(j,k),M=Math.max(M,T)}if(l){let k=0,T=0;a&&b>0?k=Xt(m+b,l[0][0]):!a&&b<0&&(k=Qt(m+O,l[1][0])),c&&R>0?T=Xt(x+R,l[0][1]):!c&&R<0&&(T=Qt(x+P,l[1][1])),j=Math.max(j,k),M=Math.max(M,T)}if(i){if(f){const k=Io(O/C,h,g)*C;if(j=Math.max(j,k),s){let T=0;!a&&!c||a&&!c&&p?T=Xt(x+F+O/C,s[1][1])*C:T=Qt(x+F+(a?b:-b)/C,s[0][1])*C,j=Math.max(j,T)}if(l){let T=0;!a&&!c||a&&!c&&p?T=Qt(x+O/C,l[1][1])*C:T=Xt(x+(a?b:-b)/C,l[0][1])*C,j=Math.max(j,T)}}if(d){const k=Io(P*C,w,N)/C;if(M=Math.max(M,k),s){let T=0;!a&&!c||c&&!a&&p?T=Xt(m+P*C+A,s[1][0])/C:T=Qt(m+(c?R:-R)*C+A,s[0][0])/C,M=Math.max(M,T)}if(l){let T=0;!a&&!c||c&&!a&&p?T=Qt(m+P*C,l[1][0])/C:T=Xt(m+(c?R:-R)*C,l[0][0])/C,M=Math.max(M,T)}}}R=R+(R<0?M:-M),b=b+(b<0?j:-j),i&&(p?O>P*C?R=($f(a,c)?-b:b)/C:b=($f(a,c)?-R:R)*C:f?(R=b/C,c=a):(b=R*C,a=c));const _=a?m+b:m,$=c?x+R:x;return{width:S+(a?-b:b),height:E+(c?-R:R),x:o[0]*b*(a?-1:1)+_,y:o[1]*R*(c?-1:1)+$}}const Dg={width:0,height:0,x:0,y:0},YE={...Dg,pointerX:0,pointerY:0,aspectRatio:1};function KE(e){return[[0,0],[e.measured.width,e.measured.height]]}function QE(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,l=n[0]*o,a=n[1]*s;return[[r-l,i-a],[r+o-l,i+s-a]]}function XE({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Ke(e);let s={controlDirection:Of("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:f,keepAspectRatio:d,resizeDirection:p,onResizeStart:v,onResize:y,onResizeEnd:w,shouldResize:N}){let h={...Dg},g={...YE};s={boundaries:f,resizeDirection:p,keepAspectRatio:d,controlDirection:Of(c)};let m,x=null,S=[],E,C,b,R=!1;const O=Ym().on("start",P=>{const{nodeLookup:A,transform:F,snapGrid:j,snapToGrid:M,nodeOrigin:_,paneDomNode:$}=n();if(m=A.get(t),!m)return;x=($==null?void 0:$.getBoundingClientRect())??null;const{xSnapped:k,ySnapped:T}=gi(P.sourceEvent,{transform:F,snapGrid:j,snapToGrid:M,containerBounds:x});h={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},g={...h,pointerX:k,pointerY:T,aspectRatio:h.width/h.height},E=void 0,m.parentId&&(m.extent==="parent"||m.expandParent)&&(E=A.get(m.parentId),C=E&&m.extent==="parent"?KE(E):void 0),S=[],b=void 0;for(const[L,D]of A)if(D.parentId===t&&(S.push({id:L,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const z=QE(D,m,D.origin??_);b?b=[[Math.min(z[0][0],b[0][0]),Math.min(z[0][1],b[0][1])],[Math.max(z[1][0],b[1][0]),Math.max(z[1][1],b[1][1])]]:b=z}v==null||v(P,{...h})}).on("drag",P=>{const{transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:M}=n(),_=gi(P.sourceEvent,{transform:A,snapGrid:F,snapToGrid:j,containerBounds:x}),$=[];if(!m)return;const{x:k,y:T,width:L,height:D}=h,z={},H=m.origin??M,{width:V,height:Y,x:K,y:Q}=GE(g,s.controlDirection,_,s.boundaries,s.keepAspectRatio,H,C,b),W=V!==L,X=Y!==D,ee=K!==k&&W,J=Q!==T&&X;if(!ee&&!J&&!W&&!X)return;if((ee||J||H[0]===1||H[1]===1)&&(z.x=ee?K:h.x,z.y=J?Q:h.y,h.x=z.x,h.y=z.y,S.length>0)){const ce=K-k,ie=Q-T;for(const Me of S)Me.position={x:Me.position.x-ce+H[0]*(V-L),y:Me.position.y-ie+H[1]*(Y-D)},$.push(Me)}if((W||X)&&(z.width=W&&(!s.resizeDirection||s.resizeDirection==="horizontal")?V:h.width,z.height=X&&(!s.resizeDirection||s.resizeDirection==="vertical")?Y:h.height,h.width=z.width,h.height=z.height),E&&m.expandParent){const ce=H[0]*(z.width??0);z.x&&z.x<ce&&(h.x=ce,g.x=g.x-(z.x-ce));const ie=H[1]*(z.height??0);z.y&&z.y<ie&&(h.y=ie,g.y=g.y-(z.y-ie))}const Z=WE({width:h.width,prevWidth:L,height:h.height,prevHeight:D,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),q={...h,direction:Z};(N==null?void 0:N(P,q))!==!1&&(R=!0,y==null||y(P,q),r(z,$))}).on("end",P=>{R&&(w==null||w(P,{...h}),i==null||i({...h}),R=!1)});o.call(O)}function a(){o.on(".drag",null)}return{update:l,destroy:a}}var zg={exports:{}},Fg={},Bg={exports:{}},Hg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=I;function qE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZE=typeof Object.is=="function"?Object.is:qE,JE=Pr.useState,e2=Pr.useEffect,t2=Pr.useLayoutEffect,n2=Pr.useDebugValue;function r2(e,t){var n=t(),r=JE({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return t2(function(){i.value=n,i.getSnapshot=t,Zl(i)&&o({inst:i})},[e,n,t]),e2(function(){return Zl(i)&&o({inst:i}),e(function(){Zl(i)&&o({inst:i})})},[e]),n2(n),n}function Zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZE(e,n)}catch{return!0}}function i2(e,t){return t()}var o2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i2:r2;Hg.useSyncExternalStore=Pr.useSyncExternalStore!==void 0?Pr.useSyncExternalStore:o2;Bg.exports=Hg;var s2=Bg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=I,l2=s2;function a2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u2=typeof Object.is=="function"?Object.is:a2,c2=l2.useSyncExternalStore,d2=il.useRef,f2=il.useEffect,p2=il.useMemo,h2=il.useDebugValue;Fg.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=d2(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=p2(function(){function a(v){if(!c){if(c=!0,f=v,v=r(v),i!==void 0&&s.hasValue){var y=s.value;if(i(y,v))return d=y}return d=v}if(y=d,u2(f,v))return y;var w=r(v);return i!==void 0&&i(y,w)?(f=v,y):(f=v,d=w)}var c=!1,f,d,p=n===void 0?null:n;return[function(){return a(t())},p===null?void 0:function(){return a(p())}]},[t,n,r,i]);var l=c2(e,o[0],o[1]);return f2(function(){s.hasValue=!0,s.value=l},[l]),h2(l),l};zg.exports=Fg;var m2=zg.exports;const Vg=wp(m2),g2={},Df=e=>{let t;const n=new Set,r=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const v=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(g2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,a);return a},Ug=e=>e?Df(e):Df,{useDebugValue:y2}=Ot,{useSyncExternalStoreWithSelector:v2}=Vg,x2=e=>e;function Wg(e,t=x2,n){const r=v2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return y2(r),r}const zf=(e,t)=>{const n=Ug(e),r=(i,o=t)=>Wg(n,i,o);return Object.assign(r,n),r},w2=(e,t)=>e?zf(e,t):zf;function he(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ol=I.createContext(null),N2=ol.Provider,Gg=jt.error001();function ne(e,t){const n=I.useContext(ol);if(n===null)throw new Error(Gg);return Wg(n,e,t)}function me(){const e=I.useContext(ol);if(e===null)throw new Error(Gg);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ff={display:"none"},S2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Yg="react-flow__node-desc",Kg="react-flow__edge-desc",E2="react-flow__aria-live",C2=e=>e.ariaLiveMessage,k2=e=>e.ariaLabelConfig;function j2({rfId:e}){const t=ne(C2);return u.jsx("div",{id:`${E2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:S2,children:t})}function T2({rfId:e,disableKeyboardA11y:t}){const n=ne(k2);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${Yg}-${e}`,style:Ff,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${Kg}-${e}`,style:Ff,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(j2,{rfId:e})]})}const sl=I.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return u.jsx("div",{className:Ee(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});sl.displayName="Panel";function b2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(sl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const I2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},_o=e=>e.id;function _2(e,t){return he(e.selectedNodes.map(_o),t.selectedNodes.map(_o))&&he(e.selectedEdges.map(_o),t.selectedEdges.map(_o))}function M2({onSelectionChange:e}){const t=me(),{selectedNodes:n,selectedEdges:r}=ne(I2,_2);return I.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const R2=e=>!!e.onSelectionChangeHandlers;function P2({onSelectionChange:e}){const t=ne(R2);return e||t?u.jsx(M2,{onSelectionChange:e}):null}const Qg=[0,0],A2={x:0,y:0,zoom:1},L2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Bf=[...L2,"rfId"],O2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Hf={translateExtent:zi,nodeOrigin:Qg,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function $2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=ne(O2,he),c=me();I.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=Hf,l()}),[]);const f=I.useRef(Hf);return I.useEffect(()=>{for(const d of Bf){const p=e[d],v=f.current[d];p!==v&&(typeof e[d]>"u"||(d==="nodes"?t(p):d==="edges"?n(p):d==="minZoom"?r(p):d==="maxZoom"?i(p):d==="translateExtent"?o(p):d==="nodeExtent"?s(p):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:uE(p)}):d==="fitView"?c.setState({fitViewQueued:p}):d==="fitViewOptions"?c.setState({fitViewOptions:p}):c.setState({[d]:p})))}f.current=e},Bf.map(d=>e[d])),null}function Vf(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function D2(e){var r;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const i=Vf(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=Vf())!=null&&r.matches?"dark":"light"}const Uf=typeof document<"u"?document:null;function Vi(e=null,t={target:Uf,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),i=I.useRef(!1),o=I.useRef(new Set([])),[s,l]=I.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=c.reduce((d,p)=>d.concat(...p),[]);return[c,f]}return[[],[]]},[e]);return I.useEffect(()=>{const a=(t==null?void 0:t.target)??Uf,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=v=>{var N,h;if(i.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!i.current||i.current&&!c)&&Ng(v))return!1;const w=Gf(v.code,l);if(o.current.add(v[w]),Wf(s,o.current,!1)){const g=((h=(N=v.composedPath)==null?void 0:N.call(v))==null?void 0:h[0])||v.target,m=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(i.current||!m)&&v.preventDefault(),r(!0)}},d=v=>{const y=Gf(v.code,l);Wf(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(v[y]),v.key==="Meta"&&o.current.clear(),i.current=!1},p=()=>{o.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",d),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",d),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function Wf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Gf(e,t){return t.includes(e)?"code":"key"}const z2=()=>{const e=me();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:l}=e.getState(),a=Nc(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),c={x:t.x-l,y:t.y-a},f=n.snapGrid??i,d=n.snapToGrid??o;return to(c,r,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=_s(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function Xg(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...o};for(const a of s)F2(a,l);n.push(l)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function F2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function bc(e,t){return Xg(e,t)}function Ic(e,t){return Xg(e,t)}function Cn(e,t){return{id:e,type:"select",selected:t}}function ar(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Cn(o.id,s)))}return r}function Yf({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const l=t.get(s.id),a=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Kf(e){return{id:e.id,type:"remove"}}const Qf=e=>JS(e),B2=e=>pg(e);function qg(e){return I.forwardRef(e)}const H2=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Xf(e){const[t,n]=I.useState(BigInt(0)),[r]=I.useState(()=>V2(()=>n(i=>i+BigInt(1))));return H2(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function V2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Zg=I.createContext(null);function U2({children:e}){const t=me(),n=I.useCallback(l=>{const{nodes:a=[],setNodes:c,hasDefaultNodes:f,onNodesChange:d,nodeLookup:p,fitViewQueued:v,onNodesChangeMiddlewareMap:y}=t.getState();let w=a;for(const h of l)w=typeof h=="function"?h(w):h;let N=Yf({items:w,lookup:p});for(const h of y.values())N=h(N);f&&c(w),N.length>0?d==null||d(N):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:h,nodes:g,setNodes:m}=t.getState();h&&m(g)})},[]),r=Xf(n),i=I.useCallback(l=>{const{edges:a=[],setEdges:c,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:p}=t.getState();let v=a;for(const y of l)v=typeof y=="function"?y(v):y;f?c(v):d&&d(Yf({items:v,lookup:p}))},[]),o=Xf(i),s=I.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return u.jsx(Zg.Provider,{value:s,children:e})}function W2(){const e=I.useContext(Zg);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const G2=e=>!!e.panZoom;function _c(){const e=z2(),t=me(),n=W2(),r=ne(G2),i=I.useMemo(()=>{const o=d=>t.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},l=d=>{n.edgeQueue.push(d)},a=d=>{var h,g;const{nodeLookup:p,nodeOrigin:v}=t.getState(),y=Qf(d)?d:p.get(d.id),w=y.parentId?xg(y.position,y.measured,y.parentId,p,v):y.position,N={...y,position:w,width:((h=y.measured)==null?void 0:h.width)??y.width,height:((g=y.measured)==null?void 0:g.height)??y.height};return _r(N)},c=(d,p,v={replace:!1})=>{s(y=>y.map(w=>{if(w.id===d){const N=typeof p=="function"?p(w):p;return v.replace&&Qf(N)?N:{...w,...N}}return w}))},f=(d,p,v={replace:!1})=>{l(y=>y.map(w=>{if(w.id===d){const N=typeof p=="function"?p(w):p;return v.replace&&B2(N)?N:{...w,...N}}return w}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var p;return(p=o(d))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(p=>({...p}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:s,setEdges:l,addNodes:d=>{const p=Array.isArray(d)?d:[d];n.nodeQueue.push(v=>[...v,...p])},addEdges:d=>{const p=Array.isArray(d)?d:[d];n.edgeQueue.push(v=>[...v,...p])},toObject:()=>{const{nodes:d=[],edges:p=[],transform:v}=t.getState(),[y,w,N]=v;return{nodes:d.map(h=>({...h})),edges:p.map(h=>({...h})),viewport:{x:y,y:w,zoom:N}}},deleteElements:async({nodes:d=[],edges:p=[]})=>{const{nodes:v,edges:y,onNodesDelete:w,onEdgesDelete:N,triggerNodeChanges:h,triggerEdgeChanges:g,onDelete:m,onBeforeDelete:x}=t.getState(),{nodes:S,edges:E}=await iE({nodesToRemove:d,edgesToRemove:p,nodes:v,edges:y,onBeforeDelete:x}),C=E.length>0,b=S.length>0;if(C){const R=E.map(Kf);N==null||N(E),g(R)}if(b){const R=S.map(Kf);w==null||w(S),h(R)}return(b||C)&&(m==null||m({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(d,p=!0,v)=>{const y=kf(d),w=y?d:a(d),N=v!==void 0;return w?(v||t.getState().nodes).filter(h=>{const g=t.getState().nodeLookup.get(h.id);if(g&&!y&&(h.id===d.id||!g.internals.positionAbsolute))return!1;const m=_r(N?h:g),x=Bi(m,w);return p&&x>0||x>=m.width*m.height||x>=w.width*w.height}):[]},isNodeIntersecting:(d,p,v=!0)=>{const w=kf(d)?d:a(d);if(!w)return!1;const N=Bi(w,p);return v&&N>0||N>=p.width*p.height||N>=w.width*w.height},updateNode:c,updateNodeData:(d,p,v={replace:!1})=>{c(d,y=>{const w=typeof p=="function"?p(y):p;return v.replace?{...y,data:w}:{...y,data:{...y.data,...w}}},v)},updateEdge:f,updateEdgeData:(d,p,v={replace:!1})=>{f(d,y=>{const w=typeof p=="function"?p(y):p;return v.replace?{...y,data:w}:{...y,data:{...y.data,...w}}},v)},getNodesBounds:d=>{const{nodeLookup:p,nodeOrigin:v}=t.getState();return eE(d,{nodeLookup:p,nodeOrigin:v})},getHandleConnections:({type:d,id:p,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}-${d}${p?`-${p}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:d,handleId:p,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}${d?p?`-${d}-${p}`:`-${d}`:""}`))==null?void 0:y.values())??[])},fitView:async d=>{const p=t.getState().fitViewResolver??aE();return t.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:p}),n.nodeQueue.push(v=>[...v]),p.promise}}},[]);return I.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const qf=e=>e.selected,Y2=typeof window<"u"?window:void 0;function K2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=me(),{deleteElements:r}=_c(),i=Vi(e,{actInsideInputWithModifier:!1}),o=Vi(t,{target:Y2});I.useEffect(()=>{if(i){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(qf),edges:s.filter(qf)}),n.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Q2(e){const t=me();I.useEffect(()=>{const n=()=>{var i,o,s,l;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Sc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",jt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const ll={position:"absolute",width:"100%",height:"100%",top:0,left:0},X2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function q2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Rn.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:c,minZoom:f,maxZoom:d,zoomActivationKeyCode:p,preventScrolling:v=!0,children:y,noWheelClassName:w,noPanClassName:N,onViewportChange:h,isControlledViewport:g,paneClickDistance:m,selectionOnDrag:x}){const S=me(),E=I.useRef(null),{userSelectionActive:C,lib:b,connectionInProgress:R}=ne(X2,he),O=Vi(p),P=I.useRef();Q2(E);const A=I.useCallback(F=>{h==null||h({x:F[0],y:F[1],zoom:F[2]}),g||S.setState({transform:F})},[h,g]);return I.useEffect(()=>{if(E.current){P.current=UE({domNode:E.current,minZoom:f,maxZoom:d,translateExtent:c,viewport:a,onDraggingChange:_=>S.setState({paneDragging:_}),onPanZoomStart:(_,$)=>{const{onViewportChangeStart:k,onMoveStart:T}=S.getState();T==null||T(_,$),k==null||k($)},onPanZoom:(_,$)=>{const{onViewportChange:k,onMove:T}=S.getState();T==null||T(_,$),k==null||k($)},onPanZoomEnd:(_,$)=>{const{onViewportChangeEnd:k,onMoveEnd:T}=S.getState();T==null||T(_,$),k==null||k($)}});const{x:F,y:j,zoom:M}=P.current.getViewport();return S.setState({panZoom:P.current,transform:[F,j,M],domNode:E.current.closest(".react-flow")}),()=>{var _;(_=P.current)==null||_.destroy()}}},[]),I.useEffect(()=>{var F;(F=P.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:O,preventScrolling:v,noPanClassName:N,userSelectionActive:C,noWheelClassName:w,lib:b,onTransformChange:A,connectionInProgress:R,selectionOnDrag:x,paneClickDistance:m})},[e,t,n,r,i,o,s,l,O,v,N,C,w,b,A,R,x,m]),u.jsx("div",{className:"react-flow__renderer",ref:E,style:ll,children:y})}const Z2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function J2(){const{userSelectionActive:e,userSelectionRect:t}=ne(Z2,he);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Jl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},eC=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function tC({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Fi.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:f,onPaneMouseEnter:d,onPaneMouseMove:p,onPaneMouseLeave:v,children:y}){const w=me(),{userSelectionActive:N,elementsSelectable:h,dragging:g,connectionInProgress:m}=ne(eC,he),x=h&&(e||N),S=I.useRef(null),E=I.useRef(),C=I.useRef(new Set),b=I.useRef(new Set),R=I.useRef(!1),O=k=>{if(R.current||m){R.current=!1;return}a==null||a(k),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},P=k=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){k.preventDefault();return}c==null||c(k)},A=f?k=>f(k):void 0,F=k=>{R.current&&(k.stopPropagation(),R.current=!1)},j=k=>{var Y,K;const{domNode:T}=w.getState();if(E.current=T==null?void 0:T.getBoundingClientRect(),!E.current)return;const L=k.target===S.current;if(!L&&!!k.target.closest(".nokey")||!e||!(o&&L||t)||k.button!==0||!k.isPrimary)return;(K=(Y=k.target)==null?void 0:Y.setPointerCapture)==null||K.call(Y,k.pointerId),R.current=!1;const{x:H,y:V}=ht(k.nativeEvent,E.current);w.setState({userSelectionRect:{width:0,height:0,startX:H,startY:V,x:H,y:V}}),L||(k.stopPropagation(),k.preventDefault())},M=k=>{const{userSelectionRect:T,transform:L,nodeLookup:D,edgeLookup:z,connectionLookup:H,triggerNodeChanges:V,triggerEdgeChanges:Y,defaultEdgeOptions:K,resetSelectedElements:Q}=w.getState();if(!E.current||!T)return;const{x:W,y:X}=ht(k.nativeEvent,E.current),{startX:ee,startY:J}=T;if(!R.current){const ie=t?0:i;if(Math.hypot(W-ee,X-J)<=ie)return;Q(),s==null||s(k)}R.current=!0;const Z={startX:ee,startY:J,x:W<ee?W:ee,y:X<J?X:J,width:Math.abs(W-ee),height:Math.abs(X-J)},q=C.current,oe=b.current;C.current=new Set(wc(D,Z,L,n===Fi.Partial,!0).map(ie=>ie.id)),b.current=new Set;const ce=(K==null?void 0:K.selectable)??!0;for(const ie of C.current){const Me=H.get(ie);if(Me)for(const{edgeId:Yt}of Me.values()){const It=z.get(Yt);It&&(It.selectable??ce)&&b.current.add(Yt)}}if(!jf(q,C.current)){const ie=ar(D,C.current,!0);V(ie)}if(!jf(oe,b.current)){const ie=ar(z,b.current);Y(ie)}w.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},_=k=>{var T,L;k.button===0&&((L=(T=k.target)==null?void 0:T.releasePointerCapture)==null||L.call(T,k.pointerId),!N&&k.target===S.current&&w.getState().userSelectionRect&&(O==null||O(k)),w.setState({userSelectionActive:!1,userSelectionRect:null}),R.current&&(l==null||l(k),w.setState({nodesSelectionActive:C.current.size>0})))},$=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Ee(["react-flow__pane",{draggable:$,dragging:g,selection:e}]),onClick:x?void 0:Jl(O,S),onContextMenu:Jl(P,S),onWheel:Jl(A,S),onPointerEnter:x?void 0:d,onPointerMove:x?M:p,onPointerUp:x?_:void 0,onPointerDownCapture:x?j:void 0,onClickCapture:x?F:void 0,onPointerLeave:v,ref:S,style:ll,children:[y,u.jsx(J2,{})]})}function mu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),c=l.get(e);if(!c){a==null||a("012",jt.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function Jg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const l=me(),[a,c]=I.useState(!1),f=I.useRef();return I.useEffect(()=>{f.current=_E({getStoreItems:()=>l.getState(),onNodeMouseDown:d=>{mu({id:d,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),I.useEffect(()=>{var d,p;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var v;(v=f.current)==null||v.destroy()}},[n,r,t,o,e,i]),a}const nC=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function e0(){const e=me();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:c,nodeOrigin:f}=e.getState(),d=new Map,p=nC(s),v=i?o[0]:5,y=i?o[1]:5,w=n.direction.x*v*n.factor,N=n.direction.y*y*n.factor;for(const[,h]of c){if(!p(h))continue;let g={x:h.internals.positionAbsolute.x+w,y:h.internals.positionAbsolute.y+N};i&&(g=eo(g,o));const{position:m,positionAbsolute:x}=hg({nodeId:h.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:f,onError:l});h.position=m,h.internals.positionAbsolute=x,d.set(h.id,h)}a(d)},[])}const Mc=I.createContext(null),rC=Mc.Provider;Mc.Consumer;const t0=()=>I.useContext(Mc),iC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oC=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:l,toHandle:a,isValid:c}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===br.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:f&&c}};function sC({type:e="source",position:t=U.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:l,children:a,className:c,onMouseDown:f,onTouchStart:d,...p},v){var M,_;const y=s||null,w=e==="target",N=me(),h=t0(),{connectOnClick:g,noPanClassName:m,rfId:x}=ne(iC,he),{connectingFrom:S,connectingTo:E,clickConnecting:C,isPossibleEndHandle:b,connectionInProcess:R,clickConnectionInProcess:O,valid:P}=ne(oC(h,y,e),he);h||(_=(M=N.getState()).onError)==null||_.call(M,"010",jt.error010());const A=$=>{const{defaultEdgeOptions:k,onConnect:T,hasDefaultEdges:L}=N.getState(),D={...k,...$};if(L){const{edges:z,setEdges:H}=N.getState();H(jg(D,z))}T==null||T(D),l==null||l(D)},F=$=>{if(!h)return;const k=Sg($.nativeEvent);if(i&&(k&&$.button===0||!k)){const T=N.getState();hu.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:w,handleId:y,nodeId:h,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:A,isValidConnection:n||T.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}k?f==null||f($):d==null||d($)},j=$=>{const{onClickConnectStart:k,onClickConnectEnd:T,connectionClickStartHandle:L,connectionMode:D,isValidConnection:z,lib:H,rfId:V,nodeLookup:Y,connection:K}=N.getState();if(!h||!L&&!i)return;if(!L){k==null||k($.nativeEvent,{nodeId:h,handleId:y,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:h,type:e,id:y}});return}const Q=wg($.target),W=n||z,{connection:X,isValid:ee}=hu.isValid($.nativeEvent,{handle:{nodeId:h,id:y,type:e},connectionMode:D,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:W,flowId:V,doc:Q,lib:H,nodeLookup:Y});ee&&X&&A(X);const J=structuredClone(K);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,T==null||T($,J),N.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":y,"data-nodeid":h,"data-handlepos":t,"data-id":`${x}-${h}-${y}-${e}`,className:Ee(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,c,{source:!w,target:w,connectable:r,connectablestart:i,connectableend:o,clickconnecting:C,connectingfrom:S,connectingto:E,valid:P,connectionindicator:r&&(!R||b)&&(R||O?o:i)}]),onMouseDown:F,onTouchStart:F,onClick:g?j:void 0,ref:v,...p,children:a})}const ae=I.memo(qg(sC));function lC({data:e,isConnectable:t,sourcePosition:n=U.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(ae,{type:"source",position:n,isConnectable:t})]})}function aC({data:e,isConnectable:t,targetPosition:n=U.Top,sourcePosition:r=U.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(ae,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(ae,{type:"source",position:r,isConnectable:t})]})}function uC(){return null}function cC({data:e,isConnectable:t,targetPosition:n=U.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(ae,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ms={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Zf={input:lC,default:aC,output:cC,group:uC};function dC(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const fC=e=>{const{width:t,height:n,x:r,y:i}=Ji(e.nodeLookup,{filter:o=>!!o.selected});return{width:pt(t)?t:null,height:pt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function pC({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=me(),{width:i,height:o,transformString:s,userSelectionActive:l}=ne(fC,he),a=e0(),c=I.useRef(null);if(I.useEffect(()=>{var p;n||(p=c.current)==null||p.focus({preventScroll:!0})},[n]),Jg({nodeRef:c}),l||!i||!o)return null;const f=e?p=>{const v=r.getState().nodes.filter(y=>y.selected);e(p,v)}:void 0,d=p=>{Object.prototype.hasOwnProperty.call(Ms,p.key)&&(p.preventDefault(),a({direction:Ms[p.key],factor:p.shiftKey?4:1}))};return u.jsx("div",{className:Ee(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const Jf=typeof window<"u"?window:void 0,hC=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function n0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:c,selectionOnDrag:f,selectionMode:d,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:w,zoomActivationKeyCode:N,elementsSelectable:h,zoomOnScroll:g,zoomOnPinch:m,panOnScroll:x,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:b,defaultViewport:R,translateExtent:O,minZoom:P,maxZoom:A,preventScrolling:F,onSelectionContextMenu:j,noWheelClassName:M,noPanClassName:_,disableKeyboardA11y:$,onViewportChange:k,isControlledViewport:T}){const{nodesSelectionActive:L,userSelectionActive:D}=ne(hC,he),z=Vi(c,{target:Jf}),H=Vi(w,{target:Jf}),V=H||b,Y=H||x,K=f&&V!==!0,Q=z||D||K;return K2({deleteKeyCode:a,multiSelectionKeyCode:y}),u.jsx(q2,{onPaneContextMenu:o,elementsSelectable:h,zoomOnScroll:g,zoomOnPinch:m,panOnScroll:Y,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!z&&V,defaultViewport:R,translateExtent:O,minZoom:P,maxZoom:A,zoomActivationKeyCode:N,preventScrolling:F,noWheelClassName:M,noPanClassName:_,onViewportChange:k,isControlledViewport:T,paneClickDistance:l,selectionOnDrag:K,children:u.jsxs(tC,{onSelectionStart:p,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:V,isSelecting:!!Q,selectionMode:d,selectionKeyPressed:z,paneClickDistance:l,selectionOnDrag:K,children:[e,L&&u.jsx(pC,{onSelectionContextMenu:j,noPanClassName:_,disableKeyboardA11y:$})]})})}n0.displayName="FlowRenderer";const mC=I.memo(n0),gC=e=>t=>e?wc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function yC(e){return ne(I.useCallback(gC(e),[e]),he)}const vC=e=>e.updateNodeInternals;function xC(){const e=ne(vC),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function wC({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=me(),o=I.useRef(null),s=I.useRef(null),l=I.useRef(e.sourcePosition),a=I.useRef(e.targetPosition),c=I.useRef(t),f=n&&!!e.internals.handleBounds;return I.useEffect(()=>{o.current&&!e.hidden&&(!f||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[f,e.hidden]),I.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),I.useEffect(()=>{if(o.current){const d=c.current!==t,p=l.current!==e.sourcePosition,v=a.current!==e.targetPosition;(d||p||v)&&(c.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function NC({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:c,nodesFocusable:f,resizeObserver:d,noDragClassName:p,noPanClassName:v,disableKeyboardA11y:y,rfId:w,nodeTypes:N,nodeClickDistance:h,onError:g}){const{node:m,internals:x,isParent:S}=ne(W=>{const X=W.nodeLookup.get(e),ee=W.parentLookup.has(e);return{node:X,internals:X.internals,isParent:ee}},he);let E=m.type||"default",C=(N==null?void 0:N[E])||Zf[E];C===void 0&&(g==null||g("003",jt.error003(E)),E="default",C=(N==null?void 0:N.default)||Zf.default);const b=!!(m.draggable||l&&typeof m.draggable>"u"),R=!!(m.selectable||a&&typeof m.selectable>"u"),O=!!(m.connectable||c&&typeof m.connectable>"u"),P=!!(m.focusable||f&&typeof m.focusable>"u"),A=me(),F=vg(m),j=wC({node:m,nodeType:E,hasDimensions:F,resizeObserver:d}),M=Jg({nodeRef:j,disabled:m.hidden||!b,noDragClassName:p,handleSelector:m.dragHandle,nodeId:e,isSelectable:R,nodeClickDistance:h}),_=e0();if(m.hidden)return null;const $=Gt(m),k=dC(m),T=R||b||t||n||r||i,L=n?W=>n(W,{...x.userNode}):void 0,D=r?W=>r(W,{...x.userNode}):void 0,z=i?W=>i(W,{...x.userNode}):void 0,H=o?W=>o(W,{...x.userNode}):void 0,V=s?W=>s(W,{...x.userNode}):void 0,Y=W=>{const{selectNodesOnDrag:X,nodeDragThreshold:ee}=A.getState();R&&(!X||!b||ee>0)&&mu({id:e,store:A,nodeRef:j}),t&&t(W,{...x.userNode})},K=W=>{if(!(Ng(W.nativeEvent)||y)){if(ug.includes(W.key)&&R){const X=W.key==="Escape";mu({id:e,store:A,unselect:X,nodeRef:j})}else if(b&&m.selected&&Object.prototype.hasOwnProperty.call(Ms,W.key)){W.preventDefault();const{ariaLabelConfig:X}=A.getState();A.setState({ariaLiveMessage:X["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),_({direction:Ms[W.key],factor:W.shiftKey?4:1})}}},Q=()=>{var oe;if(y||!((oe=j.current)!=null&&oe.matches(":focus-visible")))return;const{transform:W,width:X,height:ee,autoPanOnNodeFocus:J,setCenter:Z}=A.getState();if(!J)return;wc(new Map([[e,m]]),{x:0,y:0,width:X,height:ee},W,!0).length>0||Z(m.position.x+$.width/2,m.position.y+$.height/2,{zoom:W[2]})};return u.jsx("div",{className:Ee(["react-flow__node",`react-flow__node-${E}`,{[v]:b},m.className,{selected:m.selected,selectable:R,parent:S,draggable:b,dragging:M}]),ref:j,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:F?"visible":"hidden",...m.style,...k},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:D,onMouseLeave:z,onContextMenu:H,onClick:Y,onDoubleClick:V,onKeyDown:P?K:void 0,tabIndex:P?0:void 0,onFocus:P?Q:void 0,role:m.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${Yg}-${w}`,"aria-label":m.ariaLabel,...m.domAttributes,children:u.jsx(rC,{value:e,children:u.jsx(C,{id:e,data:m.data,type:E,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:m.selected??!1,selectable:R,draggable:b,deletable:m.deletable??!0,isConnectable:O,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:M,dragHandle:m.dragHandle,zIndex:x.z,parentId:m.parentId,...$})})})}var SC=I.memo(NC);const EC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function r0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ne(EC,he),s=yC(e.onlyRenderVisibleElements),l=xC();return u.jsx("div",{className:"react-flow__nodes",style:ll,children:s.map(a=>u.jsx(SC,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},a))})}r0.displayName="NodeRenderer";const CC=I.memo(r0);function kC(e){return ne(I.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&fE({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),he)}const jC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},TC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},ep={[bs.Arrow]:jC,[bs.ArrowClosed]:TC};function bC(e){const t=me();return I.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(ep,e)?ep[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",jt.error009(e)),null)},[e])}const IC=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=bC(t);return a?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0",children:u.jsx(a,{color:n,strokeWidth:s})}):null},i0=({defaultColor:e,rfId:t})=>{const n=ne(o=>o.edges),r=ne(o=>o.defaultEdgeOptions),i=I.useMemo(()=>xE(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:i.map(o=>u.jsx(IC,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};i0.displayName="MarkerDefinitions";var _C=I.memo(i0);function o0({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:c,...f}){const[d,p]=I.useState({x:1,y:0,width:0,height:0}),v=Ee(["react-flow__edge-textwrapper",c]),y=I.useRef(null);return I.useEffect(()=>{if(y.current){const w=y.current.getBBox();p({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:v,visibility:d.width?"visible":"hidden",...f,children:[i&&u.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),u.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:y,style:r,children:n}),a]}):null}o0.displayName="EdgeText";const MC=I.memo(o0);function al({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:c=20,...f}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...f,d:e,fill:"none",className:Ee(["react-flow__edge-path",f.className])}),c?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&pt(t)&&pt(n)?u.jsx(MC,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function tp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===U.Left||e===U.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function s0({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top}){const[s,l]=tp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,c]=tp({pos:o,x1:r,y1:i,x2:e,y2:t}),[f,d,p,v]=Eg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:c});return[`M${e},${t} C${s},${l} ${a},${c} ${r},${i}`,f,d,p,v]}function l0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:l,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:N,interactionWidth:h})=>{const[g,m,x]=s0({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:l}),S=e.isInternal?void 0:t;return u.jsx(al,{id:S,path:g,labelX:m,labelY:x,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:N,interactionWidth:h})})}const RC=l0({isInternal:!1}),a0=l0({isInternal:!0});RC.displayName="SimpleBezierEdge";a0.displayName="SimpleBezierEdgeInternal";function u0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,sourcePosition:v=U.Bottom,targetPosition:y=U.Top,markerEnd:w,markerStart:N,pathOptions:h,interactionWidth:g})=>{const[m,x,S]=du({sourceX:n,sourceY:r,sourcePosition:v,targetX:i,targetY:o,targetPosition:y,borderRadius:h==null?void 0:h.borderRadius,offset:h==null?void 0:h.offset,stepPosition:h==null?void 0:h.stepPosition}),E=e.isInternal?void 0:t;return u.jsx(al,{id:E,path:m,labelX:x,labelY:S,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:w,markerStart:N,interactionWidth:g})})}const c0=u0({isInternal:!1}),d0=u0({isInternal:!0});c0.displayName="SmoothStepEdge";d0.displayName="SmoothStepEdgeInternal";function f0(e){return I.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return u.jsx(c0,{...n,id:r,pathOptions:I.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const PC=f0({isInternal:!1}),p0=f0({isInternal:!0});PC.displayName="StepEdge";p0.displayName="StepEdgeInternal";function h0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:v,markerStart:y,interactionWidth:w})=>{const[N,h,g]=Tg({sourceX:n,sourceY:r,targetX:i,targetY:o}),m=e.isInternal?void 0:t;return u.jsx(al,{id:m,path:N,labelX:h,labelY:g,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:v,markerStart:y,interactionWidth:w})})}const AC=h0({isInternal:!1}),m0=h0({isInternal:!0});AC.displayName="StraightEdge";m0.displayName="StraightEdgeInternal";function g0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=U.Bottom,targetPosition:l=U.Top,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:N,pathOptions:h,interactionWidth:g})=>{const[m,x,S]=Cg({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:l,curvature:h==null?void 0:h.curvature}),E=e.isInternal?void 0:t;return u.jsx(al,{id:E,path:m,labelX:x,labelY:S,label:a,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:N,interactionWidth:g})})}const LC=g0({isInternal:!1}),y0=g0({isInternal:!0});LC.displayName="BezierEdge";y0.displayName="BezierEdgeInternal";const np={default:y0,straight:m0,step:p0,smoothstep:d0,simplebezier:a0},rp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},OC=(e,t,n)=>n===U.Left?e-t:n===U.Right?e+t:e,$C=(e,t,n)=>n===U.Top?e-t:n===U.Bottom?e+t:e,ip="react-flow__edgeupdater";function op({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l}){return u.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Ee([ip,`${ip}-${l}`]),cx:OC(t,r,e),cy:$C(n,r,e),r,stroke:"transparent",fill:"transparent"})}function DC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:c,onReconnectStart:f,onReconnectEnd:d,setReconnecting:p,setUpdateHover:v}){const y=me(),w=(x,S)=>{if(x.button!==0)return;const{autoPanOnConnect:E,domNode:C,isValidConnection:b,connectionMode:R,connectionRadius:O,lib:P,onConnectStart:A,onConnectEnd:F,cancelConnection:j,nodeLookup:M,rfId:_,panBy:$,updateConnection:k}=y.getState(),T=S.type==="target",L=(H,V)=>{p(!1),d==null||d(H,n,S.type,V)},D=H=>c==null?void 0:c(n,H),z=(H,V)=>{p(!0),f==null||f(x,n,S.type),A==null||A(H,V)};hu.onPointerDown(x.nativeEvent,{autoPanOnConnect:E,connectionMode:R,connectionRadius:O,domNode:C,handleId:S.id,nodeId:S.nodeId,nodeLookup:M,isTarget:T,edgeUpdaterType:S.type,lib:P,flowId:_,cancelConnection:j,panBy:$,isValidConnection:b,onConnect:D,onConnectStart:z,onConnectEnd:F,onReconnectEnd:L,updateConnection:k,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},N=x=>w(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),h=x=>w(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>v(!0),m=()=>v(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(op,{position:l,centerX:r,centerY:i,radius:t,onMouseDown:N,onMouseEnter:g,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&u.jsx(op,{position:a,centerX:o,centerY:s,radius:t,onMouseDown:h,onMouseEnter:g,onMouseOut:m,type:"target"})]})}function zC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,reconnectRadius:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:v,rfId:y,edgeTypes:w,noPanClassName:N,onError:h,disableKeyboardA11y:g}){let m=ne(Z=>Z.edgeLookup.get(e));const x=ne(Z=>Z.defaultEdgeOptions);m=x?{...x,...m}:m;let S=m.type||"default",E=(w==null?void 0:w[S])||np[S];E===void 0&&(h==null||h("011",jt.error011(S)),S="default",E=(w==null?void 0:w.default)||np.default);const C=!!(m.focusable||t&&typeof m.focusable>"u"),b=typeof d<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),R=!!(m.selectable||r&&typeof m.selectable>"u"),O=I.useRef(null),[P,A]=I.useState(!1),[F,j]=I.useState(!1),M=me(),{zIndex:_,sourceX:$,sourceY:k,targetX:T,targetY:L,sourcePosition:D,targetPosition:z}=ne(I.useCallback(Z=>{const q=Z.nodeLookup.get(m.source),oe=Z.nodeLookup.get(m.target);if(!q||!oe)return{zIndex:m.zIndex,...rp};const ce=vE({id:e,sourceNode:q,targetNode:oe,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:Z.connectionMode,onError:h});return{zIndex:dE({selected:m.selected,zIndex:m.zIndex,sourceNode:q,targetNode:oe,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ce||rp}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),he),H=I.useMemo(()=>m.markerStart?`url('#${fu(m.markerStart,y)}')`:void 0,[m.markerStart,y]),V=I.useMemo(()=>m.markerEnd?`url('#${fu(m.markerEnd,y)}')`:void 0,[m.markerEnd,y]);if(m.hidden||$===null||k===null||T===null||L===null)return null;const Y=Z=>{var ie;const{addSelectedEdges:q,unselectNodesAndEdges:oe,multiSelectionActive:ce}=M.getState();R&&(M.setState({nodesSelectionActive:!1}),m.selected&&ce?(oe({nodes:[],edges:[m]}),(ie=O.current)==null||ie.blur()):q([e])),i&&i(Z,m)},K=o?Z=>{o(Z,{...m})}:void 0,Q=s?Z=>{s(Z,{...m})}:void 0,W=l?Z=>{l(Z,{...m})}:void 0,X=a?Z=>{a(Z,{...m})}:void 0,ee=c?Z=>{c(Z,{...m})}:void 0,J=Z=>{var q;if(!g&&ug.includes(Z.key)&&R){const{unselectNodesAndEdges:oe,addSelectedEdges:ce}=M.getState();Z.key==="Escape"?((q=O.current)==null||q.blur(),oe({edges:[m]})):ce([e])}};return u.jsx("svg",{style:{zIndex:_},children:u.jsxs("g",{className:Ee(["react-flow__edge",`react-flow__edge-${S}`,m.className,N,{selected:m.selected,animated:m.animated,inactive:!R&&!i,updating:P,selectable:R}]),onClick:Y,onDoubleClick:K,onContextMenu:Q,onMouseEnter:W,onMouseMove:X,onMouseLeave:ee,onKeyDown:C?J:void 0,tabIndex:C?0:void 0,role:m.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":C?`${Kg}-${y}`:void 0,ref:O,...m.domAttributes,children:[!F&&u.jsx(E,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:R,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:$,sourceY:k,targetX:T,targetY:L,sourcePosition:D,targetPosition:z,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:H,markerEnd:V,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),b&&u.jsx(DC,{edge:m,isReconnectable:b,reconnectRadius:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:v,sourceX:$,sourceY:k,targetX:T,targetY:L,sourcePosition:D,targetPosition:z,setUpdateHover:A,setReconnecting:j})]})})}var FC=I.memo(zC);const BC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function v0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:p,onReconnectStart:v,onReconnectEnd:y,disableKeyboardA11y:w}){const{edgesFocusable:N,edgesReconnectable:h,elementsSelectable:g,onError:m}=ne(BC,he),x=kC(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(_C,{defaultColor:e,rfId:n}),x.map(S=>u.jsx(FC,{id:S,edgesFocusable:N,edgesReconnectable:h,elementsSelectable:g,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,onClick:f,reconnectRadius:d,onDoubleClick:p,onReconnectStart:v,onReconnectEnd:y,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:w},S))]})}v0.displayName="EdgeRenderer";const HC=I.memo(v0),VC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function UC({children:e}){const t=ne(VC);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function WC(e){const t=_c(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function YC(e){const t=ne(GC),n=me();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function KC(e){return e.connection.inProgress?{...e.connection,to:to(e.connection.to,e.transform)}:{...e.connection}}function QC(e){return KC}function XC(e){const t=QC();return ne(t,he)}const qC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ZC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:l,inProgress:a}=ne(qC,he);return!(o&&i&&a)?null:u.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Ee(["react-flow__connection",fg(l)]),children:u.jsx(x0,{style:t,type:n,CustomComponent:r,isValid:l})})})}const x0=({style:e,type:t=rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:l,fromPosition:a,to:c,toNode:f,toHandle:d,toPosition:p,pointer:v}=XC();if(!i)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:a,toPosition:p,connectionStatus:fg(r),toNode:f,toHandle:d,pointer:v});let y="";const w={sourceX:o.x,sourceY:o.y,sourcePosition:a,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case rn.Bezier:[y]=Cg(w);break;case rn.SimpleBezier:[y]=s0(w);break;case rn.Step:[y]=du({...w,borderRadius:0});break;case rn.SmoothStep:[y]=du(w);break;default:[y]=Tg(w)}return u.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};x0.displayName="ConnectionLine";const JC={};function sp(e=JC){I.useRef(e),me(),I.useEffect(()=>{},[e])}function ek(){me(),I.useRef(!1),I.useEffect(()=>{},[])}function w0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:c,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:p,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:w,connectionLineComponent:N,connectionLineContainerStyle:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:x,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:b,onlyRenderVisibleElements:R,elementsSelectable:O,defaultViewport:P,translateExtent:A,minZoom:F,maxZoom:j,preventScrolling:M,defaultMarkerColor:_,zoomOnScroll:$,zoomOnPinch:k,panOnScroll:T,panOnScrollSpeed:L,panOnScrollMode:D,zoomOnDoubleClick:z,panOnDrag:H,onPaneClick:V,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Q,onPaneScroll:W,onPaneContextMenu:X,paneClickDistance:ee,nodeClickDistance:J,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:oe,onEdgeMouseLeave:ce,reconnectRadius:ie,onReconnect:Me,onReconnectStart:Yt,onReconnectEnd:It,noDragClassName:Nn,noWheelClassName:Dr,noPanClassName:zr,disableKeyboardA11y:Fr,nodeExtent:ml,rfId:ro,viewport:Wn,onViewportChange:Br}){return sp(e),sp(t),ek(),WC(n),YC(Wn),u.jsx(mC,{onPaneClick:V,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Q,onPaneContextMenu:X,onPaneScroll:W,paneClickDistance:ee,deleteKeyCode:b,selectionKeyCode:g,selectionOnDrag:m,selectionMode:x,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:O,zoomOnScroll:$,zoomOnPinch:k,zoomOnDoubleClick:z,panOnScroll:T,panOnScrollSpeed:L,panOnScrollMode:D,panOnDrag:H,defaultViewport:P,translateExtent:A,minZoom:F,maxZoom:j,onSelectionContextMenu:d,preventScrolling:M,noDragClassName:Nn,noWheelClassName:Dr,noPanClassName:zr,disableKeyboardA11y:Fr,onViewportChange:Br,isControlledViewport:!!Wn,children:u.jsxs(UC,{children:[u.jsx(HC,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Me,onReconnectStart:Yt,onReconnectEnd:It,onlyRenderVisibleElements:R,onEdgeContextMenu:Z,onEdgeMouseEnter:q,onEdgeMouseMove:oe,onEdgeMouseLeave:ce,reconnectRadius:ie,defaultMarkerColor:_,noPanClassName:zr,disableKeyboardA11y:Fr,rfId:ro}),u.jsx(ZC,{style:w,type:y,component:N,containerStyle:h}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(CC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:c,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:R,noPanClassName:zr,noDragClassName:Nn,disableKeyboardA11y:Fr,nodeExtent:ml,rfId:ro}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}w0.displayName="GraphView";const tk=I.memo(w0),lp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:c=2,nodeOrigin:f,nodeExtent:d,zIndexMode:p="basic"}={})=>{const v=new Map,y=new Map,w=new Map,N=new Map,h=r??t??[],g=n??e??[],m=f??[0,0],x=d??zi;_g(w,N,h);const S=pu(g,v,y,{nodeOrigin:m,nodeExtent:x,zIndexMode:p});let E=[0,0,1];if(s&&i&&o){const C=Ji(v,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:b,y:R,zoom:O}=Nc(C,i,o,a,c,(l==null?void 0:l.padding)??.1);E=[b,R,O]}return{rfId:"1",width:i??0,height:o??0,transform:E,nodes:g,nodesInitialized:S,nodeLookup:v,parentLookup:y,edges:h,edgeLookup:N,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:c,translateExtent:zi,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:br.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...dg},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:oE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:cg,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},nk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p})=>w2((v,y)=>{async function w(){const{nodeLookup:N,panZoom:h,fitViewOptions:g,fitViewResolver:m,width:x,height:S,minZoom:E,maxZoom:C}=y();h&&(await rE({nodes:N,width:x,height:S,panZoom:h,minZoom:E,maxZoom:C},g),m==null||m.resolve(!0),v({fitViewResolver:null}))}return{...lp({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:c,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:p}),setNodes:N=>{const{nodeLookup:h,parentLookup:g,nodeOrigin:m,elevateNodesOnSelect:x,fitViewQueued:S,zIndexMode:E}=y(),C=pu(N,h,g,{nodeOrigin:m,nodeExtent:d,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:E});S&&C?(w(),v({nodes:N,nodesInitialized:C,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:N,nodesInitialized:C})},setEdges:N=>{const{connectionLookup:h,edgeLookup:g}=y();_g(h,g,N),v({edges:N})},setDefaultNodesAndEdges:(N,h)=>{if(N){const{setNodes:g}=y();g(N),v({hasDefaultNodes:!0})}if(h){const{setEdges:g}=y();g(h),v({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:h,nodeLookup:g,parentLookup:m,domNode:x,nodeOrigin:S,nodeExtent:E,debug:C,fitViewQueued:b,zIndexMode:R}=y(),{changes:O,updatedInternals:P}=jE(N,g,m,x,S,E,R);P&&(SE(g,m,{nodeOrigin:S,nodeExtent:E,zIndexMode:R}),b?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(O==null?void 0:O.length)>0&&(C&&console.log("React Flow: trigger node changes",O),h==null||h(O)))},updateNodePositions:(N,h=!1)=>{const g=[];let m=[];const{nodeLookup:x,triggerNodeChanges:S,connection:E,updateConnection:C,onNodesChangeMiddlewareMap:b}=y();for(const[R,O]of N){const P=x.get(R),A=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(O!=null&&O.position)),F={id:R,type:"position",position:A?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:h};if(P&&E.inProgress&&E.fromNode.id===P.id){const j=Bn(P,E.fromHandle,U.Left,!0);C({...E,from:j})}A&&P.parentId&&g.push({id:R,parentId:P.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),m.push(F)}if(g.length>0){const{parentLookup:R,nodeOrigin:O}=y(),P=Tc(g,x,R,O);m.push(...P)}for(const R of b.values())m=R(m);S(m)},triggerNodeChanges:N=>{const{onNodesChange:h,setNodes:g,nodes:m,hasDefaultNodes:x,debug:S}=y();if(N!=null&&N.length){if(x){const E=bc(N,m);g(E)}S&&console.log("React Flow: trigger node changes",N),h==null||h(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:h,setEdges:g,edges:m,hasDefaultEdges:x,debug:S}=y();if(N!=null&&N.length){if(x){const E=Ic(N,m);g(E)}S&&console.log("React Flow: trigger edge changes",N),h==null||h(N)}},addSelectedNodes:N=>{const{multiSelectionActive:h,edgeLookup:g,nodeLookup:m,triggerNodeChanges:x,triggerEdgeChanges:S}=y();if(h){const E=N.map(C=>Cn(C,!0));x(E);return}x(ar(m,new Set([...N]),!0)),S(ar(g))},addSelectedEdges:N=>{const{multiSelectionActive:h,edgeLookup:g,nodeLookup:m,triggerNodeChanges:x,triggerEdgeChanges:S}=y();if(h){const E=N.map(C=>Cn(C,!0));S(E);return}S(ar(g,new Set([...N]))),x(ar(m,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:h}={})=>{const{edges:g,nodes:m,nodeLookup:x,triggerNodeChanges:S,triggerEdgeChanges:E}=y(),C=N||m,b=h||g,R=C.map(P=>{const A=x.get(P.id);return A&&(A.selected=!1),Cn(P.id,!1)}),O=b.map(P=>Cn(P.id,!1));S(R),E(O)},setMinZoom:N=>{const{panZoom:h,maxZoom:g}=y();h==null||h.setScaleExtent([N,g]),v({minZoom:N})},setMaxZoom:N=>{const{panZoom:h,minZoom:g}=y();h==null||h.setScaleExtent([g,N]),v({maxZoom:N})},setTranslateExtent:N=>{var h;(h=y().panZoom)==null||h.setTranslateExtent(N),v({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:h,triggerNodeChanges:g,triggerEdgeChanges:m,elementsSelectable:x}=y();if(!x)return;const S=h.reduce((C,b)=>b.selected?[...C,Cn(b.id,!1)]:C,[]),E=N.reduce((C,b)=>b.selected?[...C,Cn(b.id,!1)]:C,[]);g(S),m(E)},setNodeExtent:N=>{const{nodes:h,nodeLookup:g,parentLookup:m,nodeOrigin:x,elevateNodesOnSelect:S,nodeExtent:E,zIndexMode:C}=y();N[0][0]===E[0][0]&&N[0][1]===E[0][1]&&N[1][0]===E[1][0]&&N[1][1]===E[1][1]||(pu(h,g,m,{nodeOrigin:x,nodeExtent:N,elevateNodesOnSelect:S,checkEquality:!1,zIndexMode:C}),v({nodeExtent:N}))},panBy:N=>{const{transform:h,width:g,height:m,panZoom:x,translateExtent:S}=y();return TE({delta:N,panZoom:x,transform:h,translateExtent:S,width:g,height:m})},setCenter:async(N,h,g)=>{const{width:m,height:x,maxZoom:S,panZoom:E}=y();if(!E)return Promise.resolve(!1);const C=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:S;return await E.setViewport({x:m/2-N*C,y:x/2-h*C,zoom:C},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...dg}})},updateConnection:N=>{v({connection:N})},reset:()=>v({...lp()})}},Object.is);function N0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p,children:v}){const[y]=I.useState(()=>nk({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:d,zIndexMode:p}));return u.jsx(N2,{value:y,children:u.jsx(U2,{children:v})})}function rk({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:l,fitViewOptions:a,minZoom:c,maxZoom:f,nodeOrigin:d,nodeExtent:p,zIndexMode:v}){return I.useContext(ol)?u.jsx(u.Fragment,{children:e}):u.jsx(N0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:c,initialMaxZoom:f,nodeOrigin:d,nodeExtent:p,zIndexMode:v,children:e})}const ik={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ok({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:c,onMove:f,onMoveStart:d,onMoveEnd:p,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:h,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:C,onNodeDrag:b,onNodeDragStop:R,onNodesDelete:O,onEdgesDelete:P,onDelete:A,onSelectionChange:F,onSelectionDragStart:j,onSelectionDrag:M,onSelectionDragStop:_,onSelectionContextMenu:$,onSelectionStart:k,onSelectionEnd:T,onBeforeDelete:L,connectionMode:D,connectionLineType:z=rn.Bezier,connectionLineStyle:H,connectionLineComponent:V,connectionLineContainerStyle:Y,deleteKeyCode:K="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:W=!1,selectionMode:X=Fi.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:J=Hi()?"Meta":"Control",zoomActivationKeyCode:Z=Hi()?"Meta":"Control",snapToGrid:q,snapGrid:oe,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:ie,nodesDraggable:Me,autoPanOnNodeFocus:Yt,nodesConnectable:It,nodesFocusable:Nn,nodeOrigin:Dr=Qg,edgesFocusable:zr,edgesReconnectable:Fr,elementsSelectable:ml=!0,defaultViewport:ro=A2,minZoom:Wn=.5,maxZoom:Br=2,translateExtent:Hc=zi,preventScrolling:V0=!0,nodeExtent:gl,defaultMarkerColor:U0="#b1b1b7",zoomOnScroll:W0=!0,zoomOnPinch:G0=!0,panOnScroll:Y0=!1,panOnScrollSpeed:K0=.5,panOnScrollMode:Q0=Rn.Free,zoomOnDoubleClick:X0=!0,panOnDrag:q0=!0,onPaneClick:Z0,onPaneMouseEnter:J0,onPaneMouseMove:ey,onPaneMouseLeave:ty,onPaneScroll:ny,onPaneContextMenu:ry,paneClickDistance:iy=1,nodeClickDistance:oy=0,children:sy,onReconnect:ly,onReconnectStart:ay,onReconnectEnd:uy,onEdgeContextMenu:cy,onEdgeDoubleClick:dy,onEdgeMouseEnter:fy,onEdgeMouseMove:py,onEdgeMouseLeave:hy,reconnectRadius:my=10,onNodesChange:gy,onEdgesChange:yy,noDragClassName:vy="nodrag",noWheelClassName:xy="nowheel",noPanClassName:Vc="nopan",fitView:Uc,fitViewOptions:Wc,connectOnClick:wy,attributionPosition:Ny,proOptions:Sy,defaultEdgeOptions:Ey,elevateNodesOnSelect:Cy=!0,elevateEdgesOnSelect:ky=!1,disableKeyboardA11y:Gc=!1,autoPanOnConnect:jy,autoPanOnNodeDrag:Ty,autoPanSpeed:by,connectionRadius:Iy,isValidConnection:_y,onError:My,style:Ry,id:Yc,nodeDragThreshold:Py,connectionDragThreshold:Ay,viewport:Ly,onViewportChange:Oy,width:$y,height:Dy,colorMode:zy="light",debug:Fy,onScroll:io,ariaLabelConfig:By,zIndexMode:Kc="basic",...Hy},Vy){const yl=Yc||"1",Uy=D2(zy),Wy=I.useCallback(Qc=>{Qc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),io==null||io(Qc)},[io]);return u.jsx("div",{"data-testid":"rf__wrapper",...Hy,onScroll:Wy,style:{...Ry,...ik},ref:Vy,className:Ee(["react-flow",i,Uy]),id:Yc,role:"application",children:u.jsxs(rk,{nodes:e,edges:t,width:$y,height:Dy,fitView:Uc,fitViewOptions:Wc,minZoom:Wn,maxZoom:Br,nodeOrigin:Dr,nodeExtent:gl,zIndexMode:Kc,children:[u.jsx(tk,{onInit:c,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:z,connectionLineStyle:H,connectionLineComponent:V,connectionLineContainerStyle:Y,selectionKeyCode:Q,selectionOnDrag:W,selectionMode:X,deleteKeyCode:K,multiSelectionKeyCode:J,panActivationKeyCode:ee,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ce,defaultViewport:ro,translateExtent:Hc,minZoom:Wn,maxZoom:Br,preventScrolling:V0,zoomOnScroll:W0,zoomOnPinch:G0,zoomOnDoubleClick:X0,panOnScroll:Y0,panOnScrollSpeed:K0,panOnScrollMode:Q0,panOnDrag:q0,onPaneClick:Z0,onPaneMouseEnter:J0,onPaneMouseMove:ey,onPaneMouseLeave:ty,onPaneScroll:ny,onPaneContextMenu:ry,paneClickDistance:iy,nodeClickDistance:oy,onSelectionContextMenu:$,onSelectionStart:k,onSelectionEnd:T,onReconnect:ly,onReconnectStart:ay,onReconnectEnd:uy,onEdgeContextMenu:cy,onEdgeDoubleClick:dy,onEdgeMouseEnter:fy,onEdgeMouseMove:py,onEdgeMouseLeave:hy,reconnectRadius:my,defaultMarkerColor:U0,noDragClassName:vy,noWheelClassName:xy,noPanClassName:Vc,rfId:yl,disableKeyboardA11y:Gc,nodeExtent:gl,viewport:Ly,onViewportChange:Oy}),u.jsx($2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:h,nodesDraggable:Me,autoPanOnNodeFocus:Yt,nodesConnectable:It,nodesFocusable:Nn,edgesFocusable:zr,edgesReconnectable:Fr,elementsSelectable:ml,elevateNodesOnSelect:Cy,elevateEdgesOnSelect:ky,minZoom:Wn,maxZoom:Br,nodeExtent:gl,onNodesChange:gy,onEdgesChange:yy,snapToGrid:q,snapGrid:oe,connectionMode:D,translateExtent:Hc,connectOnClick:wy,defaultEdgeOptions:Ey,fitView:Uc,fitViewOptions:Wc,onNodesDelete:O,onEdgesDelete:P,onDelete:A,onNodeDragStart:C,onNodeDrag:b,onNodeDragStop:R,onSelectionDrag:M,onSelectionDragStart:j,onSelectionDragStop:_,onMove:f,onMoveStart:d,onMoveEnd:p,noPanClassName:Vc,nodeOrigin:Dr,rfId:yl,autoPanOnConnect:jy,autoPanOnNodeDrag:Ty,autoPanSpeed:by,onError:My,connectionRadius:Iy,isValidConnection:_y,selectNodesOnDrag:ie,nodeDragThreshold:Py,connectionDragThreshold:Ay,onBeforeDelete:L,debug:Fy,ariaLabelConfig:By,zIndexMode:Kc}),u.jsx(P2,{onSelectionChange:F}),sy,u.jsx(b2,{proOptions:Sy,position:Ny}),u.jsx(T2,{rfId:yl,disableKeyboardA11y:Gc})]})})}var sk=qg(ok);function lk(e){const[t,n]=I.useState(e),r=I.useCallback(i=>n(o=>bc(i,o)),[]);return[t,n,r]}function ak(e){const[t,n]=I.useState(e),r=I.useCallback(i=>n(o=>Ic(i,o)),[]);return[t,n,r]}function uk({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ee(["react-flow__background-pattern",n,r])})}function ck({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Ee(["react-flow__background-pattern","dots",t])})}var Dt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Dt||(Dt={}));const dk={[Dt.Dots]:1,[Dt.Lines]:1,[Dt.Cross]:6},fk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function S0({id:e,variant:t=Dt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:l,style:a,className:c,patternClassName:f}){const d=I.useRef(null),{transform:p,patternId:v}=ne(fk,he),y=r||dk[t],w=t===Dt.Dots,N=t===Dt.Cross,h=Array.isArray(n)?n:[n,n],g=[h[0]*p[2]||1,h[1]*p[2]||1],m=y*p[2],x=Array.isArray(o)?o:[o,o],S=N?[m,m]:g,E=[x[0]*p[2]||1+S[0]/2,x[1]*p[2]||1+S[1]/2],C=`${v}${e||""}`;return u.jsxs("svg",{className:Ee(["react-flow__background",c]),style:{...a,...ll,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[u.jsx("pattern",{id:C,x:p[0]%g[0],y:p[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:w?u.jsx(ck,{radius:m/2,className:f}):u.jsx(uk,{dimensions:S,lineWidth:i,variant:t,className:f})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}S0.displayName="Background";const pk=I.memo(S0);function hk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function mk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function gk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function yk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function vk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Mo({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Ee(["react-flow__controls-button",t]),...n,children:e})}const xk=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function E0({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:c,children:f,position:d="bottom-left",orientation:p="vertical","aria-label":v}){const y=me(),{isInteractive:w,minZoomReached:N,maxZoomReached:h,ariaLabelConfig:g}=ne(xk,he),{zoomIn:m,zoomOut:x,fitView:S}=_c(),E=()=>{m(),o==null||o()},C=()=>{x(),s==null||s()},b=()=>{S(i),l==null||l()},R=()=>{y.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)},O=p==="horizontal"?"horizontal":"vertical";return u.jsxs(sl,{className:Ee(["react-flow__controls",O,c]),position:d,style:e,"data-testid":"rf__controls","aria-label":v??g["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(Mo,{onClick:E,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:h,children:u.jsx(hk,{})}),u.jsx(Mo,{onClick:C,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:N,children:u.jsx(mk,{})})]}),n&&u.jsx(Mo,{className:"react-flow__controls-fitview",onClick:b,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:u.jsx(gk,{})}),r&&u.jsx(Mo,{className:"react-flow__controls-interactive",onClick:R,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:w?u.jsx(vk,{}):u.jsx(yk,{})}),f]})}E0.displayName="Controls";const wk=I.memo(E0);function Nk({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:l,strokeWidth:a,className:c,borderRadius:f,shapeRendering:d,selected:p,onClick:v}){const{background:y,backgroundColor:w}=o||{},N=s||y||w;return u.jsx("rect",{className:Ee(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:N,stroke:l,strokeWidth:a},shapeRendering:d,onClick:v?h=>v(h,e):void 0})}const Sk=I.memo(Nk),Ek=e=>e.nodes.map(t=>t.id),ea=e=>e instanceof Function?e:()=>e;function Ck({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Sk,onClick:s}){const l=ne(Ek,he),a=ea(t),c=ea(e),f=ea(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:l.map(p=>u.jsx(jk,{id:p,nodeColorFunc:a,nodeStrokeColorFunc:c,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},p))})}function kk({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:c,x:f,y:d,width:p,height:v}=ne(y=>{const{internals:w}=y.nodeLookup.get(e),N=w.userNode,{x:h,y:g}=w.positionAbsolute,{width:m,height:x}=Gt(N);return{node:N,x:h,y:g,width:m,height:x}},he);return!c||c.hidden||!vg(c)?null:u.jsx(l,{x:f,y:d,width:p,height:v,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:a,id:c.id})}const jk=I.memo(kk);var Tk=I.memo(Ck);const bk=200,Ik=150,_k=e=>!e.hidden,Mk=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?yg(Ji(e.nodeLookup,{filter:_k}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Rk="react-flow__minimap-desc";function C0({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:c,maskStrokeColor:f,maskStrokeWidth:d,position:p="bottom-right",onClick:v,onNodeClick:y,pannable:w=!1,zoomable:N=!1,ariaLabel:h,inversePan:g,zoomStep:m=1,offsetScale:x=5}){const S=me(),E=I.useRef(null),{boundingRect:C,viewBB:b,rfId:R,panZoom:O,translateExtent:P,flowWidth:A,flowHeight:F,ariaLabelConfig:j}=ne(Mk,he),M=(e==null?void 0:e.width)??bk,_=(e==null?void 0:e.height)??Ik,$=C.width/M,k=C.height/_,T=Math.max($,k),L=T*M,D=T*_,z=x*T,H=C.x-(L-C.width)/2-z,V=C.y-(D-C.height)/2-z,Y=L+z*2,K=D+z*2,Q=`${Rk}-${R}`,W=I.useRef(0),X=I.useRef();W.current=T,I.useEffect(()=>{if(E.current&&O)return X.current=OE({domNode:E.current,panZoom:O,getTransform:()=>S.getState().transform,getViewScale:()=>W.current}),()=>{var q;(q=X.current)==null||q.destroy()}},[O]),I.useEffect(()=>{var q;(q=X.current)==null||q.update({translateExtent:P,width:A,height:F,inversePan:g,pannable:w,zoomStep:m,zoomable:N})},[w,N,g,m,P,A,F]);const ee=v?q=>{var ie;const[oe,ce]=((ie=X.current)==null?void 0:ie.pointer(q))||[0,0];v(q,{x:oe,y:ce})}:void 0,J=y?I.useCallback((q,oe)=>{const ce=S.getState().nodeLookup.get(oe).internals.userNode;y(q,ce)},[]):void 0,Z=h??j["minimap.ariaLabel"];return u.jsx(sl,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ee(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:M,height:_,viewBox:`${H} ${V} ${Y} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:E,onClick:ee,children:[Z&&u.jsx("title",{id:Q,children:Z}),u.jsx(Tk,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${H-z},${V-z}h${Y+z*2}v${K+z*2}h${-Y-z*2}z
        M${b.x},${b.y}h${b.width}v${b.height}h${-b.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}C0.displayName="MiniMap";const Pk=I.memo(C0),Ak=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Lk={[Rr.Line]:"right",[Rr.Handle]:"bottom-right"};function Ok({nodeId:e,position:t,variant:n=Rr.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:l=10,minHeight:a=10,maxWidth:c=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:p,autoScale:v=!0,shouldResize:y,onResizeStart:w,onResize:N,onResizeEnd:h}){const g=t0(),m=typeof e=="string"?e:g,x=me(),S=I.useRef(null),E=n===Rr.Handle,C=ne(I.useCallback(Ak(E&&v),[E,v]),he),b=I.useRef(null),R=t??Lk[n];I.useEffect(()=>{if(!(!S.current||!m))return b.current||(b.current=XE({domNode:S.current,nodeId:m,getStoreItems:()=>{const{nodeLookup:P,transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:M,domNode:_}=x.getState();return{nodeLookup:P,transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:M,paneDomNode:_}},onChange:(P,A)=>{const{triggerNodeChanges:F,nodeLookup:j,parentLookup:M,nodeOrigin:_}=x.getState(),$=[],k={x:P.x,y:P.y},T=j.get(m);if(T&&T.expandParent&&T.parentId){const L=T.origin??_,D=P.width??T.measured.width??0,z=P.height??T.measured.height??0,H={id:T.id,parentId:T.parentId,rect:{width:D,height:z,...xg({x:P.x??T.position.x,y:P.y??T.position.y},{width:D,height:z},T.parentId,j,L)}},V=Tc([H],j,M,_);$.push(...V),k.x=P.x?Math.max(L[0]*D,P.x):void 0,k.y=P.y?Math.max(L[1]*z,P.y):void 0}if(k.x!==void 0&&k.y!==void 0){const L={id:m,type:"position",position:{...k}};$.push(L)}if(P.width!==void 0&&P.height!==void 0){const D={id:m,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};$.push(D)}for(const L of A){const D={...L,type:"position"};$.push(D)}F($)},onEnd:({width:P,height:A})=>{const F={id:m,type:"dimensions",resizing:!1,dimensions:{width:P,height:A}};x.getState().triggerNodeChanges([F])}})),b.current.update({controlPosition:R,boundaries:{minWidth:l,minHeight:a,maxWidth:c,maxHeight:f},keepAspectRatio:d,resizeDirection:p,onResizeStart:w,onResize:N,onResizeEnd:h,shouldResize:y}),()=>{var P;(P=b.current)==null||P.destroy()}},[R,l,a,c,f,d,w,N,h,y]);const O=R.split("-");return u.jsx("div",{className:Ee(["react-flow__resize-control","nodrag",...O,n,r]),ref:S,style:{...i,scale:C,...s&&{[E?"backgroundColor":"borderColor"]:s}},children:o})}I.memo(Ok);const k0={},{useDebugValue:$k}=Ot,{useSyncExternalStoreWithSelector:Dk}=Vg;let ap=!1;const zk=e=>e;function Fk(e,t=zk,n){(k0?"production":void 0)!=="production"&&n&&!ap&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ap=!0);const r=Dk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $k(r),r}const Bk=e=>{(k0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ug(e):e,n=(r,i)=>Fk(t,r,i);return Object.assign(n,t),n},Hk=e=>Bk,Vk=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(s,l,a)=>{let c=s;if(l){const f=(a==null?void 0:a.equalityFn)||Object.is;let d=s(r.getState());c=p=>{const v=s(p);if(!f(d,v)){const y=d;l(d=v,y)}},a!=null&&a.fireImmediately&&l(d,d)}return i(c)},e(t,n,r)},Uk=Vk;function Wk(){return console.warn("Running outside VS Code - using mock API"),{postMessage:e=>{console.log("VS Code postMessage:",e)},getState:()=>{const e=localStorage.getItem("vscode-state");return e?JSON.parse(e):void 0},setState:e=>{localStorage.setItem("vscode-state",JSON.stringify(e))}}}const ta=typeof window.acquireVsCodeApi=="function"?window.acquireVsCodeApi():Wk(),vr={postMessage:e=>{ta.postMessage(e)},getState:()=>ta.getState(),setState:e=>{ta.setState(e)}},Gk=new Set(["CREATE","STREAM","TABLE","TRIGGER","DROP","ALTER","SELECT","FROM","WHERE","INSERT","INTO","UPDATE","DELETE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","WINDOW","PARTITION","JOIN","INNER","LEFT","RIGHT","FULL","OUTER","ON","AS","DISTINCT","ALL","AND","OR","NOT","IN","IS","NULL","BETWEEN","LIKE","CASE","WHEN","THEN","ELSE","END","CAST","PATTERN","SEQUENCE","EVERY","WITHIN","FOR","AT","START","CRON","CURRENT","EXPIRED","EVENTS","OUTPUT","PRIMARY","KEY","WITH","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","INT","INTEGER","LONG","BIGINT","FLOAT","DOUBLE","REAL","STRING","VARCHAR","CHAR","TEXT","BOOL","BOOLEAN"]);function Yk(e){var r;const t=[];let n=0;for(;n<e.length;){const i=e[n];if(/\s/.test(i)){const o=n;for(;n<e.length&&/\s/.test(e[n]);)n++;t.push({type:"WHITESPACE",value:e.slice(o,n),position:o});continue}if(e.slice(n,n+2)==="--"){const o=n;for(;n<e.length&&e[n]!==`
`;)n++;t.push({type:"COMMENT",value:e.slice(o,n),position:o});continue}if(e.slice(n,n+2)==="/*"){const o=n;for(n+=2;n<e.length-1&&e.slice(n,n+2)!=="*/";)n++;n+=2,t.push({type:"COMMENT",value:e.slice(o,n),position:o});continue}if(i==="'"){const o=n;for(n++;n<e.length&&e[n]!=="'";)e[n]==="\\"&&n++,n++;n++,t.push({type:"STRING",value:e.slice(o,n),position:o});continue}if(i==='"'){const o=n;for(n++;n<e.length&&e[n]!=='"';)n++;n++,t.push({type:"IDENTIFIER",value:e.slice(o,n),position:o});continue}if(/\d/.test(i)||i==="."&&/\d/.test(e[n+1]||"")){const o=n;for(;n<e.length&&/[\d.]/.test(e[n]);)n++;if(((r=e[n])==null?void 0:r.toLowerCase())==="e")for(n++,(e[n]==="+"||e[n]==="-")&&n++;n<e.length&&/\d/.test(e[n]);)n++;t.push({type:"NUMBER",value:e.slice(o,n),position:o});continue}if(/[a-zA-Z_]/.test(i)){const o=n;for(;n<e.length&&/[a-zA-Z0-9_]/.test(e[n]);)n++;const s=e.slice(o,n),l=s.toUpperCase();t.push({type:Gk.has(l)?"KEYWORD":"IDENTIFIER",value:s,position:o});continue}if(/[=<>!+\-*/%&|^~]/.test(i)){const o=n,s=e.slice(n,n+2);["<=",">=","!=","<>","||","&&","->"].includes(s)?n+=2:n++,t.push({type:"OPERATOR",value:e.slice(o,n),position:o});continue}if(/[(),;.\[\]{}:]/.test(i)){t.push({type:"PUNCTUATION",value:i,position:n}),n++;continue}n++}return t.push({type:"EOF",value:"",position:n}),t}class j0{constructor(t){vl(this,"tokens");vl(this,"pos",0);this.tokens=Yk(t).filter(n=>n.type!=="WHITESPACE"&&n.type!=="COMMENT")}current(){return this.tokens[this.pos]||{type:"EOF",value:"",position:-1}}advance(){const t=this.current();return this.pos++,t}expect(t,n){const r=this.current();if(r.type!==t||n!==void 0&&r.value.toUpperCase()!==n.toUpperCase())throw new Error(`Expected ${t}${n?` '${n}'`:""}, got ${r.type} '${r.value}'`);return this.advance()}match(t,n){const r=this.current();return r.type===t&&(n===void 0||r.value.toUpperCase()===n.toUpperCase())}matchKeyword(...t){return this.match("KEYWORD")&&t.some(n=>this.current().value.toUpperCase()===n)}parse(){const t=[];for(;!this.match("EOF");)for(this.matchKeyword("CREATE")?t.push(this.parseCreate()):this.matchKeyword("SELECT","INSERT")?t.push(this.parseQuery()):this.advance();this.match("PUNCTUATION",";");)this.advance();return t}parseCreate(){if(this.expect("KEYWORD","CREATE"),this.matchKeyword("STREAM"))return this.parseCreateStream();if(this.matchKeyword("TABLE"))return this.parseCreateTable();if(this.matchKeyword("TRIGGER"))return this.parseCreateTrigger();throw new Error(`Unknown CREATE type: ${this.current().value}`)}parseCreateStream(){this.expect("KEYWORD","STREAM");const t=this.expect("IDENTIFIER").value;this.expect("PUNCTUATION","(");const n=this.parseAttributeList();return this.expect("PUNCTUATION",")"),{type:"stream",name:t,attributes:n}}parseCreateTable(){this.expect("KEYWORD","TABLE");const t=this.expect("IDENTIFIER").value;this.expect("PUNCTUATION","(");const n=this.parseAttributeList();this.expect("PUNCTUATION",")");const r={type:"table",name:t,attributes:n};return this.matchKeyword("PRIMARY")&&(this.advance(),this.expect("KEYWORD","KEY"),this.expect("PUNCTUATION","("),r.primaryKey=this.parseIdentifierList(),this.expect("PUNCTUATION",")")),this.matchKeyword("WITH")&&(this.advance(),this.expect("PUNCTUATION","("),r.withConfig=this.parseWithConfig(),this.expect("PUNCTUATION",")")),r}parseCreateTrigger(){this.expect("KEYWORD","TRIGGER");const t=this.expect("IDENTIFIER").value;if(this.expect("KEYWORD","AT"),this.matchKeyword("START"))return this.advance(),{type:"trigger",name:t,triggerType:"start"};if(this.matchKeyword("EVERY")){this.advance();const n=parseInt(this.expect("NUMBER").value),r=this.expect("KEYWORD").value;return{type:"trigger",name:t,triggerType:"periodic",atEvery:n,unit:r}}else if(this.matchKeyword("CRON")){this.advance();const n=this.expect("STRING").value.slice(1,-1);return{type:"trigger",name:t,triggerType:"cron",cronExpression:n}}throw new Error(`Unknown trigger type: ${this.current().value}`)}parseAttributeList(){const t=[];do{const n=this.expect("IDENTIFIER").value,r=this.expect("KEYWORD").value;t.push({name:n,type:r})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseIdentifierList(){const t=[];do t.push(this.expect("IDENTIFIER").value);while(this.match("PUNCTUATION",",")&&this.advance());return t}parseWithConfig(){const t={};do{const n=this.expect("STRING").value.slice(1,-1);this.expect("OPERATOR","=");const r=this.expect("STRING").value.slice(1,-1);t[n]=r}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseQuery(){let t="";this.matchKeyword("INSERT")&&(this.advance(),this.expect("KEYWORD","INTO"),t=this.expect("IDENTIFIER").value),this.expect("KEYWORD","SELECT"),this.matchKeyword("DISTINCT")&&this.advance();const n=this.parseSelectList();this.expect("KEYWORD","FROM");const r=this.parseFromClause();let i;this.matchKeyword("JOIN","INNER","LEFT","RIGHT","FULL")&&(i=this.parseJoinClause());let o;this.matchKeyword("WHERE")&&(this.advance(),o=this.parseExpression());let s;this.matchKeyword("GROUP")&&(this.advance(),this.expect("KEYWORD","BY"),s=this.parseIdentifierList());let l;return this.matchKeyword("HAVING")&&(this.advance(),l=this.parseExpression()),this.matchKeyword("INSERT")&&(this.advance(),this.expect("KEYWORD","INTO"),t=this.expect("IDENTIFIER").value),{type:"query",select:n,from:r,where:o,groupBy:s,having:l,insertInto:t,join:i}}parseSelectList(){const t=[];do{const n=this.parseExpression();let r;this.matchKeyword("AS")&&(this.advance(),r=this.expect("IDENTIFIER").value),t.push({expression:n,alias:r})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseFromClause(){const t=[];do{const n=this.expect("IDENTIFIER").value;let r,i;this.matchKeyword("AS")?(this.advance(),r=this.expect("IDENTIFIER").value):this.match("IDENTIFIER")&&!this.matchKeyword("WINDOW","WHERE","GROUP","JOIN","INSERT","INNER","LEFT","RIGHT","FULL")&&(r=this.advance().value),this.matchKeyword("WINDOW")&&(i=this.parseWindowClause()),t.push({source:n,alias:r,window:i})}while(this.match("PUNCTUATION",",")&&this.advance());return t}parseJoinClause(){let t="INNER";this.matchKeyword("INNER","LEFT","RIGHT","FULL")&&(t=this.advance().value,this.matchKeyword("OUTER")&&this.advance()),this.expect("KEYWORD","JOIN");const n=this.expect("IDENTIFIER").value;let r;this.matchKeyword("AS")?(this.advance(),r=this.expect("IDENTIFIER").value):this.match("IDENTIFIER")&&!this.matchKeyword("WINDOW","ON")&&(r=this.advance().value);let i;this.matchKeyword("WINDOW")&&(i=this.parseWindowClause()),this.expect("KEYWORD","ON");const o=this.parseExpression();return{type:t,source:n,alias:r,on:o,window:i}}parseWindowClause(){this.expect("KEYWORD","WINDOW"),this.expect("PUNCTUATION","(");const t=this.expect("STRING").value.slice(1,-1),n=[];for(;this.match("PUNCTUATION",",");)if(this.advance(),this.match("NUMBER")){const r=this.advance().value;this.matchKeyword("MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS")?n.push(`${r} ${this.advance().value}`):n.push(parseFloat(r))}else this.match("IDENTIFIER")?n.push(this.advance().value):this.match("STRING")&&n.push(this.advance().value.slice(1,-1));return this.expect("PUNCTUATION",")"),{type:t,params:n}}parseExpression(){const t=[];let n=0;for(;!this.match("EOF");){const r=this.current();if(n===0&&(r.type==="PUNCTUATION"&&[",",";"].includes(r.value)||r.type==="KEYWORD"&&["FROM","WHERE","GROUP","HAVING","ORDER","INSERT","JOIN","ON","AS","INNER","LEFT","RIGHT","FULL","WINDOW"].includes(r.value.toUpperCase())))break;if(r.value==="("&&n++,r.value===")"){if(n===0)break;n--}t.push(r.value),this.advance()}return t.join(" ").replace(/ ([,)])/g,"$1").replace(/([,(]) /g,"$1")}}function Kk(e){const t=[],n=[];try{const i=new j0(e).parse();let o=100,s=100;const l=250,a=150;let c=0;for(const f of i){const d=`${f.type}-${Date.now()}-${c++}`;switch(f.type){case"stream":t.push({id:d,type:"stream",position:{x:o,y:s},properties:{streamName:f.name,attributes:f.attributes.map(v=>({name:v.name,type:up(v.type)}))}}),s+=a;break;case"table":t.push({id:d,type:"table",position:{x:o,y:s},properties:{tableName:f.name,attributes:f.attributes.map(v=>({name:v.name,type:up(v.type)})),primaryKey:f.primaryKey,extension:f.extension,withConfig:f.withConfig}}),s+=a;break;case"trigger":t.push({id:d,type:"trigger",position:{x:o,y:s},properties:{triggerId:f.name,triggerType:f.triggerType,atEvery:f.atEvery?Xk(f.atEvery,f.unit||"MILLISECONDS"):void 0,cronExpression:f.cronExpression}}),s+=a;break;case"query":const p=qk(f,o+l,s);t.push(...p),s+=a*2;break}}}catch(r){n.push(r instanceof Error?r.message:String(r))}return{elements:t,errors:n}}function up(e){switch(e.toUpperCase()){case"INTEGER":case"INT":return"INT";case"BIGINT":case"LONG":return"LONG";case"REAL":case"FLOAT":return"FLOAT";case"DOUBLE":return"DOUBLE";case"VARCHAR":case"CHAR":case"TEXT":case"STRING":return"STRING";case"BOOLEAN":case"BOOL":return"BOOL";default:return"STRING"}}function Qk(e){switch(e.toLowerCase()){case"length":return"length";case"lengthbatch":return"lengthBatch";case"time":return"time";case"timebatch":return"timeBatch";case"tumbling":return"tumbling";case"sliding":return"sliding";case"session":return"session";case"externaltime":return"externalTime";case"externaltimebatch":return"externalTimeBatch";case"sort":return"sort";default:return"length"}}function Xk(e,t){switch(t.toUpperCase()){case"MILLISECONDS":return e;case"SECONDS":return e*1e3;case"MINUTES":return e*60*1e3;case"HOURS":return e*60*60*1e3;case"DAYS":return e*24*60*60*1e3;default:return e}}function qk(e,t,n){var l;const r=[];let i=t,o=0;if((l=e.from[0])!=null&&l.window){const a=e.from[0].window;r.push({id:`window-${Date.now()}-${o++}`,type:"window",position:{x:i,y:n},properties:{windowType:Qk(a.type),parameters:Zk(a)}}),i+=200}if(e.where){const a=cp(e.where);a&&(r.push({id:`filter-${Date.now()}-${o++}`,type:"filter",position:{x:i,y:n},properties:{condition:a}}),i+=200)}if(e.select.some(a=>/^(COUNT|SUM|AVG|MIN|MAX|FIRST|LAST|STDDEV|VARIANCE)\s*\(/i.test(a.expression))){const a=e.select.filter(c=>/^(COUNT|SUM|AVG|MIN|MAX|FIRST|LAST|STDDEV|VARIANCE)\s*\(/i.test(c.expression)).map(c=>{const f=c.expression.match(/^(\w+)\s*\(\s*(.+?)\s*\)$/i);return f?{type:f[1].toUpperCase(),expression:{type:"variable",variableName:f[2]},alias:c.alias||f[1].toLowerCase()}:null}).filter(c=>c!==null);a.length>0&&(r.push({id:`aggregation-${Date.now()}-${o++}`,type:"aggregation",position:{x:i,y:n},properties:{aggregations:a}}),i+=200)}else e.select.length>0&&e.select[0].expression!=="*"&&(r.push({id:`projection-${Date.now()}-${o++}`,type:"projection",position:{x:i,y:n},properties:{selectList:e.select.map(a=>({expression:{type:"variable",variableName:a.expression},alias:a.alias}))}}),i+=200);if(e.groupBy&&e.groupBy.length>0){const a=e.having?cp(e.having):void 0;r.push({id:`groupBy-${Date.now()}-${o++}`,type:"groupBy",position:{x:i,y:n},properties:{groupByAttributes:e.groupBy,havingCondition:a||void 0}}),i+=200}return e.insertInto&&r.push({id:`stream-${Date.now()}-${o++}`,type:"stream",position:{x:i,y:n},properties:{streamName:e.insertInto,attributes:[]}}),r}function Zk(e){const t={};switch(e.type.toLowerCase()){case"length":case"lengthbatch":t.count=typeof e.params[0]=="number"?e.params[0]:parseInt(String(e.params[0]));break;case"time":case"timebatch":case"tumbling":case"session":t.duration=Zr(e.params[0]);break;case"sliding":t.duration=Zr(e.params[0]),e.params[1]&&(t.slideInterval=Zr(e.params[1]));break;case"externaltime":case"externaltimebatch":typeof e.params[0]=="string"&&!/\d/.test(e.params[0])?(t.timestampAttribute=e.params[0],t.duration=Zr(e.params[1])):t.duration=Zr(e.params[0]);break;case"sort":t.count=typeof e.params[0]=="number"?e.params[0]:parseInt(String(e.params[0])),e.params[1]&&(t.sortAttribute=e.params[1]);break}return t}function Zr(e){if(e===void 0)return;if(typeof e=="number")return{value:e,unit:"MILLISECONDS"};const t=String(e).match(/^(\d+)\s*(MILLISECONDS|SECONDS|MINUTES|HOURS|DAYS)$/i);return t?{value:parseInt(t[1]),unit:t[2].toUpperCase()}:{value:parseInt(String(e)),unit:"MILLISECONDS"}}function cp(e){if(!e||e.trim()==="")return null;const t=e.match(/^(\w+(?:\.\w+)?)\s*(=|!=|<>|>|<|>=|<=)\s*(.+)$/);if(t){const[,n,r,i]=t,o=n.split("."),s=i.trim(),l=parseFloat(s),a=s.startsWith("'")&&s.endsWith("'");return{type:"compare",operator:r==="<>"?"!=":r,left:{type:"variable",variableName:o.length>1?o[1]:o[0],streamId:o.length>1?o[0]:void 0},right:{type:"constant",constantType:a||isNaN(l)?"string":"double",constantValue:a?s.slice(1,-1):isNaN(l)?s:l}}}return{type:"variable",variableName:e}}function Jk(e){const t=[];try{new j0(e).parse()}catch(n){t.push(n instanceof Error?n.message:String(n))}return{valid:t.length===0,errors:t}}function ej(e,t){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}const tj={gridSize:20,snapToGrid:!0,autoSave:!0,engineHost:"localhost",enginePort:9090};let Rs=null;const nj=ej(()=>{Rs&&Rs()},500),$r=Hk()(Uk((e,t)=>({application:{elements:[],connections:[]},name:"Untitled Project",isDirty:!1,nodes:[],edges:[],selectedElementIds:[],selectedConnectionId:null,viewMode:"visual",generatedSQL:"",config:tj,loadApplication:n=>{const r=n.application.elements.map(o=>({id:o.id,type:o.type,position:o.position,data:o.properties})),i=n.application.connections.map(o=>({id:o.id,source:o.sourceElementId,sourceHandle:o.sourcePortId,target:o.targetElementId,targetHandle:o.targetPortId,animated:!0}));e({application:n.application,name:n.name,nodes:r,edges:i,isDirty:!1}),t().regenerateSQL()},setNodes:n=>{const r=n.map(i=>({id:i.id,type:i.type,position:i.position,properties:i.data}));e(i=>({nodes:n,application:{...i.application,elements:r},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},setEdges:n=>{const r=n.map(i=>({id:i.id,sourceElementId:i.source,sourcePortId:i.sourceHandle||"output",targetElementId:i.target,targetPortId:i.targetHandle||"input"}));e(i=>({edges:n,application:{...i.application,connections:r},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},onNodesChange:n=>{e(r=>({nodes:bc(n,r.nodes)}))},onEdgesChange:n=>{e(r=>({edges:Ic(n,r.edges)}))},addElement:(n,r,i={})=>{const o=`${n}-${Date.now()}`,s={...rj(n),...i},l={id:o,type:n,position:r,data:s},a={id:o,type:n,position:r,properties:s};e(c=>({nodes:[...c.nodes,l],application:{...c.application,elements:[...c.application.elements,a]},isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},removeElement:n=>{e(r=>({nodes:r.nodes.filter(i=>i.id!==n),edges:r.edges.filter(i=>i.source!==n&&i.target!==n),application:{elements:r.application.elements.filter(i=>i.id!==n),connections:r.application.connections.filter(i=>i.sourceElementId!==n&&i.targetElementId!==n)},selectedElementIds:r.selectedElementIds.filter(i=>i!==n),isDirty:!0})),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},updateElement:(n,r)=>{e(i=>{const o=i.nodes.map(l=>{if(l.id!==n)return l;const a=r;return a.data?{...l,data:{...l.data,...a.data}}:{...l,...r}}),s=i.application.elements.map(l=>{if(l.id!==n)return l;const a=o.find(c=>c.id===n);return a?{...l,position:a.position,properties:a.data}:l});return{nodes:o,application:{...i.application,elements:s},isDirty:!0}}),t().regenerateSQL(),t().config.autoSave&&t().debouncedSave()},addConnection:n=>{const r={id:n.id,source:n.sourceElementId,sourceHandle:n.sourcePortId,target:n.targetElementId,targetHandle:n.targetPortId,animated:!0};e(i=>({edges:[...i.edges,r],isDirty:!0})),t().regenerateSQL()},removeConnection:n=>{e(r=>({edges:r.edges.filter(i=>i.id!==n),selectedConnectionId:r.selectedConnectionId===n?null:r.selectedConnectionId,isDirty:!0})),t().regenerateSQL()},selectElement:(n,r=!1)=>{e(i=>n===null?{selectedElementIds:[]}:r?{selectedElementIds:i.selectedElementIds.includes(n)?i.selectedElementIds.filter(s=>s!==n):[...i.selectedElementIds,n]}:{selectedElementIds:[n]})},clearSelection:()=>{e({selectedElementIds:[],selectedConnectionId:null})},setViewMode:n=>{e({viewMode:n})},regenerateSQL:()=>{const{application:n}=t(),r=ij(n);e({generatedSQL:r})},updateSQL:n=>{e({generatedSQL:n})},importSQL:n=>{const{elements:r,errors:i}=Kk(n);if(i.length>0)return{success:!1,errors:i};if(r.length===0)return{success:!1,errors:["No valid elements found in SQL"]};const o=r.map(l=>({id:l.id,type:l.type,position:l.position,data:l.properties})),s=[];for(let l=0;l<r.length-1;l++){const a=r[l],c=r[l+1];["stream","table","trigger"].includes(a.type)&&["stream","table","trigger"].includes(c.type)||s.push({id:`edge-${Date.now()}-${l}`,source:a.id,target:c.id,sourceHandle:"output",targetHandle:"input",animated:!0})}return e({nodes:o,edges:s,application:{elements:r,connections:s.map(l=>({id:l.id,sourceElementId:l.source,sourcePortId:l.sourceHandle||"output",targetElementId:l.target,targetPortId:l.targetHandle||"input"}))},generatedSQL:n,isDirty:!0}),t().config.autoSave&&t().debouncedSave(),{success:!0,errors:[]}},getSQLValidation:n=>Jk(n),save:()=>{const n=t(),r=n.nodes.map(o=>({id:o.id,type:o.type,position:o.position,properties:o.data})),i={$schema:"https://eventflux.io/schemas/studio/v1.json",version:"1.0",name:n.name,application:{elements:r,connections:n.edges.map(o=>({id:o.id,sourceElementId:o.source,sourcePortId:o.sourceHandle||"output",targetElementId:o.target,targetPortId:o.targetHandle||"input"}))},layout:{zoom:1,pan:{x:0,y:0},gridSize:n.config.gridSize,snapToGrid:n.config.snapToGrid},metadata:{created:new Date().toISOString(),modified:new Date().toISOString()}};vr.postMessage({type:"update",content:i}),e({isDirty:!1})},debouncedSave:()=>{Rs||(Rs=()=>t().save()),nj()},setConfig:n=>{e(r=>({config:{...r.config,...n}}))},getUpstreamSchema:n=>{const{nodes:r,edges:i}=t(),o=[],s=new Set,l=c=>{if(s.has(c))return[];s.add(c);const f=[],d=i.filter(p=>p.target===c);for(const p of d){const v=r.find(y=>y.id===p.source);v&&(f.push(v),f.push(...l(v.id)))}return f},a=l(n);for(const c of a){const f=c.data;switch(c.type){case"stream":{const d=f.streamName||"",p=f.attributes||[];for(const v of p)o.push({name:v.name,type:v.type,streamId:d,source:c.id});break}case"table":{const d=f.tableName||"",p=f.attributes||[];for(const v of p)o.push({name:v.name,type:v.type,streamId:d,source:c.id});break}case"projection":{const d=f.selectList||[];for(const p of d){const v=p.alias,y=p.expression;if(v){let w="STRING";if((y==null?void 0:y.type)==="variable"&&(y!=null&&y.variableName)){const N=o.find(h=>h.name===y.variableName);N&&(w=N.type)}o.push({name:v,type:w,source:c.id})}}break}case"aggregation":{const d=f.aggregations||[];for(const p of d){let v="DOUBLE";p.type==="COUNT"||p.type==="DISTINCTCOUNT"?v="LONG":(p.type==="FIRST"||p.type==="LAST")&&(v="STRING"),o.push({name:p.alias,type:v,source:c.id})}break}}}return o},getAllStreams:()=>{const{nodes:n}=t(),r=[];for(const i of n){const o=i.data;if(i.type==="stream"){const s=o.streamName||"",l=o.attributes||[];r.push({id:i.id,name:s,attributes:l.map(a=>({name:a.name,type:a.type,streamId:s,source:i.id}))})}else if(i.type==="table"){const s=o.tableName||"",l=o.attributes||[];r.push({id:i.id,name:s,attributes:l.map(a=>({name:a.name,type:a.type,streamId:s,source:i.id}))})}}return r}})));function rj(e){switch(e){case"stream":return{streamName:"NewStream",attributes:[{name:"id",type:"INT"},{name:"value",type:"DOUBLE"}]};case"table":return{tableName:"NewTable",attributes:[{name:"key",type:"STRING"},{name:"value",type:"STRING"}]};case"trigger":return{triggerId:"NewTrigger",triggerType:"periodic",atEvery:1e3};case"window":return{windowType:"length",parameters:{count:10}};case"filter":return{condition:null};case"projection":return{selectList:[]};case"aggregation":return{aggregations:[]};case"groupBy":return{groupByAttributes:[]};case"join":return{joinType:"inner",onCondition:null};case"pattern":return{mode:"pattern",patternExpression:{type:"stream",streamName:""}};case"partition":return{partitionBy:[]};default:return{}}}function ij(e){var c,f;const t=[],{elements:n,connections:r}=e,i=n.filter(d=>d.type==="stream");for(const d of i){const p=d.properties,v=((c=p.attributes)==null?void 0:c.map(y=>`${y.name} ${y.type}`).join(", "))||"";t.push(`CREATE STREAM ${p.streamName} (${v});`)}const o=n.filter(d=>d.type==="table");for(const d of o){const p=d.properties,v=((f=p.attributes)==null?void 0:f.map(y=>`${y.name} ${y.type}`).join(", "))||"";t.push(`CREATE TABLE ${p.tableName} (${v});`)}const s=n.filter(d=>d.type==="trigger");for(const d of s){const p=d.properties;p.triggerType==="start"?t.push(`CREATE TRIGGER ${p.triggerId} AT START;`):p.triggerType==="periodic"?t.push(`CREATE TRIGGER ${p.triggerId} AT EVERY ${p.atEvery} MILLISECONDS;`):p.triggerType==="cron"&&t.push(`CREATE TRIGGER ${p.triggerId} AT CRON '${p.cronExpression}';`)}t.length>0&&t.push("");const l=["window","filter","projection","aggregation","groupBy","join","pattern","partition"];let a=0;for(const d of r){const p=n.find(y=>y.id===d.sourceElementId),v=n.find(y=>y.id===d.targetElementId);if(p&&v&&l.includes(p.type)&&v.type==="stream"){const y=v.properties.streamName,w=oj(p,y,n,r);w&&(a>0&&t.push(""),t.push(w),a++)}}return t.join(`
`)}function oj(e,t,n,r){const i=sj(e.id,n,r);if(i.length===0)return null;let o="",s="",l="",a="SELECT *",c="",f="";for(const p of i)switch(p.type){case"stream":{o=p.properties.streamName;break}case"window":{const v=p.properties;s=lj(v);break}case"filter":{const v=p.properties;v.condition&&(l=`WHERE ${Ne(v.condition)}`);break}case"projection":{const v=p.properties;v.selectList&&v.selectList.length>0&&(a="SELECT "+v.selectList.map(y=>{const w=Ne(y.expression);return y.alias?`${w} AS ${y.alias}`:w}).join(", "));break}case"aggregation":{const v=p.properties;v.aggregations&&v.aggregations.length>0&&(a="SELECT "+v.aggregations.map(w=>{const N=Ne(w.expression);return`${w.type}(${N}) AS ${w.alias}`}).join(", "));break}case"groupBy":{const v=p.properties;v.groupByAttributes&&v.groupByAttributes.length>0&&(c=`GROUP BY ${v.groupByAttributes.join(", ")}`),v.havingCondition&&(f=`HAVING ${Ne(v.havingCondition)}`);break}}if(!o)return null;const d=[`INSERT INTO ${t}`,a,`FROM ${o}${s?" "+s:""}`];return l&&d.push(l),c&&d.push(c),f&&d.push(f),d.join(`
`)+";"}function sj(e,t,n){const r=[];let i=e;for(;i;){const o=t.find(l=>l.id===i);if(!o)break;r.unshift(o);const s=n.find(l=>l.targetElementId===i);i=s?s.sourceElementId:null}return r}function lj(e){const{windowType:t,parameters:n}=e;switch(t){case"length":return`WINDOW('length', ${n.count})`;case"lengthBatch":return`WINDOW('lengthBatch', ${n.count})`;case"time":return`WINDOW('time', ${qt(n.duration)})`;case"timeBatch":return`WINDOW('timeBatch', ${qt(n.duration)})`;case"tumbling":return`WINDOW('tumbling', ${qt(n.duration)})`;case"sliding":return`WINDOW('sliding', ${qt(n.duration)}, ${qt(n.slideInterval)})`;case"session":return`WINDOW('session', ${qt(n.gapDuration)})`;case"externalTime":return`WINDOW('externalTime', ${n.timestampAttribute}, ${qt(n.duration)})`;case"externalTimeBatch":return`WINDOW('externalTimeBatch', ${n.timestampAttribute}, ${qt(n.duration)})`;case"sort":return`WINDOW('sort', ${n.count}, ${n.sortAttribute})`;default:return""}}function qt(e){return e?`${e.value} ${e.unit}`:"0 SECONDS"}function Ne(e){if(!e)return"*";if(typeof e!="object")return String(e);const t=e;switch(t.type){case"constant":return t.constantType==="string"?`'${t.constantValue}'`:t.constantType==="null"?"NULL":String(t.constantValue);case"variable":return t.streamId?`${t.streamId}.${t.variableName}`:String(t.variableName);case"function":const n=(t.parameters||[]).map(r=>Ne(r)).join(", ");return`${String(t.functionName).toUpperCase()}(${n})`;case"compare":return`${Ne(t.left)} ${t.operator} ${Ne(t.right)}`;case"and":return`(${Ne(t.left)} AND ${Ne(t.right)})`;case"or":return`(${Ne(t.left)} OR ${Ne(t.right)})`;case"not":return`NOT ${Ne(t.operand)}`;case"add":return`(${Ne(t.left)} + ${Ne(t.right)})`;case"subtract":return`(${Ne(t.left)} - ${Ne(t.right)})`;case"multiply":return`(${Ne(t.left)} * ${Ne(t.right)})`;case"divide":return`(${Ne(t.left)} / ${Ne(t.right)})`;default:return"*"}}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:a,...c},f)=>I.createElement("svg",{ref:f,...aj,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${uj(e)}`,l].join(" "),...c},[...t.map(([d,p])=>I.createElement(d,p)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=se("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=se("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=se("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=se("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=se("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=se("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=se("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=se("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=se("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=se("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=se("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=se("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=se("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function wj(){const{name:e,isDirty:t,save:n,generatedSQL:r,viewMode:i,setViewMode:o}=$r(),s=()=>{n()},l=()=>{vr.postMessage({type:"showSQL",sql:r})},a=()=>{vr.postMessage({type:"saveSQL",sql:r})},c=()=>{vr.postMessage({type:"runSimulation",application:{}})},f=()=>{};return u.jsxs("div",{className:"h-12 border-b border-vscode-border flex items-center px-4 gap-2 bg-gray-900/50",children:[u.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[u.jsx("span",{className:"font-medium",children:e}),t&&u.jsx("span",{className:"text-xs text-gray-500",children:"(unsaved)"})]}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:yj,label:"Save",onClick:s,shortcut:"Ctrl+S"}),u.jsx(Zt,{icon:fp,label:"View SQL",onClick:l}),u.jsx(Zt,{icon:fp,label:"Export SQL",onClick:a}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:vj,label:"Undo",onClick:()=>{},shortcut:"Ctrl+Z",disabled:!0}),u.jsx(Zt,{icon:mj,label:"Redo",onClick:()=>{},shortcut:"Ctrl+Y",disabled:!0}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsx(Zt,{icon:dj,label:"Auto Layout",onClick:f}),u.jsx(Zt,{icon:fj,label:"Fit View",onClick:()=>{}}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded p-1",children:[u.jsx(na,{active:i==="visual",onClick:()=>o("visual"),label:"Visual"}),u.jsx(na,{active:i==="split",onClick:()=>o("split"),label:"Split"}),u.jsx(na,{active:i==="sql",onClick:()=>o("sql"),label:"SQL"})]}),u.jsx("div",{className:"h-6 w-px bg-vscode-border mx-2"}),u.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 hover:bg-green-500 text-white rounded text-sm font-medium transition-colors",children:[u.jsx(hj,{className:"w-4 h-4"}),"Run"]}),u.jsx(Zt,{icon:I0,label:"Settings",onClick:()=>{}})]})}function Zt({icon:e,label:t,onClick:n,shortcut:r,disabled:i}){return u.jsxs("button",{onClick:n,disabled:i,className:`
        flex items-center gap-1.5 px-2 py-1.5 rounded text-sm
        transition-colors
        ${i?"text-gray-600 cursor-not-allowed":"text-gray-300 hover:bg-vscode-list-hover hover:text-white"}
      `,title:r?`${t} (${r})`:t,children:[u.jsx(e,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden lg:inline",children:t})]})}function na({active:e,onClick:t,label:n}){return u.jsx("button",{onClick:t,className:`
        px-3 py-1 rounded text-xs font-medium transition-colors
        ${e?"bg-vscode-button-bg text-white":"text-gray-400 hover:text-white"}
      `,children:n})}const Nj=[{id:"connectors",name:"Connectors",description:"External systems",items:[{type:"source",name:"Source",description:"External data source (Kafka, HTTP, etc.)",icon:ul,color:"bg-source"},{type:"sink",name:"Sink",description:"External data destination (Kafka, Log, etc.)",icon:cl,color:"bg-sink"}]},{id:"data",name:"Data",description:"Event channels",items:[{type:"stream",name:"Stream",description:"Event stream - central data channel",icon:dl,color:"bg-stream"},{type:"table",name:"Table",description:"Reference data table with state",icon:fl,color:"bg-table"},{type:"trigger",name:"Trigger",description:"Time-based event generator",icon:Bc,color:"bg-trigger"}]},{id:"processing",name:"Processing",description:"Transform events",items:[{type:"window",name:"Window",description:"Time or count-based windowing",icon:Ac,color:"bg-window"},{type:"filter",name:"Filter",description:"Filter events by condition",icon:Oc,color:"bg-filter"},{type:"projection",name:"Projection",description:"Select and transform columns",icon:Lc,color:"bg-projection"},{type:"aggregation",name:"Aggregation",description:"Aggregate functions (SUM, AVG, etc.)",icon:Rc,color:"bg-aggregation"},{type:"groupBy",name:"Group By",description:"Group by attributes",icon:Dc,color:"bg-aggregation"},{type:"join",name:"Join",description:"Join streams or tables",icon:$c,color:"bg-join"},{type:"pattern",name:"Pattern",description:"CEP pattern matching",icon:Fc,color:"bg-pattern"},{type:"partition",name:"Partition",description:"Parallel partitioning",icon:zc,color:"bg-partition"}]}];function Sj(){const[e,t]=I.useState(new Set(["connectors","data","processing"])),n=i=>{t(o=>{const s=new Set(o);return s.has(i)?s.delete(i):s.add(i),s})},r=(i,o)=>{i.dataTransfer.setData("application/reactflow",o),i.dataTransfer.effectAllowed="move"};return u.jsxs("div",{className:"w-56 border-r border-vscode-border bg-gray-900/30 flex flex-col",children:[u.jsx("div",{className:"px-3 py-2 border-b border-vscode-border",children:u.jsx("h2",{className:"text-sm font-medium text-gray-300",children:"Elements"})}),u.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:Nj.map(i=>u.jsxs("div",{className:"mb-2",children:[u.jsxs("button",{onClick:()=>n(i.id),className:"w-full flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-400 hover:text-gray-200 transition-colors",children:[e.has(i.id)?u.jsx(Pc,{className:"w-3 h-3"}):u.jsx(b0,{className:"w-3 h-3"}),i.name]}),e.has(i.id)&&u.jsx("div",{className:"px-2",children:i.items.map(o=>u.jsxs("div",{draggable:!0,onDragStart:s=>r(s,o.type),className:"palette-item",title:o.description,children:[u.jsx("div",{className:`palette-item-icon ${o.color}`,children:u.jsx(o.icon,{className:"w-3 h-3"})}),u.jsx("span",{children:o.name})]},o.type))})]},i.id))}),u.jsx("div",{className:"px-3 py-2 border-t border-vscode-border text-xs text-gray-500",children:"Drag elements to canvas"})]})}const Ej={rabbitmq:{name:"rabbitmq",supportedFormats:["json","csv","bytes"],requiredParameters:["rabbitmq.host","rabbitmq.queue"],optionalParameters:["rabbitmq.port","rabbitmq.vhost","rabbitmq.username","rabbitmq.password","rabbitmq.prefetch","rabbitmq.consumer.tag","rabbitmq.auto.ack","rabbitmq.declare.queue","error.strategy","error.retry.max-attempts","error.retry.initial-delay-ms","error.retry.max-delay-ms","error.retry.backoff-multiplier","error.dlq.stream"]},timer:{name:"timer",optionalParameters:["timer.interval"]},websocket:{name:"websocket",supportedFormats:["json","text","bytes"],requiredParameters:["websocket.url"],optionalParameters:["websocket.reconnect","websocket.reconnect.delay.ms","websocket.reconnect.max.delay.ms","websocket.reconnect.max.attempts","websocket.subprotocol","error.strategy","error.retry.max-attempts","error.retry.initial-delay-ms","error.retry.max-delay-ms","error.retry.backoff-multiplier","error.dlq.stream"]}},Cj={log:{name:"log",supportedFormats:["json","text","csv","bytes"],optionalParameters:["log.prefix","log.level"]},rabbitmq:{name:"rabbitmq",supportedFormats:["json","csv","bytes"],requiredParameters:["rabbitmq.host","rabbitmq.exchange"],optionalParameters:["rabbitmq.port","rabbitmq.vhost","rabbitmq.username","rabbitmq.password","rabbitmq.routing.key","rabbitmq.persistent","rabbitmq.content.type","rabbitmq.declare.exchange","rabbitmq.exchange.type"]},websocket:{name:"websocket",supportedFormats:["json","text","bytes"],requiredParameters:["websocket.url"],optionalParameters:["websocket.reconnect","websocket.reconnect.delay.ms","websocket.reconnect.max.delay.ms","websocket.reconnect.max.attempts","websocket.message.type","websocket.subprotocol"]}},kj={sources:Ej,sinks:Cj},pl=kj;function _0(){return Object.keys(pl.sources).sort()}function M0(){return Object.keys(pl.sinks).sort()}function gu(e){return pl.sources[e]}function yu(e){return pl.sinks[e]}function R0(e){const t=[];for(const n of e.requiredParameters||[])t.push({key:n,required:!0});for(const n of e.optionalParameters||[])t.push({key:n,required:!1});return t}function P0(e){const t=e.split(".");return(t.length>1?t.slice(1).join("."):e).split(/[.-]/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}const jj={source:ul,sink:cl,stream:dl,table:fl,trigger:Bc,window:Ac,filter:Oc,projection:Lc,aggregation:Rc,groupBy:Dc,join:$c,pattern:Fc,partition:zc},Tj={source:"Source",sink:"Sink",stream:"Stream",table:"Table",trigger:"Trigger",window:"Window",filter:"Filter",projection:"Projection",aggregation:"Aggregation",groupBy:"Group By",join:"Join",pattern:"Pattern",partition:"Partition"},A0=["INT","LONG","DOUBLE","FLOAT","STRING","BOOL"];function Hn({value:e,onChange:t,attributes:n,placeholder:r="Select attribute",className:i="",allowCustom:o=!0}){const s=n.length>0,l=n.some(a=>a.name===e||`${a.streamId}.${a.name}`===e);return s&&(l||!e)?u.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:`form-select ${i}`,children:[u.jsx("option",{value:"",children:r}),n.map((a,c)=>{const f=a.streamId?`${a.streamId}.${a.name}`:a.name;return u.jsxs("option",{value:a.name,children:[f," (",a.type,")"]},c)}),o&&u.jsx("option",{value:"__custom__",children:"Custom..."})]}):u.jsxs("div",{className:`flex items-center gap-1 ${i}`,children:[u.jsx("input",{type:"text",value:e==="__custom__"?"":e,onChange:a=>t(a.target.value),className:"form-input flex-1",placeholder:r}),s&&u.jsx("button",{onClick:()=>t(""),className:"p-1 text-gray-500 hover:text-gray-300",title:"Select from list",children:u.jsx(Pc,{className:"w-3 h-3"})})]})}function bj(){const{nodes:e,selectedElementIds:t,updateElement:n,removeElement:r,getUpstreamSchema:i,getAllStreams:o}=$r(),s=I.useMemo(()=>t.length!==1?null:e.find(v=>v.id===t[0])||null,[e,t]),l=I.useMemo(()=>s?i(s.id):[],[s,i]),a=I.useMemo(()=>o(),[o]);if(!s)return u.jsx("div",{className:"flex-1 flex flex-col",children:u.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-gray-500 p-4 text-center",children:"Select an element to view and edit its properties"})});const c=jj[s.type]||dl,f=Tj[s.type]||s.type,d=v=>{n(s.id,{data:v})},p=()=>{r(s.id)};return u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-vscode-border flex items-center gap-2",children:[u.jsx(c,{className:"w-4 h-4 text-gray-400"}),u.jsx("h2",{className:"text-sm font-medium text-gray-300 flex-1",children:f}),u.jsx("button",{onClick:p,className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Delete element",children:u.jsx(Tt,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:u.jsx(Ij,{type:s.type,data:s.data,onChange:d,upstreamSchema:l,allStreams:a})})]})}function Ij({type:e,data:t,onChange:n,upstreamSchema:r,allStreams:i}){switch(e){case"source":return u.jsx(Rj,{data:t,onChange:n});case"sink":return u.jsx(Pj,{data:t,onChange:n});case"stream":return u.jsx(Aj,{data:t,onChange:n});case"table":return u.jsx(Lj,{data:t,onChange:n});case"trigger":return u.jsx(Oj,{data:t,onChange:n});case"window":return u.jsx($j,{data:t,onChange:n});case"filter":return u.jsx(Dj,{data:t,onChange:n,upstreamSchema:r});case"projection":return u.jsx(Fj,{data:t,onChange:n,upstreamSchema:r});case"aggregation":return u.jsx(Bj,{data:t,onChange:n,upstreamSchema:r});case"groupBy":return u.jsx(Hj,{data:t,onChange:n,upstreamSchema:r});case"join":return u.jsx(Vj,{data:t,onChange:n,allStreams:i});case"pattern":return u.jsx(Uj,{data:t,onChange:n,allStreams:i});case"partition":return u.jsx(Wj,{data:t,onChange:n,allStreams:i});default:return u.jsxs("div",{className:"text-sm text-gray-500",children:["Property editor for ",e," not yet implemented"]})}}function _j(){return _0().map(e=>{const t=gu(e);return{id:e,label:e.charAt(0).toUpperCase()+e.slice(1),schema:t}})}function Mj(){return M0().map(e=>{const t=yu(e);return{id:e,label:e.charAt(0).toUpperCase()+e.slice(1),schema:t}})}function Rj({data:e,onChange:t}){const n=e.sourceName||"",r=e.sourceType||_0()[0]||"rabbitmq",i=e.config||{},o=_j(),s=gu(r),l=s?R0(s):[],a=y=>{const w=gu(y),N={};if(w)for(const h of w.requiredParameters||[])N[h]="";t({...e,sourceType:y,config:N})},c=(y,w)=>{t({...e,config:{...i,[y]:w}})},f=()=>{const y=`config${Object.keys(i).length}`;t({...e,config:{...i,[y]:""}})},d=y=>{const w={...i};delete w[y],t({...e,config:w})},p=new Set(l.map(y=>y.key)),v=Object.keys(i).filter(y=>!p.has(y));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Source Name"}),u.jsx("input",{type:"text",value:n,onChange:y=>t({...e,sourceName:y.target.value}),className:"form-input",placeholder:"MySource"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Connector Type"}),u.jsx("select",{value:r,onChange:y=>a(y.target.value),className:"form-select",children:o.map(y=>u.jsx("option",{value:y.id,children:y.label},y.id))})]}),l.length>0&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Parameters"}),u.jsx("div",{className:"space-y-2",children:l.map(y=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"text-xs text-gray-400 w-28 truncate",title:y.key,children:[P0(y.key),y.required&&u.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),u.jsx("input",{type:"text",value:i[y.key]||"",onChange:w=>c(y.key,w.target.value),className:"form-input flex-1 text-xs",placeholder:y.key})]},y.key))})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Custom Config"}),u.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add config",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[v.map(y=>u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"text",value:y,onChange:w=>{const N={...i},h=N[y];delete N[y],N[w.target.value]=h,t({...e,config:N})},className:"form-input w-28 text-xs",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:i[y]||"",onChange:w=>c(y,w.target.value),className:"form-input flex-1 text-xs",placeholder:"value"}),u.jsx("button",{onClick:()=>d(y),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},y)),v.length===0&&u.jsx("div",{className:"text-xs text-gray-600 italic",children:"No custom config"})]})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Connect this Source to a Stream to define where events flow into the system."})]})}function Pj({data:e,onChange:t}){const n=e.sinkName||"",r=e.sinkType||M0()[0]||"log",i=e.config||{},o=Mj(),s=yu(r),l=s?R0(s):[],a=y=>{const w=yu(y),N={};if(w)for(const h of w.requiredParameters||[])N[h]="";t({...e,sinkType:y,config:N})},c=(y,w)=>{t({...e,config:{...i,[y]:w}})},f=()=>{const y=`config${Object.keys(i).length}`;t({...e,config:{...i,[y]:""}})},d=y=>{const w={...i};delete w[y],t({...e,config:w})},p=new Set(l.map(y=>y.key)),v=Object.keys(i).filter(y=>!p.has(y));return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Sink Name"}),u.jsx("input",{type:"text",value:n,onChange:y=>t({...e,sinkName:y.target.value}),className:"form-input",placeholder:"MySink"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Connector Type"}),u.jsx("select",{value:r,onChange:y=>a(y.target.value),className:"form-select",children:o.map(y=>u.jsx("option",{value:y.id,children:y.label},y.id))})]}),l.length>0&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Parameters"}),u.jsx("div",{className:"space-y-2",children:l.map(y=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("label",{className:"text-xs text-gray-400 w-28 truncate",title:y.key,children:[P0(y.key),y.required&&u.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),u.jsx("input",{type:"text",value:i[y.key]||"",onChange:w=>c(y.key,w.target.value),className:"form-input flex-1 text-xs",placeholder:y.key})]},y.key))})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Custom Config"}),u.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add config",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[v.map(y=>u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("input",{type:"text",value:y,onChange:w=>{const N={...i},h=N[y];delete N[y],N[w.target.value]=h,t({...e,config:N})},className:"form-input w-28 text-xs",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:i[y]||"",onChange:w=>c(y,w.target.value),className:"form-input flex-1 text-xs",placeholder:"value"}),u.jsx("button",{onClick:()=>d(y),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},y)),v.length===0&&u.jsx("div",{className:"text-xs text-gray-600 italic",children:"No custom config"})]})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Connect a Stream or Output to this Sink to define where events flow out of the system."})]})}function Aj({data:e,onChange:t}){const n=e.streamName||"",r=e.attributes||[],i=a=>{t({...e,streamName:a})},o=(a,c,f)=>{const d=[...r];d[a]={...d[a],[c]:f},t({...e,attributes:d})},s=()=>{t({...e,attributes:[...r,{name:`attr${r.length}`,type:"STRING"}]})},l=a=>{t({...e,attributes:r.filter((c,f)=>f!==a)})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Stream Name"}),u.jsx("input",{type:"text",value:n,onChange:a=>i(a.target.value),className:"form-input",placeholder:"StreamName"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Schema"}),u.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((a,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:a.name,onChange:f=>o(c,"name",f.target.value),className:"form-input flex-1",placeholder:"name"}),u.jsx("select",{value:a.type,onChange:f=>o(c,"type",f.target.value),className:"form-select w-24",children:A0.map(f=>u.jsx("option",{value:f,children:f},f))}),u.jsx("button",{onClick:()=>l(c),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},c))})]}),u.jsx("div",{className:"text-xs text-gray-500 p-2 bg-gray-800/50 rounded",children:"Streams are central data channels. Connect a Source to feed events in, or query results via INSERT INTO."})]})}function Lj({data:e,onChange:t}){const n=e.tableName||"",r=e.attributes||[],i=e.extension||"",o=e.primaryKey||[],s=e.withConfig||{},l=N=>{t({...e,tableName:N})},a=(N,h,g)=>{const m=[...r];m[N]={...m[N],[h]:g},t({...e,attributes:m})},c=()=>{t({...e,attributes:[...r,{name:`attr${r.length}`,type:"STRING"}]})},f=N=>{t({...e,attributes:r.filter((h,g)=>g!==N)})},d=(N,h)=>{t(h?{...e,primaryKey:[...o,N]}:{...e,primaryKey:o.filter(g=>g!==N)})},p=N=>{let h={};N==="redis"?h={"redis.host":"localhost","redis.port":"6379"}:N==="jdbc"&&(h={"jdbc.url":"jdbc:mysql://localhost:3306/db","jdbc.driver":"com.mysql.cj.jdbc.Driver"}),t({...e,extension:N||void 0,withConfig:N?h:void 0})},v=(N,h)=>{t({...e,withConfig:{...s,[N]:h}})},y=()=>{const N=`config${Object.keys(s).length}`;t({...e,withConfig:{...s,[N]:""}})},w=N=>{const h={...s};delete h[N],t({...e,withConfig:Object.keys(h).length>0?h:void 0})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Table Name"}),u.jsx("input",{type:"text",value:n,onChange:N=>l(N.target.value),className:"form-input",placeholder:"TableName"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Extension (optional)"}),u.jsxs("select",{value:i,onChange:N=>p(N.target.value),className:"form-select",children:[u.jsx("option",{value:"",children:"In-Memory (default)"}),u.jsx("option",{value:"redis",children:"Redis"}),u.jsx("option",{value:"jdbc",children:"JDBC Database"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Schema"}),u.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-white transition-colors",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((N,h)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:o.includes(N.name),onChange:g=>d(N.name,g.target.checked),className:"form-checkbox w-4 h-4",title:"Primary Key"}),u.jsx("input",{type:"text",value:N.name,onChange:g=>a(h,"name",g.target.value),className:"form-input flex-1",placeholder:"name"}),u.jsx("select",{value:N.type,onChange:g=>a(h,"type",g.target.value),className:"form-select w-24",children:A0.map(g=>u.jsx("option",{value:g,children:g},g))}),u.jsx("button",{onClick:()=>f(h),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},h))}),o.length>0&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Primary Key: ",o.join(", ")]})]}),i&&u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Configuration"}),u.jsx("button",{onClick:y,className:"p-1 text-gray-400 hover:text-white transition-colors",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:Object.entries(s).map(([N,h])=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:N,onChange:g=>{const m={...s};delete m[N],m[g.target.value]=h,t({...e,withConfig:m})},className:"form-input w-32",placeholder:"key"}),u.jsx("span",{className:"text-gray-500",children:"="}),u.jsx("input",{type:"text",value:h,onChange:g=>v(N,g.target.value),className:"form-input flex-1",placeholder:"value"}),u.jsx("button",{onClick:()=>w(N),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},N))})]})]})}function Oj({data:e,onChange:t}){const n=e.triggerId||"",r=e.triggerType||"periodic",i=e.atEvery||1e3,o=e.cronExpression||"";return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Trigger Name"}),u.jsx("input",{type:"text",value:n,onChange:s=>t({...e,triggerId:s.target.value}),className:"form-input",placeholder:"TriggerName"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Type"}),u.jsxs("select",{value:r,onChange:s=>t({...e,triggerType:s.target.value}),className:"form-select",children:[u.jsx("option",{value:"start",children:"Start (Once)"}),u.jsx("option",{value:"periodic",children:"Periodic"}),u.jsx("option",{value:"cron",children:"Cron"})]})]}),r==="periodic"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Interval (ms)"}),u.jsx("input",{type:"number",value:i,onChange:s=>t({...e,atEvery:parseInt(s.target.value)||1e3}),className:"form-input",min:1})]}),r==="cron"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Cron Expression"}),u.jsx("input",{type:"text",value:o,onChange:s=>t({...e,cronExpression:s.target.value}),className:"form-input",placeholder:"*/5 * * * * *"})]})]})}function $j({data:e,onChange:t}){const n=e.windowType||"length",r=e.parameters||{},i=s=>{t({...e,windowType:s,parameters:zj(s)})},o=(s,l)=>{t({...e,parameters:{...r,[s]:l}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Window Type"}),u.jsxs("select",{value:n,onChange:s=>i(s.target.value),className:"form-select",children:[u.jsx("option",{value:"length",children:"Length"}),u.jsx("option",{value:"lengthBatch",children:"Length Batch"}),u.jsx("option",{value:"time",children:"Time"}),u.jsx("option",{value:"timeBatch",children:"Time Batch"}),u.jsx("option",{value:"tumbling",children:"Tumbling"}),u.jsx("option",{value:"sliding",children:"Sliding"}),u.jsx("option",{value:"session",children:"Session"}),u.jsx("option",{value:"externalTime",children:"External Time"}),u.jsx("option",{value:"externalTimeBatch",children:"External Time Batch"}),u.jsx("option",{value:"sort",children:"Sort"})]})]}),["length","lengthBatch","sort"].includes(n)&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Count"}),u.jsx("input",{type:"number",value:r.count||10,onChange:s=>o("count",parseInt(s.target.value)||10),className:"form-input",min:1})]}),["time","timeBatch","tumbling","session","externalTime","externalTimeBatch"].includes(n)&&u.jsx(ra,{label:"Duration",value:r.duration,onChange:s=>o("duration",s)}),n==="sliding"&&u.jsxs(u.Fragment,{children:[u.jsx(ra,{label:"Window Size",value:r.duration,onChange:s=>o("duration",s)}),u.jsx(ra,{label:"Slide Interval",value:r.slideInterval,onChange:s=>o("slideInterval",s)})]}),["externalTime","externalTimeBatch"].includes(n)&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Timestamp Attribute"}),u.jsx("input",{type:"text",value:r.timestampAttribute||"",onChange:s=>o("timestampAttribute",s.target.value),className:"form-input",placeholder:"timestamp"})]}),n==="sort"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Sort Attribute"}),u.jsx("input",{type:"text",value:r.sortAttribute||"",onChange:s=>o("sortAttribute",s.target.value),className:"form-input",placeholder:"price"})]})]})}function Dj({data:e,onChange:t,upstreamSchema:n}){var c,f;const r=e.condition,i=((c=r==null?void 0:r.left)==null?void 0:c.variableName)||"",o=(r==null?void 0:r.operator)||">",s=(f=r==null?void 0:r.right)==null?void 0:f.constantValue,l=s!=null?String(s):"",a=(d,p,v)=>{const y=parseFloat(v);t({...e,condition:{type:"compare",operator:p,left:{type:"variable",variableName:d},right:{type:"constant",constantType:isNaN(y)?"string":"double",constantValue:isNaN(y)?v:y}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Condition"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Hn,{value:i,onChange:d=>a(d,o,l),attributes:n,placeholder:"Select attribute",className:"w-full"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:o,onChange:d=>a(i,d.target.value,l),className:"form-select w-20",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="})]}),u.jsx("input",{type:"text",value:l,onChange:d=>a(i,o,d.target.value),className:"form-input flex-1",placeholder:"value to compare"})]})]}),i&&l&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-800/50 rounded text-xs text-gray-300 font-mono",children:[i," ",o," ",l]})]}),n.length>0&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Available: ",n.map(d=>d.name).join(", ")]})]})}function ra({label:e,value:t,onChange:n}){const r=t||{value:1,unit:"SECONDS"};return u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:e}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:r.value,onChange:i=>n({...r,value:parseInt(i.target.value)||1}),className:"form-input flex-1",min:1}),u.jsxs("select",{value:r.unit,onChange:i=>n({...r,unit:i.target.value}),className:"form-select w-28",children:[u.jsx("option",{value:"MILLISECONDS",children:"ms"}),u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"}),u.jsx("option",{value:"DAYS",children:"day"})]})]})]})}function zj(e){switch(e){case"length":case"lengthBatch":return{count:10};case"time":case"timeBatch":case"tumbling":return{duration:{value:5,unit:"SECONDS"}};case"sliding":return{duration:{value:10,unit:"SECONDS"},slideInterval:{value:2,unit:"SECONDS"}};case"session":return{gapDuration:{value:30,unit:"SECONDS"}};case"externalTime":case"externalTimeBatch":return{timestampAttribute:"timestamp",duration:{value:5,unit:"SECONDS"}};case"sort":return{count:10,sortAttribute:"value"};default:return{}}}function Fj({data:e,onChange:t,upstreamSchema:n}){const r=e.selectList||[],i=e.distinct||!1,o=()=>{t({...e,selectList:[...r,{expression:{type:"variable",variableName:""},alias:""}]})},s=a=>{t({...e,selectList:r.filter((c,f)=>f!==a)})},l=(a,c,f)=>{const d=[...r];c==="attribute"?d[a]={...d[a],expression:{type:"variable",variableName:f}}:d[a]={...d[a],alias:f||void 0},t({...e,selectList:d})};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:a=>t({...e,distinct:a.target.checked}),className:"form-checkbox"}),u.jsx("span",{className:"text-xs text-gray-400",children:"DISTINCT"})]})}),u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Select Columns"}),u.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add column",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-2",children:[r.length===0&&u.jsx("div",{className:"text-xs text-gray-500 italic",children:"* (all columns)"}),r.map((a,c)=>{var f;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hn,{value:((f=a.expression)==null?void 0:f.variableName)||"",onChange:d=>l(c,"attribute",d),attributes:n,placeholder:"attribute",className:"flex-1"}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:a.alias||"",onChange:d=>l(c,"alias",d.target.value),className:"form-input flex-1",placeholder:"alias"}),u.jsx("button",{onClick:()=>s(c),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},c)})]})]})]})}function Bj({data:e,onChange:t,upstreamSchema:n}){const r=e.aggregations||[],i=["COUNT","SUM","AVG","MIN","MAX","STDDEV","VARIANCE","FIRST","LAST","DISTINCTCOUNT"],o=[{name:"*",type:"ALL",source:""},...n],s=()=>{t({...e,aggregations:[...r,{type:"COUNT",expression:{type:"variable",variableName:"*"},alias:`agg${r.length}`}]})},l=c=>{t({...e,aggregations:r.filter((f,d)=>d!==c)})},a=(c,f,d)=>{const p=[...r];f==="attribute"?p[c]={...p[c],expression:{type:"variable",variableName:d}}:f==="type"?p[c]={...p[c],type:d}:p[c]={...p[c],alias:d},t({...e,aggregations:p})};return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Aggregations"}),u.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add aggregation",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-3",children:r.map((c,f)=>{var d;return u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("select",{value:c.type,onChange:p=>a(f,"type",p.target.value),className:"form-select flex-1",children:i.map(p=>u.jsx("option",{value:p,children:p},p))}),u.jsx("button",{onClick:()=>l(f),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hn,{value:((d=c.expression)==null?void 0:d.variableName)||"",onChange:p=>a(f,"attribute",p),attributes:o,placeholder:"attribute or *",className:"flex-1"}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:c.alias||"",onChange:p=>a(f,"alias",p.target.value),className:"form-input flex-1",placeholder:"alias"})]})]},f)})})]})})}function Hj({data:e,onChange:t,upstreamSchema:n}){var v,y;const r=e.groupByAttributes||[],i=e.havingCondition,o=()=>{t({...e,groupByAttributes:[...r,""]})},s=w=>{t({...e,groupByAttributes:r.filter((N,h)=>h!==w)})},l=(w,N)=>{const h=[...r];h[w]=N,t({...e,groupByAttributes:h})},a=((v=i==null?void 0:i.left)==null?void 0:v.variableName)||"",c=(i==null?void 0:i.operator)||">",f=(y=i==null?void 0:i.right)==null?void 0:y.constantValue,d=f!=null?String(f):"",p=(w,N,h)=>{if(!w&&!h){t({...e,havingCondition:void 0});return}const g=parseFloat(h);t({...e,havingCondition:{type:"compare",operator:N,left:{type:"variable",variableName:w},right:{type:"constant",constantType:isNaN(g)?"string":"double",constantValue:isNaN(g)?h:g}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Group By Attributes"}),u.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((w,N)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hn,{value:w,onChange:h=>l(N,h),attributes:n,placeholder:"attribute",className:"flex-1"}),u.jsx("button",{onClick:()=>s(N),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},N))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"HAVING Condition (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:a,onChange:w=>p(w.target.value,c,d),className:"form-input flex-1",placeholder:"agg alias"}),u.jsxs("select",{value:c,onChange:w=>p(a,w.target.value,d),className:"form-select w-16",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="})]}),u.jsx("input",{type:"text",value:d,onChange:w=>p(a,c,w.target.value),className:"form-input flex-1",placeholder:"value"})]})]})]})}function Vj({data:e,onChange:t,allStreams:n}){var y,w,N,h,g,m;const r=e.joinType||"inner",i=e.onCondition,o=e.trigger||"all",s=e.within,l=((y=i==null?void 0:i.left)==null?void 0:y.streamId)||"",a=((w=i==null?void 0:i.left)==null?void 0:w.variableName)||"",c=((N=i==null?void 0:i.right)==null?void 0:N.streamId)||"",f=((h=i==null?void 0:i.right)==null?void 0:h.variableName)||"",d=((g=n.find(x=>x.name===l))==null?void 0:g.attributes)||[],p=((m=n.find(x=>x.name===c))==null?void 0:m.attributes)||[],v=(x,S,E,C)=>{if(!S&&!C){t({...e,onCondition:null});return}t({...e,onCondition:{type:"compare",operator:"=",left:{type:"variable",streamId:x||void 0,variableName:S},right:{type:"variable",streamId:E||void 0,variableName:C}}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Join Type"}),u.jsxs("select",{value:r,onChange:x=>t({...e,joinType:x.target.value}),className:"form-select",children:[u.jsx("option",{value:"inner",children:"INNER JOIN"}),u.jsx("option",{value:"left_outer",children:"LEFT OUTER JOIN"}),u.jsx("option",{value:"right_outer",children:"RIGHT OUTER JOIN"}),u.jsx("option",{value:"full_outer",children:"FULL OUTER JOIN"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"ON Condition"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("select",{value:l,onChange:x=>v(x.target.value,a,c,f),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(x=>u.jsx("option",{value:x.name,children:x.name},x.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Hn,{value:a,onChange:x=>v(l,x,c,f),attributes:d,placeholder:"attribute",className:"flex-1"})]}),u.jsx("div",{className:"text-center text-gray-500 text-xs",children:"="}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("select",{value:c,onChange:x=>v(l,a,x.target.value,f),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(x=>u.jsx("option",{value:x.name,children:x.name},x.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Hn,{value:f,onChange:x=>v(l,a,c,x),attributes:p,placeholder:"attribute",className:"flex-1"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Trigger"}),u.jsxs("select",{value:o,onChange:x=>t({...e,trigger:x.target.value}),className:"form-select",children:[u.jsx("option",{value:"all",children:"All (both streams)"}),u.jsx("option",{value:"left",children:"Left stream only"}),u.jsx("option",{value:"right",children:"Right stream only"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"WITHIN (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:(s==null?void 0:s.value)||"",onChange:x=>{const S=parseInt(x.target.value);S>0?t({...e,within:{value:S,unit:(s==null?void 0:s.unit)||"SECONDS"}}):t({...e,within:void 0})},className:"form-input flex-1",min:0,placeholder:"duration"}),u.jsxs("select",{value:(s==null?void 0:s.unit)||"SECONDS",onChange:x=>t({...e,within:s?{...s,unit:x.target.value}:void 0}),className:"form-select w-24",disabled:!(s!=null&&s.value),children:[u.jsx("option",{value:"MILLISECONDS",children:"ms"}),u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"})]})]})]})]})}function Uj({data:e,onChange:t,allStreams:n}){var d,p,v,y;const r=e.mode||"pattern",i=e.patternExpression||{},o=e.withinConstraint,s=((d=i==null?void 0:i.left)==null?void 0:d.streamName)||(i==null?void 0:i.streamName)||"",l=((p=i==null?void 0:i.left)==null?void 0:p.streamAlias)||(i==null?void 0:i.streamAlias)||"",a=((v=i==null?void 0:i.right)==null?void 0:v.streamName)||"",c=((y=i==null?void 0:i.right)==null?void 0:y.streamAlias)||"",f=(w,N,h,g)=>{t(h?{...e,patternExpression:{type:"next",operator:"next",left:{type:"stream",streamName:w,streamAlias:N||void 0},right:{type:"stream",streamName:h,streamAlias:g||void 0}}}:{...e,patternExpression:{type:"stream",streamName:w,streamAlias:N||void 0}})};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Mode"}),u.jsxs("select",{value:r,onChange:w=>t({...e,mode:w.target.value}),className:"form-select",children:[u.jsx("option",{value:"pattern",children:"PATTERN (any order)"}),u.jsx("option",{value:"sequence",children:"SEQUENCE (strict order)"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Pattern Expression"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"First event"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:s,onChange:w=>f(w.target.value,l,a,c),className:"form-select flex-1",children:[u.jsx("option",{value:"",children:"Select stream"}),n.map(w=>u.jsx("option",{value:w.name,children:w.name},w.id))]}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:l,onChange:w=>f(s,w.target.value,a,c),className:"form-input w-16",placeholder:"alias"})]})]}),u.jsx("div",{className:"text-center text-gray-400",children:" followed by "}),u.jsxs("div",{className:"p-2 bg-gray-800/50 rounded border border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Second event (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:a,onChange:w=>f(s,l,w.target.value,c),className:"form-select flex-1",children:[u.jsx("option",{value:"",children:"Select stream"}),n.map(w=>u.jsx("option",{value:w.name,children:w.name},w.id))]}),u.jsx("span",{className:"text-gray-500 text-xs",children:"AS"}),u.jsx("input",{type:"text",value:c,onChange:w=>f(s,l,a,w.target.value),className:"form-input w-16",placeholder:"alias"})]})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"WITHIN Constraint (optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:(o==null?void 0:o.value)||"",onChange:w=>{const N=parseInt(w.target.value);N>0?t({...e,withinConstraint:{type:(o==null?void 0:o.type)||"time",value:N,unit:(o==null?void 0:o.unit)||"SECONDS"}}):t({...e,withinConstraint:void 0})},className:"form-input flex-1",min:0,placeholder:"value"}),u.jsxs("select",{value:(o==null?void 0:o.type)||"time",onChange:w=>t({...e,withinConstraint:o?{...o,type:w.target.value}:void 0}),className:"form-select w-24",disabled:!(o!=null&&o.value),children:[u.jsx("option",{value:"time",children:"Time"}),u.jsx("option",{value:"event_count",children:"Events"})]}),(o==null?void 0:o.type)==="time"&&u.jsxs("select",{value:(o==null?void 0:o.unit)||"SECONDS",onChange:w=>t({...e,withinConstraint:o?{...o,unit:w.target.value}:void 0}),className:"form-select w-20",disabled:!(o!=null&&o.value),children:[u.jsx("option",{value:"SECONDS",children:"sec"}),u.jsx("option",{value:"MINUTES",children:"min"}),u.jsx("option",{value:"HOURS",children:"hour"})]})]})]}),u.jsx("div",{className:"text-xs text-gray-500 italic",children:"For complex patterns, use the SQL editor"})]})}function Wj({data:e,onChange:t,allStreams:n}){const r=e.partitionBy||[],i=()=>{t({...e,partitionBy:[...r,{attribute:"",streamName:""}]})},o=a=>{t({...e,partitionBy:r.filter((c,f)=>f!==a)})},s=(a,c,f)=>{const d=[...r];d[a]={...d[a],[c]:f},t({...e,partitionBy:d})},l=a=>{var c;return((c=n.find(f=>f.name===a))==null?void 0:c.attributes)||[]};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"form-label mb-0",children:"Partition By"}),u.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Add partition attribute",children:u.jsx(Ut,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:r.map((a,c)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:a.streamName,onChange:f=>s(c,"streamName",f.target.value),className:"form-select w-24",children:[u.jsx("option",{value:"",children:"stream"}),n.map(f=>u.jsx("option",{value:f.name,children:f.name},f.id))]}),u.jsx("span",{className:"text-gray-500",children:"."}),u.jsx(Hn,{value:a.attribute,onChange:f=>s(c,"attribute",f),attributes:l(a.streamName),placeholder:"attribute",className:"flex-1"}),u.jsx("button",{onClick:()=>o(c),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",children:u.jsx(Tt,{className:"w-3 h-3"})})]},c))})]}),u.jsx("div",{className:"text-xs text-gray-500",children:"Partitioning creates independent processing instances for each unique combination of partition attribute values."})]})}function Gj(){const{nodes:e,updateElement:t}=$r(),[n,r]=I.useState(!1),[i,o]=I.useState(new Set(["sources","sinks","extensions"])),[s,l]=I.useState(null),a=I.useMemo(()=>{const h=[];for(const g of e){const m=g.data;g.type==="source"&&h.push({id:`source-${g.id}`,name:m.sourceName||"Unnamed Source",type:"source",connectorType:m.sourceType||"kafka",config:m.config||{},nodeId:g.id}),g.type==="sink"&&h.push({id:`sink-${g.id}`,name:m.sinkName||"Unnamed Sink",type:"sink",connectorType:m.sinkType||"log",config:m.config||{},nodeId:g.id}),g.type==="table"&&m.extension&&h.push({id:`extension-${g.id}`,name:m.tableName||"Unnamed Table",type:"extension",connectorType:m.extension,config:m.withConfig||{},nodeId:g.id})}return h},[e]),c=a.filter(h=>h.type==="source"),f=a.filter(h=>h.type==="sink"),d=a.filter(h=>h.type==="extension"),p=(h,g,m)=>{const x=e.find(b=>b.id===h.nodeId);if(!x)return;const S=x.data,E=h.type==="extension"?"withConfig":"config",C=S[E]||{};t(h.nodeId,{data:{...S,[E]:{...C,[g]:m}}})},v=()=>{const h=[];if(h.push("# EventFlux Application Configuration"),h.push("# Generated by EventFlux Studio"),h.push(""),h.push("[application]"),h.push('name = "EventFluxApp"'),h.push(""),c.length>0){h.push("# Source Connectors");for(const g of c){h.push(`[sources.${g.connectorType}.${g.name}]`),h.push(`stream = "${g.name}"`);for(const[m,x]of Object.entries(g.config)){const S=/^\d+$/.test(x)?x:`"${x}"`;h.push(`${m} = ${S}`)}h.push("")}}if(f.length>0){h.push("# Sink Connectors");for(const g of f){h.push(`[sinks.${g.connectorType}.${g.name}]`),h.push(`stream = "${g.name}"`);for(const[m,x]of Object.entries(g.config)){const S=/^\d+$/.test(x)?x:`"${x}"`;h.push(`${m} = ${S}`)}h.push("")}}if(d.length>0){h.push("# Table Extensions");for(const g of d){h.push(`[extensions.${g.connectorType}.${g.name}]`);for(const[m,x]of Object.entries(g.config)){const S=/^\d+$/.test(x)?x:`"${x}"`;h.push(`${m} = ${S}`)}h.push("")}}return h.join(`
`)},y=()=>{navigator.clipboard.writeText(v()),r(!0),setTimeout(()=>r(!1),2e3)},w=h=>{o(g=>{const m=new Set(g);return m.has(h)?m.delete(h):m.add(h),m})},N=c.length>0||f.length>0||d.length>0;return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-vscode-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(I0,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Configuration"})]}),u.jsx("button",{onClick:y,className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Copy TOML to clipboard",disabled:!N,children:n?u.jsx(T0,{className:"w-4 h-4 text-green-400"}):u.jsx(cj,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:N?u.jsxs("div",{className:"p-2 space-y-2",children:[c.length>0&&u.jsx(ia,{title:"Source Connectors",icon:u.jsx(ul,{className:"w-4 h-4 text-green-400"}),expanded:i.has("sources"),onToggle:()=>w("sources"),children:c.map(h=>u.jsx(oa,{element:h,isEditing:s===h.id,onToggleEdit:()=>l(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),f.length>0&&u.jsx(ia,{title:"Sink Connectors",icon:u.jsx(cl,{className:"w-4 h-4 text-purple-400"}),expanded:i.has("sinks"),onToggle:()=>w("sinks"),children:f.map(h=>u.jsx(oa,{element:h,isEditing:s===h.id,onToggleEdit:()=>l(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),d.length>0&&u.jsx(ia,{title:"Table Extensions",icon:u.jsx(fl,{className:"w-4 h-4 text-violet-400"}),expanded:i.has("extensions"),onToggle:()=>w("extensions"),children:d.map(h=>u.jsx(oa,{element:h,isEditing:s===h.id,onToggleEdit:()=>l(s===h.id?null:h.id),onConfigChange:(g,m)=>p(h,g,m)},h.id))}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 flex items-center justify-between",children:u.jsx("span",{children:"Generated TOML"})}),u.jsx("pre",{className:"text-xs bg-gray-900/70 p-2 rounded border border-gray-700 overflow-x-auto font-mono text-gray-400 whitespace-pre-wrap max-h-40",children:v()})]})]}):u.jsxs("div",{className:"p-4 text-sm text-gray-500 text-center",children:[u.jsx("p",{className:"mb-3",children:"No connectors configured yet."}),u.jsxs("div",{className:"text-xs space-y-2 text-left bg-gray-800/50 p-3 rounded",children:[u.jsx("p",{children:u.jsx("strong",{children:"To add configuration:"})}),u.jsxs("p",{children:["1. Select a ",u.jsx("span",{className:"text-blue-400",children:"Stream"})," and choose a Source Connector"]}),u.jsxs("p",{children:["2. Select a ",u.jsx("span",{className:"text-purple-400",children:"Table"})," and choose an Extension"]}),u.jsxs("p",{children:["3. Select an ",u.jsx("span",{className:"text-green-400",children:"Output"})," and choose a Sink Connector"]})]})]})})]})}function ia({title:e,icon:t,expanded:n,onToggle:r,children:i}){return u.jsxs("div",{className:"bg-gray-800/30 rounded",children:[u.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-800/50 transition-colors text-left",children:[n?u.jsx(Pc,{className:"w-3 h-3 text-gray-500"}):u.jsx(b0,{className:"w-3 h-3 text-gray-500"}),t,u.jsx("span",{className:"text-xs font-medium text-gray-300",children:e})]}),n&&u.jsx("div",{className:"px-2 pb-2 space-y-2",children:i})]})}function oa({element:e,isEditing:t,onToggleEdit:n,onConfigChange:r}){const i={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",log:"Log",redis:"Redis",jdbc:"JDBC"};return u.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-medium text-gray-200",children:e.name}),u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-700 rounded text-gray-400",children:i[e.connectorType]||e.connectorType})]}),u.jsx("button",{onClick:n,className:`p-1 transition-colors ${t?"text-indigo-400":"text-gray-500 hover:text-gray-300"}`,title:t?"Done editing":"Edit configuration",children:u.jsx(pj,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1",children:Object.entries(e.config).map(([o,s])=>u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsxs("span",{className:"text-gray-500 w-24 truncate",title:o,children:[o,":"]}),t?u.jsx("input",{type:"text",value:s,onChange:l=>r(o,l.target.value),className:"flex-1 px-1.5 py-0.5 bg-gray-900 border border-gray-600 rounded text-gray-300 text-xs"}):u.jsx("span",{className:"text-gray-300 truncate flex-1",title:s,children:s||"(empty)"})]},o))})]})}function pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yj(e){if(Array.isArray(e))return e}function Kj(e,t,n){return(t=tT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qj(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,l=[],a=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(a=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(f){c=!0,i=f}finally{try{if(!a&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Xj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(r){Kj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qj(e,t){if(e==null)return{};var n,r,i=Zj(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zj(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jj(e,t){return Yj(e)||Qj(e,t)||nT(e,t)||Xj()}function eT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tT(e){var t=eT(e,"string");return typeof t=="symbol"?t:t+""}function nT(e,t){if(e){if(typeof e=="string")return pp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pp(e,t):void 0}}function rT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){rT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function oi(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return t.apply(n,[].concat(i,l))}}}function Ps(e){return{}.toString.call(e).includes("Object")}function oT(e){return!Object.keys(e).length}function Ui(e){return typeof e=="function"}function sT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lT(e,t){return Ps(t)||mn("changeType"),Object.keys(t).some(function(n){return!sT(e,n)})&&mn("changeField"),t}function aT(e){Ui(e)||mn("selectorType")}function uT(e){Ui(e)||Ps(e)||mn("handlerType"),Ps(e)&&Object.values(e).some(function(t){return!Ui(t)})&&mn("handlersType")}function cT(e){e||mn("initialIsRequired"),Ps(e)||mn("initialType"),oT(e)&&mn("initialContent")}function dT(e,t){throw new Error(e[t]||e.default)}var fT={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},mn=oi(dT)(fT),Ro={changes:lT,selector:aT,handler:uT,initial:cT};function pT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ro.initial(e),Ro.handler(t);var n={current:e},r=oi(gT)(n,t),i=oi(mT)(n),o=oi(Ro.changes)(e),s=oi(hT)(n);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Ro.selector(c),c(n.current)}function a(c){iT(r,i,o,s)(c)}return[l,a]}function hT(e,t){return Ui(t)?t(e.current):t}function mT(e,t){return e.current=yp(yp({},e.current),t),t}function gT(e,t,n){return Ui(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var yT={create:pT},vT={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function xT(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return t.apply(n,[].concat(i,l))}}}function wT(e){return{}.toString.call(e).includes("Object")}function NT(e){return e||vp("configIsRequired"),wT(e)||vp("configType"),e.urls?(ST(),{paths:{vs:e.urls.monacoBase}}):e}function ST(){console.warn(L0.deprecation)}function ET(e,t){throw new Error(e[t]||e.default)}var L0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},vp=xT(ET)(L0),CT={config:NT},kT=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function O0(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],O0(e[n],t[n]))}),mp(mp({},e),t)}var jT={type:"cancelation",msg:"operation is manually canceled"};function sa(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(jT):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var TT=["monaco"],bT=yT.create({config:vT,isInitialized:!1,resolve:null,reject:null,monaco:null}),$0=Jj(bT,2),no=$0[0],hl=$0[1];function IT(e){var t=CT.config(e),n=t.monaco,r=qj(t,TT);hl(function(i){return{config:O0(i.config,r),monaco:n}})}function _T(){var e=no(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(hl({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),sa(la);if(window.monaco&&window.monaco.editor)return D0(window.monaco),e.resolve(window.monaco),sa(la);kT(MT,PT)(AT)}return sa(la)}function MT(e){return document.body.appendChild(e)}function RT(e){var t=document.createElement("script");return e&&(t.src=e),t}function PT(e){var t=no(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=RT("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function AT(){var e=no(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;D0(r),e.resolve(r)},function(n){e.reject(n)})}function D0(e){no().monaco||hl({monaco:e})}function LT(){return no(function(e){var t=e.monaco;return t})}var la=new Promise(function(e,t){return hl({resolve:e,reject:t})}),z0={config:IT,init:_T,__getMonacoInstance:LT},OT={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},aa=OT,$T={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},DT=$T;function zT({children:e}){return Ot.createElement("div",{style:DT.container},e)}var FT=zT,BT=FT;function HT({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:s}){return Ot.createElement("section",{style:{...aa.wrapper,width:e,height:t},...s},!n&&Ot.createElement(BT,null,r),Ot.createElement("div",{ref:i,style:{...aa.fullWidth,...!n&&aa.hide},className:o}))}var VT=HT,F0=I.memo(VT);function UT(e){I.useEffect(e,[])}var B0=UT;function WT(e,t,n=!0){let r=I.useRef(!0);I.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Ye=WT;function yi(){}function ur(e,t,n,r){return GT(e,r)||YT(e,t,n,r)}function GT(e,t){return e.editor.getModel(H0(e,t))}function YT(e,t,n,r){return e.editor.createModel(t,n,r?H0(e,r):void 0)}function H0(e,t){return e.Uri.parse(t)}function KT({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:a=!1,theme:c="light",loading:f="Loading...",options:d={},height:p="100%",width:v="100%",className:y,wrapperProps:w={},beforeMount:N=yi,onMount:h=yi}){let[g,m]=I.useState(!1),[x,S]=I.useState(!0),E=I.useRef(null),C=I.useRef(null),b=I.useRef(null),R=I.useRef(h),O=I.useRef(N),P=I.useRef(!1);B0(()=>{let M=z0.init();return M.then(_=>(C.current=_)&&S(!1)).catch(_=>(_==null?void 0:_.type)!=="cancelation"&&console.error("Monaco initialization: error:",_)),()=>E.current?j():M.cancel()}),Ye(()=>{if(E.current&&C.current){let M=E.current.getOriginalEditor(),_=ur(C.current,e||"",r||n||"text",o||"");_!==M.getModel()&&M.setModel(_)}},[o],g),Ye(()=>{if(E.current&&C.current){let M=E.current.getModifiedEditor(),_=ur(C.current,t||"",i||n||"text",s||"");_!==M.getModel()&&M.setModel(_)}},[s],g),Ye(()=>{let M=E.current.getModifiedEditor();M.getOption(C.current.editor.EditorOption.readOnly)?M.setValue(t||""):t!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[t],g),Ye(()=>{var M,_;(_=(M=E.current)==null?void 0:M.getModel())==null||_.original.setValue(e||"")},[e],g),Ye(()=>{let{original:M,modified:_}=E.current.getModel();C.current.editor.setModelLanguage(M,r||n||"text"),C.current.editor.setModelLanguage(_,i||n||"text")},[n,r,i],g),Ye(()=>{var M;(M=C.current)==null||M.editor.setTheme(c)},[c],g),Ye(()=>{var M;(M=E.current)==null||M.updateOptions(d)},[d],g);let A=I.useCallback(()=>{var $;if(!C.current)return;O.current(C.current);let M=ur(C.current,e||"",r||n||"text",o||""),_=ur(C.current,t||"",i||n||"text",s||"");($=E.current)==null||$.setModel({original:M,modified:_})},[n,t,i,e,r,o,s]),F=I.useCallback(()=>{var M;!P.current&&b.current&&(E.current=C.current.editor.createDiffEditor(b.current,{automaticLayout:!0,...d}),A(),(M=C.current)==null||M.editor.setTheme(c),m(!0),P.current=!0)},[d,c,A]);I.useEffect(()=>{g&&R.current(E.current,C.current)},[g]),I.useEffect(()=>{!x&&!g&&F()},[x,g,F]);function j(){var _,$,k,T;let M=(_=E.current)==null?void 0:_.getModel();l||(($=M==null?void 0:M.original)==null||$.dispose()),a||((k=M==null?void 0:M.modified)==null||k.dispose()),(T=E.current)==null||T.dispose()}return Ot.createElement(F0,{width:v,height:p,isEditorReady:g,loading:f,_ref:b,className:y,wrapperProps:w})}var QT=KT;I.memo(QT);function XT(e){let t=I.useRef();return I.useEffect(()=>{t.current=e},[e]),t.current}var qT=XT,Po=new Map;function ZT({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:s="light",line:l,loading:a="Loading...",options:c={},overrideServices:f={},saveViewState:d=!0,keepCurrentModel:p=!1,width:v="100%",height:y="100%",className:w,wrapperProps:N={},beforeMount:h=yi,onMount:g=yi,onChange:m,onValidate:x=yi}){let[S,E]=I.useState(!1),[C,b]=I.useState(!0),R=I.useRef(null),O=I.useRef(null),P=I.useRef(null),A=I.useRef(g),F=I.useRef(h),j=I.useRef(),M=I.useRef(r),_=qT(o),$=I.useRef(!1),k=I.useRef(!1);B0(()=>{let D=z0.init();return D.then(z=>(R.current=z)&&b(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>O.current?L():D.cancel()}),Ye(()=>{var z,H,V,Y;let D=ur(R.current,e||r||"",t||i||"",o||n||"");D!==((z=O.current)==null?void 0:z.getModel())&&(d&&Po.set(_,(H=O.current)==null?void 0:H.saveViewState()),(V=O.current)==null||V.setModel(D),d&&((Y=O.current)==null||Y.restoreViewState(Po.get(o))))},[o],S),Ye(()=>{var D;(D=O.current)==null||D.updateOptions(c)},[c],S),Ye(()=>{!O.current||r===void 0||(O.current.getOption(R.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(k.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),k.current=!1))},[r],S),Ye(()=>{var z,H;let D=(z=O.current)==null?void 0:z.getModel();D&&i&&((H=R.current)==null||H.editor.setModelLanguage(D,i))},[i],S),Ye(()=>{var D;l!==void 0&&((D=O.current)==null||D.revealLine(l))},[l],S),Ye(()=>{var D;(D=R.current)==null||D.editor.setTheme(s)},[s],S);let T=I.useCallback(()=>{var D;if(!(!P.current||!R.current)&&!$.current){F.current(R.current);let z=o||n,H=ur(R.current,r||e||"",t||i||"",z||"");O.current=(D=R.current)==null?void 0:D.editor.create(P.current,{model:H,automaticLayout:!0,...c},f),d&&O.current.restoreViewState(Po.get(z)),R.current.editor.setTheme(s),l!==void 0&&O.current.revealLine(l),E(!0),$.current=!0}},[e,t,n,r,i,o,c,f,d,s,l]);I.useEffect(()=>{S&&A.current(O.current,R.current)},[S]),I.useEffect(()=>{!C&&!S&&T()},[C,S,T]),M.current=r,I.useEffect(()=>{var D,z;S&&m&&((D=j.current)==null||D.dispose(),j.current=(z=O.current)==null?void 0:z.onDidChangeModelContent(H=>{k.current||m(O.current.getValue(),H)}))},[S,m]),I.useEffect(()=>{if(S){let D=R.current.editor.onDidChangeMarkers(z=>{var V;let H=(V=O.current.getModel())==null?void 0:V.uri;if(H&&z.find(Y=>Y.path===H.path)){let Y=R.current.editor.getModelMarkers({resource:H});x==null||x(Y)}});return()=>{D==null||D.dispose()}}return()=>{}},[S,x]);function L(){var D,z;(D=j.current)==null||D.dispose(),p?d&&Po.set(o,O.current.saveViewState()):(z=O.current.getModel())==null||z.dispose(),O.current.dispose()}return Ot.createElement(F0,{width:v,height:y,isEditorReady:S,loading:a,_ref:P,className:w,wrapperProps:N})}var JT=ZT,eb=I.memo(JT),tb=eb;function nb(){const{generatedSQL:e,viewMode:t,updateSQL:n,importSQL:r,getSQLValidation:i,regenerateSQL:o}=$r(),s=I.useRef(null),[l,a]=I.useState(!1),[c,f]=I.useState([]),[d,p]=I.useState("idle"),v=I.useCallback((h,g)=>{s.current=h,g.languages.register({id:"eventflux-sql"}),g.languages.setMonarchTokensProvider("eventflux-sql",{defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,keywords:["CREATE","STREAM","TABLE","TRIGGER","DROP","ALTER","SELECT","FROM","WHERE","INSERT","INTO","UPDATE","DELETE","GROUP","BY","HAVING","ORDER","LIMIT","OFFSET","WINDOW","PARTITION","JOIN","INNER","LEFT","RIGHT","FULL","OUTER","ON","AS","DISTINCT","ALL","AND","OR","NOT","IN","IS","NULL","BETWEEN","LIKE","CASE","WHEN","THEN","ELSE","END","CAST","PATTERN","SEQUENCE","EVERY","WITHIN","FOR","AT","START","CRON","CURRENT","EXPIRED","EVENTS","OUTPUT","PRIMARY","KEY","WITH","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","LENGTH","TIME","BATCH","TUMBLING","SLIDING","SESSION","SORT","COUNT","SUM","AVG","MIN","MAX","FIRST","LAST","STDDEV","VARIANCE"],typeKeywords:["INT","INTEGER","LONG","BIGINT","FLOAT","DOUBLE","REAL","STRING","VARCHAR","CHAR","TEXT","BOOL","BOOLEAN","TIMESTAMP","DATE","TIME","OBJECT"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/--.*$/,"comment"],[/\/\*/,"comment","@comment"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'/,"string","@string_single"],[/"/,"string","@string_double"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"identifier"}}],[/[{}()\[\]]/,"@brackets"],[/[;,.]/,"delimiter"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}}),g.languages.registerCompletionItemProvider("eventflux-sql",{provideCompletionItems:(m,x)=>{const S=m.getWordUntilPosition(x),E={startLineNumber:x.lineNumber,endLineNumber:x.lineNumber,startColumn:S.startColumn,endColumn:S.endColumn};return{suggestions:[{label:"CREATE STREAM",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE STREAM ${1:StreamName} (\n  ${2:id} INT,\n  ${3:value} DOUBLE\n);",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a new stream",range:E},{label:"CREATE TABLE",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE TABLE ${1:TableName} (\n  ${2:key} STRING,\n  ${3:value} STRING\n) PRIMARY KEY (${2:key});",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a new table",range:E},{label:"CREATE TRIGGER",kind:g.languages.CompletionItemKind.Snippet,insertText:"CREATE TRIGGER ${1:TriggerName} AT EVERY ${2:1000} MILLISECONDS;",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Create a periodic trigger",range:E},{label:"SELECT FROM",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName}\nINSERT INTO ${3:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Basic query",range:E},{label:"SELECT WITH WINDOW",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName} WINDOW('${3:length}', ${4:10})\nINSERT INTO ${5:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with window",range:E},{label:"SELECT WITH FILTER",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:*}\nFROM ${2:StreamName}\nWHERE ${3:value} > ${4:100}\nINSERT INTO ${5:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with filter",range:E},{label:"SELECT WITH GROUP BY",kind:g.languages.CompletionItemKind.Snippet,insertText:"SELECT ${1:symbol}, COUNT(*) AS total\nFROM ${2:StreamName} WINDOW('${3:timeBatch}', 5 SECONDS)\nGROUP BY ${1:symbol}\nINSERT INTO ${4:OutputStream};",insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"Query with aggregation",range:E},...["SELECT","FROM","WHERE","GROUP BY","HAVING","ORDER BY","INSERT INTO","WINDOW","JOIN","ON","AND","OR","NOT","AS","DISTINCT"].map(b=>({label:b,kind:g.languages.CompletionItemKind.Keyword,insertText:b,range:E})),...["length","lengthBatch","time","timeBatch","tumbling","sliding","session","externalTime","sort"].map(b=>({label:`WINDOW('${b}')`,kind:g.languages.CompletionItemKind.Function,insertText:`WINDOW('${b}', \${1:params})`,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`${b} window`,range:E})),...["COUNT","SUM","AVG","MIN","MAX","FIRST","LAST","STDDEV","VARIANCE"].map(b=>({label:b,kind:g.languages.CompletionItemKind.Function,insertText:`${b}(\${1:*})`,insertTextRules:g.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:`${b} aggregation`,range:E})),...["INT","LONG","DOUBLE","FLOAT","STRING","BOOL"].map(b=>({label:b,kind:g.languages.CompletionItemKind.TypeParameter,insertText:b,range:E}))]}}}),h.updateOptions({fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, 'Courier New', monospace",minimap:{enabled:!1},lineNumbers:"on",renderLineHighlight:"line",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0})},[]),y=I.useCallback(h=>{if(h!==void 0){n(h),a(!0),p("idle");const{valid:g,errors:m}=i(h);f(g?[]:m)}},[n,i]),w=I.useCallback(()=>{const{success:h,errors:g}=r(e);h?(p("success"),a(!1),f([]),setTimeout(()=>p("idle"),2e3)):(p("error"),f(g))},[r,e]),N=I.useCallback(()=>{o(),a(!1),f([]),p("idle")},[o]);return t==="visual"?null:u.jsxs("div",{className:`flex flex-col ${t==="split"?"h-1/2 border-t border-vscode-border":"flex-1"}`,children:[u.jsxs("div",{className:"px-3 py-2 bg-gray-900/50 border-b border-vscode-border flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"EventFlux SQL"}),l&&u.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Modified"]}),c.length>0&&u.jsxs("span",{className:"text-xs text-red-400 flex items-center gap-1",children:[u.jsx(dp,{size:12}),c.length," error",c.length>1?"s":""]}),d==="success"&&u.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[u.jsx(T0,{size:12}),"Imported successfully"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l&&u.jsxs("button",{onClick:N,className:"text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded flex items-center gap-1 text-gray-300",title:"Discard changes and regenerate from visual model",children:[u.jsx(gj,{size:12}),"Reset"]}),u.jsxs("button",{onClick:w,disabled:c.length>0,className:`text-xs px-2 py-1 rounded flex items-center gap-1 ${c.length>0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,title:"Import SQL to visual model",children:[u.jsx(xj,{size:12}),"Import to Visual"]})]})]}),c.length>0&&u.jsx("div",{className:"px-3 py-2 bg-red-900/20 border-b border-red-900/50",children:u.jsx("div",{className:"text-xs text-red-400 space-y-1",children:c.map((h,g)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(dp,{size:12,className:"mt-0.5 flex-shrink-0"}),u.jsx("span",{children:h})]},g))})}),u.jsx("div",{className:"flex-1",children:u.jsx(tb,{height:"100%",defaultLanguage:"eventflux-sql",value:e,theme:"vs-dark",onMount:v,onChange:y,options:{readOnly:!1}})})]})}const rb=I.memo(({data:e,selected:t})=>{const n=e,r={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",timer:"Timer",websocket:"WebSocket"};return u.jsxs("div",{className:`element-node source ${t?"selected ring-source":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(ul,{className:"w-4 h-4"}),u.jsx("span",{children:n.sourceName||"Source"})]}),u.jsxs("div",{className:"element-node-body",children:[u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{className:"px-2 py-0.5 bg-source/20 text-source rounded text-xs font-medium",children:r[n.sourceType||"kafka"]||n.sourceType})}),n.config&&Object.keys(n.config).length>0&&u.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-center",children:[Object.keys(n.config).length," config params"]})]}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-source"})]})}),ib=I.memo(({data:e,selected:t})=>{const n=e,r={kafka:"Kafka",http:"HTTP",mqtt:"MQTT",file:"File",log:"Log",websocket:"WebSocket"};return u.jsxs("div",{className:`element-node sink ${t?"selected ring-sink":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-sink"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(cl,{className:"w-4 h-4"}),u.jsx("span",{children:n.sinkName||"Sink"})]}),u.jsxs("div",{className:"element-node-body",children:[u.jsx("div",{className:"flex items-center justify-center gap-2",children:u.jsx("span",{className:"px-2 py-0.5 bg-sink/20 text-sink rounded text-xs font-medium",children:r[n.sinkType||"log"]||n.sinkType})}),n.config&&Object.keys(n.config).length>0&&u.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-center",children:[Object.keys(n.config).length," config params"]})]})]})}),ob=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node stream ${t?"selected ring-stream":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-stream"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(dl,{className:"w-4 h-4"}),u.jsx("span",{children:n.streamName||"Stream"})]}),u.jsxs("div",{className:"element-node-body",children:[(r=n.attributes)==null?void 0:r.slice(0,4).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.name}),u.jsx("span",{className:"element-node-attribute-type",children:i.type})]},o)),n.attributes&&n.attributes.length>4&&u.jsxs("div",{className:"text-gray-500 text-center",children:["+",n.attributes.length-4," more"]})]}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-stream"})]})}),sb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node table ${t?"selected ring-table":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(fl,{className:"w-4 h-4"}),u.jsx("span",{children:n.tableName||"Table"})]}),u.jsx("div",{className:"element-node-body",children:(r=n.attributes)==null?void 0:r.slice(0,4).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.name}),u.jsx("span",{className:"element-node-attribute-type",children:i.type})]},o))}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-table"})]})}),lb=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{switch(n.triggerType){case"start":return"AT START";case"periodic":return`EVERY ${n.atEvery||1e3}ms`;case"cron":return n.cronExpression||"CRON";default:return"Trigger"}};return u.jsxs("div",{className:`element-node trigger ${t?"selected ring-trigger":""}`,children:[u.jsxs("div",{className:"element-node-header",children:[u.jsx(Bc,{className:"w-4 h-4"}),u.jsx("span",{children:n.triggerId||"Trigger"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r()})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-trigger"})]})}),ab=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{const i=n.parameters||{};switch(n.windowType){case"length":return`length(${i.count||10})`;case"lengthBatch":return`lengthBatch(${i.count||10})`;case"time":case"timeBatch":case"tumbling":const o=i.duration;return`${n.windowType}(${(o==null?void 0:o.value)||5} ${(o==null?void 0:o.unit)||"SEC"})`;case"sliding":const s=i.duration,l=i.slideInterval;return`sliding(${(s==null?void 0:s.value)||10}, ${(l==null?void 0:l.value)||2})`;case"session":const a=i.gapDuration;return`session(${(a==null?void 0:a.value)||30} ${(a==null?void 0:a.unit)||"SEC"})`;default:return n.windowType||"window"}};return u.jsxs("div",{className:`element-node window ${t?"selected ring-window":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-window"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Ac,{className:"w-4 h-4"}),u.jsx("span",{children:"Window"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono",children:r()})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-window"})]})}),ub=I.memo(({data:e,selected:t})=>{const n=e,r=()=>{var a,c;const i=n.condition;if(!i)return"No condition";const o=((a=i.left)==null?void 0:a.variableName)||"?",s=i.operator||"=",l=(c=i.right)==null?void 0:c.constantValue;return`${o} ${s} ${l??"?"}`};return u.jsxs("div",{className:`element-node filter ${t?"selected ring-filter":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-filter"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Oc,{className:"w-4 h-4"}),u.jsx("span",{children:"Filter"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:r()})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-filter"})]})}),cb=I.memo(({data:e,selected:t})=>{var i;const r=((i=e.selectList)==null?void 0:i.length)||0;return u.jsxs("div",{className:`element-node projection ${t?"selected ring-projection":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-projection"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:"Projection"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r>0?`${r} columns`:"SELECT *"})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-projection"})]})}),db=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node aggregation ${t?"selected ring-aggregation":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-aggregation"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Rc,{className:"w-4 h-4"}),u.jsx("span",{children:"Aggregation"})]}),u.jsxs("div",{className:"element-node-body",children:[(r=n.aggregations)==null?void 0:r.slice(0,3).map((i,o)=>u.jsxs("div",{className:"element-node-attribute",children:[u.jsx("span",{className:"element-node-attribute-name",children:i.type}),u.jsx("span",{className:"element-node-attribute-type",children:i.alias})]},o)),(!n.aggregations||n.aggregations.length===0)&&u.jsx("div",{className:"text-center text-gray-500",children:"No aggregations"})]}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-aggregation"})]})}),fb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node aggregation ${t?"selected ring-aggregation":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-aggregation"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Dc,{className:"w-4 h-4"}),u.jsx("span",{children:"Group By"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:((r=n.groupByAttributes)==null?void 0:r.join(", "))||"No columns"})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-aggregation"})]})}),pb=I.memo(({data:e,selected:t})=>{const r={inner:"INNER JOIN",left_outer:"LEFT JOIN",right_outer:"RIGHT JOIN",full_outer:"FULL JOIN"}[e.joinType||"inner"]||"JOIN";return u.jsxs("div",{className:`element-node join ${t?"selected ring-join":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"left",style:{top:"30%"},className:"!bg-join"}),u.jsx(ae,{type:"target",position:U.Left,id:"right",style:{top:"70%"},className:"!bg-join"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx($c,{className:"w-4 h-4"}),u.jsx("span",{children:"Join"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center",children:r})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-join"})]})}),hb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node pattern ${t?"selected ring-pattern":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input-1",style:{top:"30%"},className:"!bg-pattern"}),u.jsx(ae,{type:"target",position:U.Left,id:"input-2",style:{top:"70%"},className:"!bg-pattern"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(Fc,{className:"w-4 h-4"}),u.jsx("span",{children:((r=n.mode)==null?void 0:r.toUpperCase())||"PATTERN"})]}),u.jsx("div",{className:"element-node-body",children:n.withinConstraint&&u.jsxs("div",{className:"text-center text-xs",children:["WITHIN ",n.withinConstraint.value," ",n.withinConstraint.unit||""]})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-pattern"})]})}),mb=I.memo(({data:e,selected:t})=>{var r;const n=e;return u.jsxs("div",{className:`element-node partition ${t?"selected ring-partition":""}`,children:[u.jsx(ae,{type:"target",position:U.Left,id:"input",className:"!bg-partition"}),u.jsxs("div",{className:"element-node-header",children:[u.jsx(zc,{className:"w-4 h-4"}),u.jsx("span",{children:"Partition"})]}),u.jsx("div",{className:"element-node-body",children:u.jsx("div",{className:"text-center font-mono text-xs",children:((r=n.partitionBy)==null?void 0:r.map(i=>i.attribute).join(", "))||"No partition key"})}),u.jsx(ae,{type:"source",position:U.Right,id:"output",className:"!bg-partition"})]})}),gb={source:rb,stream:ob,table:sb,trigger:lb,window:ab,filter:ub,projection:cb,aggregation:db,groupBy:fb,join:pb,pattern:hb,partition:mb,sink:ib},xp={source:{maxInputs:0,maxOutputs:1,canBeSource:!0,canBeSink:!1,allowedTargets:["stream"]},sink:{maxInputs:1,maxOutputs:0,canBeSource:!1,canBeSink:!0,allowedSources:["stream"]},stream:{maxInputs:null,maxOutputs:null,canBeSource:!0,canBeSink:!0,allowedSources:["source","window","filter","projection","aggregation","groupBy","join","pattern","partition"],allowedTargets:["window","filter","projection","aggregation","groupBy","join","pattern","partition","sink","stream"]},trigger:{maxInputs:0,maxOutputs:null,canBeSource:!0,canBeSink:!1,allowedTargets:["window","filter","projection","aggregation","groupBy","stream"]},table:{maxInputs:null,maxOutputs:null,canBeSource:!0,canBeSink:!0,allowedTargets:["window","filter","projection","aggregation","groupBy","join","stream"]},window:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger"],allowedTargets:["filter","projection","aggregation","groupBy","stream"]},filter:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window"],allowedTargets:["window","filter","projection","aggregation","groupBy","join","stream"]},projection:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter","aggregation","groupBy","join"],allowedTargets:["filter","projection","stream"]},aggregation:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter","groupBy"],allowedTargets:["projection","filter","stream"]},groupBy:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","trigger","window","filter"],allowedTargets:["aggregation","projection","stream"]},join:{maxInputs:2,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","table","window","filter"],allowedTargets:["filter","projection","aggregation","groupBy","stream"]},pattern:{maxInputs:null,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream"],allowedTargets:["filter","projection","stream"]},partition:{maxInputs:1,maxOutputs:1,canBeSource:!1,canBeSink:!1,allowedSources:["stream","window","filter"],allowedTargets:["window","filter","projection","aggregation","groupBy","stream"]}};function yb(e,t,n){const r=t.find(f=>f.id===e.source),i=t.find(f=>f.id===e.target);if(!r||!i)return{valid:!1,reason:"Source or target node not found"};const o=r.type,s=i.type,l=xp[o],a=xp[s];return!l||!a?{valid:!1,reason:"Unknown element type"}:l.maxOutputs!==null&&n.filter(d=>d.source===e.source).length>=l.maxOutputs?{valid:!1,reason:`${Kn(o)} can only have ${l.maxOutputs} output connection${l.maxOutputs===1?"":"s"}`}:a.maxInputs!==null&&n.filter(d=>d.target===e.target).length>=a.maxInputs?{valid:!1,reason:`${Kn(s)} can only have ${a.maxInputs} input connection${a.maxInputs===1?"":"s"}`}:l.allowedTargets&&!l.allowedTargets.includes(s)?{valid:!1,reason:`${Kn(o)} cannot connect to ${Kn(s)}`}:a.allowedSources&&!a.allowedSources.includes(o)?{valid:!1,reason:`${Kn(s)} cannot receive connections from ${Kn(o)}`}:n.find(f=>f.source===e.source&&f.target===e.target)?{valid:!1,reason:"Connection already exists"}:e.source===e.target?{valid:!1,reason:"Cannot connect element to itself"}:{valid:!0}}function Kn(e){return{source:"Source",sink:"Sink",stream:"Stream",table:"Table",trigger:"Trigger",window:"Window",filter:"Filter",projection:"Projection",aggregation:"Aggregation",groupBy:"Group By",join:"Join",pattern:"Pattern",partition:"Partition"}[e]||e}function vb({onConnectionError:e}){const{selectElement:t,setNodes:n,setEdges:r,nodes:i,edges:o}=$r(),[s,l,a]=lk(i),[c,f,d]=ak(o),p=I.useRef(!1),v=I.useRef("");I.useEffect(()=>{const x=s.map(C=>`${C.id}:${C.position.x}:${C.position.y}`).join(","),S=c.map(C=>`${C.id}:${C.source}:${C.target}`).join(","),E=`${x}|${S}`;E!==v.current&&(p.current=!0,v.current=E,n(s),r(c),setTimeout(()=>{p.current=!1},0))},[s,c,n,r]),I.useEffect(()=>{p.current||i.length===0||l(x=>{let S=!1;const E=x.map(C=>{const b=i.find(R=>R.id===C.id);return b&&JSON.stringify(C.data)!==JSON.stringify(b.data)?(S=!0,{...C,data:b.data}):C});return S?E:x})},[i,l]);const y=I.useCallback(x=>{const S=yb(x,s,c);if(!S.valid){e(S.reason||"Invalid connection");return}f(E=>jg({...x,animated:!0},E))},[f,s,c,e]),w=I.useCallback((x,S)=>{t(S.id)},[t]),N=I.useCallback(()=>{t(null)},[t]),h=I.useCallback((x,S)=>{t(null),f(E=>E.map(C=>({...C,selected:C.id===S.id})))},[t,f]),g=I.useCallback(x=>{x.preventDefault();const S=x.dataTransfer.getData("application/reactflow");if(!S)return;const E=x.currentTarget.getBoundingClientRect(),C={x:x.clientX-E.left,y:x.clientY-E.top},b={id:`${S}-${Date.now()}`,type:S,position:C,data:Sb(S,s)};l(R=>[...R,b])},[l,s]),m=I.useCallback(x=>{x.preventDefault(),x.dataTransfer.dropEffect="move"},[]);return u.jsx("div",{className:"w-full h-full",children:u.jsxs(sk,{nodes:s,edges:c,onNodesChange:a,onEdgesChange:d,onConnect:y,onNodeClick:w,onEdgeClick:h,onPaneClick:N,onDrop:g,onDragOver:m,nodeTypes:gb,fitView:!0,fitViewOptions:{maxZoom:.8,minZoom:.3,padding:.2},minZoom:.2,maxZoom:2,snapToGrid:!0,snapGrid:[20,20],deleteKeyCode:["Backspace","Delete"],defaultEdgeOptions:{animated:!0,style:{stroke:"#6366f1",strokeWidth:2}},children:[u.jsx(pk,{variant:Dt.Dots,gap:20,size:1,color:"#444"}),u.jsx(wk,{}),u.jsx(Pk,{nodeStrokeWidth:3,pannable:!0,zoomable:!0,style:{backgroundColor:"#1e1e1e"}})]})})}function xb(){const{loadApplication:e,setConfig:t,viewMode:n}=$r(),[r,i]=I.useState("properties"),[o,s]=I.useState(null),l=I.useCallback((c,f="error")=>{s({message:c,type:f}),setTimeout(()=>s(null),3e3)},[]),a=I.useCallback(c=>{l(c,"error")},[l]);return I.useEffect(()=>{const c=f=>{const d=f.data;switch(d.type){case"load":d.data&&e(d.data);break;case"config":t(d.config);break;case"error":console.error("VS Code error:",d.message);break}};return window.addEventListener("message",c),vr.postMessage({type:"ready"}),vr.postMessage({type:"getConfig"}),()=>{window.removeEventListener("message",c)}},[e,t]),u.jsx(N0,{children:u.jsxs("div",{className:"h-screen flex flex-col bg-vscode-bg text-vscode-fg",children:[u.jsx(wj,{}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n!=="sql"&&u.jsx(Sj,{}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:`${n==="split"?"h-1/2":"flex-1"} relative`,style:{minHeight:"300px",display:n==="sql"?"none":"block"},children:[u.jsx(vb,{onConnectionError:a}),o&&u.jsx("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg z-50 text-sm font-medium transition-opacity ${o.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:o.message})]}),n!=="visual"&&u.jsx(nb,{})]}),n!=="sql"&&u.jsxs("div",{className:"w-72 border-l border-vscode-border bg-gray-900/30 flex flex-col",children:[u.jsxs("div",{className:"flex border-b border-vscode-border",children:[u.jsx("button",{onClick:()=>i("properties"),className:`flex-1 px-3 py-2 text-xs font-medium transition-colors ${r==="properties"?"text-white bg-gray-800/50 border-b-2 border-indigo-500":"text-gray-400 hover:text-white hover:bg-gray-800/30"}`,children:"Properties"}),u.jsx("button",{onClick:()=>i("config"),className:`flex-1 px-3 py-2 text-xs font-medium transition-colors ${r==="config"?"text-white bg-gray-800/50 border-b-2 border-indigo-500":"text-gray-400 hover:text-white hover:bg-gray-800/30"}`,children:"Config"})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:r==="properties"?u.jsx(wb,{}):u.jsx(Gj,{})})]})]})]})})}function wb(){return u.jsx(bj,{})}function Nb(e,t,n){const r=new RegExp(`^${t.charAt(0).toUpperCase()+t.slice(1)}(\\d+)$`);let i=0;for(const o of e)if(o.type===t){const s=o.data[n];if(s){const l=s.match(r);l&&(i=Math.max(i,parseInt(l[1],10)))}}return i+1}function Sb(e,t=[]){const n=r=>Nb(t,e,r);switch(e){case"source":return{sourceName:`Source${n("sourceName")}`,sourceType:"kafka",config:{"bootstrap.servers":"localhost:9092",topic:"events","group.id":"eventflux-consumer"}};case"sink":return{sinkName:`Sink${n("sinkName")}`,sinkType:"log",config:{}};case"stream":return{streamName:`Stream${n("streamName")}`,attributes:[{name:"id",type:"INT"},{name:"value",type:"DOUBLE"}]};case"table":return{tableName:`Table${n("tableName")}`,attributes:[{name:"key",type:"STRING"},{name:"value",type:"STRING"}]};case"trigger":return{triggerId:`Trigger${n("triggerId")}`,triggerType:"periodic",atEvery:1e3};case"window":return{windowType:"length",parameters:{count:10}};case"filter":return{condition:{type:"compare",operator:">",left:{type:"variable",variableName:"value"},right:{type:"constant",constantValue:0}}};case"projection":return{selectList:[]};case"aggregation":return{aggregations:[]};case"groupBy":return{groupByAttributes:[]};case"join":return{joinType:"inner",onCondition:null};case"pattern":return{mode:"pattern",patternExpression:{type:"stream",streamName:""}};case"partition":return{partitionBy:[]};default:return{}}}ua.createRoot(document.getElementById("root")).render(u.jsx(Ot.StrictMode,{children:u.jsx(xb,{})}));
//# sourceMappingURL=index.js.map
